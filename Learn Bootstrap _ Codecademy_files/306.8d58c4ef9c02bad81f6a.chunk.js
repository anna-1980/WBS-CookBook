(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[306],{"03kh":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var o=i("qj0h"),n=i("Vxe3"),r=i("nB0o"),s=i("nnTU"),a=i("T8No"),d=i("Cg/j"),l=i("sM1p"),u=i("t9D7"),h=i("R3nR"),c=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},p=function(e){function EmbeddedCodeEditorWidget(t,i,o,n,r,s,a,d,l,u){var h=e.call(this,t,o.getRawOptions(),{},n,r,s,a,d,l,u)||this;return h._parentEditor=o,h._overwriteOptions=i,e.prototype.updateOptions.call(h,h._overwriteOptions),h._register(o.onDidChangeConfiguration((function(e){return h._onParentConfigurationChanged(e)}))),h}return c(EmbeddedCodeEditorWidget,e),EmbeddedCodeEditorWidget.prototype.getParentEditor=function(){return this._parentEditor},EmbeddedCodeEditorWidget.prototype._onParentConfigurationChanged=function(t){e.prototype.updateOptions.call(this,this._parentEditor.getRawOptions()),e.prototype.updateOptions.call(this,this._overwriteOptions)},EmbeddedCodeEditorWidget.prototype.updateOptions=function(t){o.g(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},EmbeddedCodeEditorWidget=__decorate([__param(3,d.a),__param(4,n.a),__param(5,s.b),__param(6,a.c),__param(7,u.c),__param(8,l.a),__param(9,h.b)],EmbeddedCodeEditorWidget)}(r.a)},"0Lb2":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var o=i("FWmy"),n=i("MI8n"),r=i("pmY6"),s=i("qj0h"),a=i("aokT"),d=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),l={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},u=function(e){function DiffNavigator(t,i){void 0===i&&(i={});var o=e.call(this)||this;return o._onDidUpdate=o._register(new n.a),o._editor=t,o._options=s.g(i,l,!1),o.disposed=!1,o.nextIdx=-1,o.ranges=[],o.ignoreSelectionChange=!1,o.revealFirst=Boolean(o._options.alwaysRevealFirst),o._register(o._editor.onDidDispose((function(){return o.dispose()}))),o._register(o._editor.onDidUpdateDiff((function(){return o._onDiffUpdated()}))),o._options.followsCaret&&o._register(o._editor.getModifiedEditor().onDidChangeCursorPosition((function(e){o.ignoreSelectionChange||(o.nextIdx=-1)}))),o._options.alwaysRevealFirst&&o._register(o._editor.getModifiedEditor().onDidChangeModel((function(e){o.revealFirst=!0}))),o._init(),o}return d(DiffNavigator,e),DiffNavigator.prototype._init=function(){this._editor.getLineChanges()},DiffNavigator.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))},DiffNavigator.prototype._compute=function(e){var t=this;this.ranges=[],e&&e.forEach((function(e){!t._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((function(e){t.ranges.push({rhs:!0,range:new a.a(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):t.ranges.push({rhs:!0,range:new a.a(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})})),this.ranges.sort((function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0})),this._onDidUpdate.fire(this)},DiffNavigator.prototype._initIdx=function(e){var t=!1,i=this._editor.getPosition();if(i){for(var o=0,n=this.ranges.length;o<n&&!t;o++){var r=this.ranges[o].range;i.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=o+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0},DiffNavigator.prototype._move=function(e,t){if(o.a(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealPositionInCenter(n,t)}finally{this.ignoreSelectionChange=!1}}},DiffNavigator.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},DiffNavigator.prototype.next=function(e){void 0===e&&(e=0),this._move(!0,e)},DiffNavigator.prototype.previous=function(e){void 0===e&&(e=0),this._move(!1,e)},DiffNavigator.prototype.dispose=function(){e.prototype.dispose.call(this),this.ranges=[],this.disposed=!0},DiffNavigator}(r.a)},"4JZe":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var o=i("4tyL"),n=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),r=function(e){function DynamicViewOverlay(){return null!==e&&e.apply(this,arguments)||this}return n(DynamicViewOverlay,e),DynamicViewOverlay}(o.a)},NpUS:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var o=i("EffR"),n=i("24hK"),r=i("Q4rV"),s=i("tYmi"),a=i("gslv"),d=i("bY76"),l=i("Vxe3"),u=i("nnTU"),h=i("W9cx"),c=i("fAkz"),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__spreadArrays=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,n++)o[n]=r[s];return o},p=function(){function CommandOpener(e){this._commandService=e}return CommandOpener.prototype.open=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(o){switch(o.label){case 0:if(!Object(h.c)(e,s.b.command))return[2,!1];if("string"==typeof e&&(e=d.a.parse(e)),!u.a.getCommand(e.path))throw new Error("command '"+e.path+"' NOT known");t=[];try{t=Object(r.a)(decodeURIComponent(e.query))}catch(i){try{t=Object(r.a)(e.query)}catch(e){}}return Array.isArray(t)||(t=[t]),[4,(i=this._commandService).executeCommand.apply(i,__spreadArrays([e.path],t))];case 1:return o.sent(),[2,!0]}}))}))},CommandOpener=__decorate([__param(0,u.b)],CommandOpener)}(),g=function(){function EditorOpener(e){this._editorService=e}return EditorOpener.prototype.open=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,o;return __generator(this,(function(n){switch(n.label){case 0:return"string"==typeof e&&(e=d.a.parse(e)),i=void 0,(o=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment))&&(i={startLineNumber:parseInt(o[1]),startColumn:o[2]?parseInt(o[2]):1},e=e.with({fragment:""})),e.scheme===s.b.file&&(e=Object(a.g)(e)),[4,this._editorService.openCodeEditor({resource:e,options:{selection:i,context:(null==t?void 0:t.fromUserGesture)?c.a.USER:c.a.API}},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide)];case 1:return n.sent(),[2,!0]}}))}))},EditorOpener=__decorate([__param(0,l.a)],EditorOpener)}(),f=function(){function OpenerService(e,t){var i=this;this._openers=new n.a,this._validators=new n.a,this._resolvers=new n.a,this._externalOpener={openExternal:function(e){return o.ab(e),Promise.resolve(!0)}},this._openers.push({open:function(e,t){return __awaiter(i,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.openExternal)||Object(h.c)(e,s.b.mailto)||Object(h.c)(e,s.b.http)||Object(h.c)(e,s.b.https)?[4,this._doOpenExternal(e,t)]:[3,2];case 1:return i.sent(),[2,!0];case 2:return[2,!1]}}))}))}}),this._openers.push(new p(t)),this._openers.push(new g(e))}return OpenerService.prototype.open=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,o,n,r;return __generator(this,(function(s){switch(s.label){case 0:i=0,o=this._validators.toArray(),s.label=1;case 1:return i<o.length?[4,o[i].shouldOpen(e)]:[3,4];case 2:if(!s.sent())return[2,!1];s.label=3;case 3:return i++,[3,1];case 4:n=0,r=this._openers.toArray(),s.label=5;case 5:return n<r.length?[4,r[n].open(e,t)]:[3,8];case 6:if(s.sent())return[2,!0];s.label=7;case 7:return n++,[3,5];case 8:return[2,!1]}}))}))},OpenerService.prototype.resolveExternalUri=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,o,n;return __generator(this,(function(r){switch(r.label){case 0:i=0,o=this._resolvers.toArray(),r.label=1;case 1:return i<o.length?[4,o[i].resolveExternalUri(e,t)]:[3,4];case 2:if(n=r.sent())return[2,n];r.label=3;case 3:return i++,[3,1];case 4:return[2,{resolved:e,dispose:function(){}}]}}))}))},OpenerService.prototype._doOpenExternal=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i,o;return __generator(this,(function(n){switch(n.label){case 0:return i="string"==typeof e?d.a.parse(e):e,[4,this.resolveExternalUri(i,t)];case 1:return o=n.sent().resolved,"string"==typeof e&&i.toString()===o.toString()?[2,this._externalOpener.openExternal(e)]:[2,this._externalOpener.openExternal(encodeURI(o.toString(!0)))]}}))}))},OpenerService.prototype.dispose=function(){this._validators.clear()},OpenerService=__decorate([__param(0,l.a),__param(1,u.b)],OpenerService)}()},PUOa:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var o=i("ZlPH"),n=i("Qkc2"),r=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),s=function(e){function Margin(t){var i=e.call(this,t)||this,n=i._context.configuration.options,r=n.get(107);return i._canUseLayerHinting=!n.get(22),i._contentLeft=r.contentLeft,i._glyphMarginLeft=r.glyphMarginLeft,i._glyphMarginWidth=r.glyphMarginWidth,i._domNode=Object(o.b)(document.createElement("div")),i._domNode.setClassName(Margin.OUTER_CLASS_NAME),i._domNode.setPosition("absolute"),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i._glyphMarginBackgroundDomNode=Object(o.b)(document.createElement("div")),i._glyphMarginBackgroundDomNode.setClassName(Margin.CLASS_NAME),i._domNode.appendChild(i._glyphMarginBackgroundDomNode),i}return r(Margin,e),Margin.prototype.dispose=function(){e.prototype.dispose.call(this)},Margin.prototype.getDomNode=function(){return this._domNode},Margin.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(107);return this._canUseLayerHinting=!t.get(22),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0},Margin.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollTopChanged},Margin.prototype.prepareRender=function(e){},Margin.prototype.render=function(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");var t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);var i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)},Margin.CLASS_NAME="glyph-margin",Margin.OUTER_CLASS_NAME="margin",Margin}(n.b)},QRuL:function(e,t,i){"use strict";i.d(t,"f",(function(){return d})),i.d(t,"a",(function(){return l})),i.d(t,"g",(function(){return createEditorPagePosition})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return c})),i.d(t,"d",(function(){return p})),i.d(t,"e",(function(){return g}));var o=i("EffR"),n=i("AKMP"),r=i("XSiN"),s=i("pmY6"),a=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),d=function(){function PageCoordinates(e,t){this.x=e,this.y=t}return PageCoordinates.prototype.toClientCoordinates=function(){return new l(this.x-o.e.scrollX,this.y-o.e.scrollY)},PageCoordinates}(),l=function(){function ClientCoordinates(e,t){this.clientX=e,this.clientY=t}return ClientCoordinates.prototype.toPageCoordinates=function(){return new d(this.clientX+o.e.scrollX,this.clientY+o.e.scrollY)},ClientCoordinates}(),u=function u(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o};function createEditorPagePosition(e){var t=o.C(e);return new u(t.left,t.top,t.width,t.height)}var h=function(e){function EditorMouseEvent(t,i){var o=e.call(this,t)||this;return o.pos=new d(o.posx,o.posy),o.editorPos=createEditorPagePosition(i),o}return a(EditorMouseEvent,e),EditorMouseEvent}(r.b),c=function(){function EditorMouseEventFactory(e){this._editorViewDomNode=e}return EditorMouseEventFactory.prototype._create=function(e){return new h(e,this._editorViewDomNode)},EditorMouseEventFactory.prototype.onContextMenu=function(e,t){var i=this;return o.j(e,"contextmenu",(function(e){t(i._create(e))}))},EditorMouseEventFactory.prototype.onMouseUp=function(e,t){var i=this;return o.j(e,"mouseup",(function(e){t(i._create(e))}))},EditorMouseEventFactory.prototype.onMouseDown=function(e,t){var i=this;return o.j(e,"mousedown",(function(e){t(i._create(e))}))},EditorMouseEventFactory.prototype.onMouseLeave=function(e,t){var i=this;return o.k(e,(function(e){t(i._create(e))}))},EditorMouseEventFactory.prototype.onMouseMoveThrottled=function(e,t,i,n){var r=this;return o.m(e,"mousemove",t,(function(e,t){return i(e,r._create(t))}),n)},EditorMouseEventFactory}(),p=function(){function EditorPointerEventFactory(e){this._editorViewDomNode=e}return EditorPointerEventFactory.prototype._create=function(e){return new h(e,this._editorViewDomNode)},EditorPointerEventFactory.prototype.onPointerUp=function(e,t){var i=this;return o.j(e,"pointerup",(function(e){t(i._create(e))}))},EditorPointerEventFactory.prototype.onPointerDown=function(e,t){var i=this;return o.j(e,"pointerdown",(function(e){t(i._create(e))}))},EditorPointerEventFactory.prototype.onPointerLeave=function(e,t){var i=this;return o.l(e,(function(e){t(i._create(e))}))},EditorPointerEventFactory.prototype.onPointerMoveThrottled=function(e,t,i,n){var r=this;return o.m(e,"pointermove",t,(function(e,t){return i(e,r._create(t))}),n)},EditorPointerEventFactory}(),g=function(e){function GlobalEditorMouseMoveMonitor(t){var i=e.call(this)||this;return i._editorViewDomNode=t,i._globalMouseMoveMonitor=i._register(new n.a),i._keydownListener=null,i}return a(GlobalEditorMouseMoveMonitor,e),GlobalEditorMouseMoveMonitor.prototype.startMonitoring=function(e,t,i,n,r){var s=this;this._keydownListener=o.o(document,"keydown",(function(e){e.toKeybinding().isModifierKey()||s._globalMouseMoveMonitor.stopMonitoring(!0)}),!0);this._globalMouseMoveMonitor.startMonitoring(e,t,(function(e,t){return i(e,new h(t,s._editorViewDomNode))}),n,(function(){s._keydownListener.dispose(),r()}))},GlobalEditorMouseMoveMonitor}(s.a)},Qkc2:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var o=i("ZlPH"),n=i("4tyL"),r=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),s=function(e){function ViewPart(t){var i=e.call(this)||this;return i._context=t,i._context.addEventHandler(i),i}return r(ViewPart,e),ViewPart.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},ViewPart}(n.a),a=function(){function PartFingerprints(){}return PartFingerprints.write=function(e,t){o.a,e.setAttribute("data-mprt",String(t))},PartFingerprints.read=function(e){var t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)},PartFingerprints.collect=function(e,t){for(var i=[],o=0;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[o++]=this.read(e)),e=e.parentElement;for(var n=new Uint8Array(o),r=0;r<o;r++)n[r]=i[o-r-1];return n},PartFingerprints}()},SmQN:function(e,t,i){"use strict";i.d(t,"a",(function(){return $}));var o=i("3/fG"),n=i("EffR"),r=i("ZlPH"),s=i("cMOf"),a=i("X+cX"),d=i("MI8n"),l=i("pmY6"),u=i("qj0h"),h=i("HdwC"),c=i("vATl"),p=i("Vxe3"),g=i("nB0o"),f=i("WqXY"),_=i("GJhM"),m=i("8HAY"),v=i("sswD"),y=i("/UlZ"),C=i("4bUh"),w=i("cGHE"),b=i("kYye"),D=i("baJR"),L=i("qNAo"),S=i("T8No"),N=i("MD5Z"),E=i("t9D7"),O=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),R=function(){function DiffEntry(e,t,i,o){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=o}return DiffEntry.prototype.getType=function(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0},DiffEntry}(),M=function M(e){this.entries=e},W=function(e){function DiffReview(t){var i=e.call(this)||this;return i._width=0,i._diffEditor=t,i._isVisible=!1,i.shadow=Object(r.b)(document.createElement("div")),i.shadow.setClassName("diff-review-shadow"),i.actionBarContainer=Object(r.b)(document.createElement("div")),i.actionBarContainer.setClassName("diff-review-actions"),i._actionBar=i._register(new f.a(i.actionBarContainer.domNode)),i._actionBar.push(new m.a("diffreview.close",o.a("label.close","Close"),"close-diff-review",!0,(function(){return i.hide(),Promise.resolve(null)})),{label:!1,icon:!0}),i.domNode=Object(r.b)(document.createElement("div")),i.domNode.setClassName("diff-review monaco-editor-background"),i._content=Object(r.b)(document.createElement("div")),i._content.setClassName("diff-review-content"),i.scrollbar=i._register(new _.a(i._content.domNode,{})),i.domNode.domNode.appendChild(i.scrollbar.getDomNode()),i._register(t.onDidUpdateDiff((function(){i._isVisible&&(i._diffs=i._compute(),i._render())}))),i._register(t.getModifiedEditor().onDidChangeCursorPosition((function(){i._isVisible&&i._render()}))),i._register(t.getOriginalEditor().onDidFocusEditorWidget((function(){i._isVisible&&i.hide()}))),i._register(t.getModifiedEditor().onDidFocusEditorWidget((function(){i._isVisible&&i.hide()}))),i._register(n.o(i.domNode.domNode,"click",(function(e){e.preventDefault();var t=n.x(e.target,"diff-review-row");t&&i._goToRow(t)}))),i._register(n.o(i.domNode.domNode,"keydown",(function(e){(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),i._goToRow(i._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),i._goToRow(i._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),i.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),i.accept())}))),i._diffs=[],i._currentDiff=null,i}return O(DiffReview,e),DiffReview.prototype.prev=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,i=0,o=this._diffs.length;i<o;i++)if(this._diffs[i]===this._currentDiff){t=i;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new w.a(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},DiffReview.prototype.next=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,i=0,o=this._diffs.length;i<o;i++)if(this._diffs[i]===this._currentDiff){t=i;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new w.a(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},DiffReview.prototype.accept=function(){var e=-1,t=this._getCurrentFocusedRow();if(t){var i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new w.a(e,1)),this._diffEditor.revealPosition(new w.a(e,1),1))},DiffReview.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},DiffReview.prototype._getPrevRow=function(){var e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()},DiffReview.prototype._getNextRow=function(){var e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()},DiffReview.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},DiffReview.prototype._getCurrentFocusedRow=function(){var e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null},DiffReview.prototype._goToRow=function(e){var t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()},DiffReview.prototype.isVisible=function(){return this._isVisible},DiffReview.prototype.layout=function(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},DiffReview.prototype._compute=function(){var e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];var t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return t&&i?DiffReview._mergeAdjacent(e,t.getLineCount(),i.getLineCount()):[]},DiffReview._mergeAdjacent=function(e,t,i){if(!e||0===e.length)return[];for(var o=[],n=0,r=0,s=e.length;r<s;r++){var a=e[r],d=a.originalStartLineNumber,l=a.originalEndLineNumber,u=a.modifiedStartLineNumber,h=a.modifiedEndLineNumber,c=[],p=0,g=0===l?d:d-1,f=0===h?u:u-1,_=1,m=1;if(r>0){var v=e[r-1];_=0===v.originalEndLineNumber?v.originalStartLineNumber+1:v.originalEndLineNumber+1,m=0===v.modifiedEndLineNumber?v.modifiedStartLineNumber+1:v.modifiedEndLineNumber+1}var y=g-3+1,C=f-3+1;if(y<_)y+=N=_-y,C+=N;if(C<m)y+=N=m-C,C+=N;c[p++]=new R(y,g,C,f),0!==l&&(c[p++]=new R(d,l,0,0)),0!==h&&(c[p++]=new R(0,0,u,h));var w=0===l?d+1:l+1,b=0===h?u+1:h+1,D=t,L=i;if(r+1<s){var S=e[r+1];D=0===S.originalEndLineNumber?S.originalStartLineNumber:S.originalStartLineNumber-1,L=0===S.modifiedEndLineNumber?S.modifiedStartLineNumber:S.modifiedStartLineNumber-1}var N,E=w+3-1,O=b+3-1;if(E>D)E+=N=D-E,O+=N;if(O>L)E+=N=L-O,O+=N;c[p++]=new R(w,E,b,O),o[n++]=new M(c)}var W=o[0].entries,x=[],V=0;for(r=1,s=o.length;r<s;r++){var I=o[r].entries,T=W[W.length-1],A=I[0];0===T.getType()&&0===A.getType()&&A.originalLineStart<=T.originalLineEnd?(W[W.length-1]=new R(T.originalLineStart,A.originalLineEnd,T.modifiedLineStart,A.modifiedLineEnd),W=W.concat(I.slice(1))):(x[V++]=new M(W),W=I)}return x[V++]=new M(W),x},DiffReview.prototype._findDiffIndex=function(e){for(var t=e.lineNumber,i=0,o=this._diffs.length;i<o;i++){var n=this._diffs[i].entries;if(t<=n[n.length-1].modifiedLineEnd)return i}return 0},DiffReview.prototype._render=function(){var e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel(),s=i.getOptions(),a=r.getOptions();if(!this._isVisible||!i||!r)return n.t(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();var d=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[d]!==this._currentDiff){this._currentDiff=this._diffs[d];var l=this._diffs[d].entries,u=document.createElement("div");u.className="diff-review-table",u.setAttribute("role","list"),h.a.applyFontInfoSlow(u,t.get(34));for(var c=0,p=0,g=0,f=0,_=0,m=l.length;_<m;_++){var v=(R=l[_]).originalLineStart,y=R.originalLineEnd,C=R.modifiedLineStart,w=R.modifiedLineEnd;0!==v&&(0===c||v<c)&&(c=v),0!==y&&(0===p||y>p)&&(p=y),0!==C&&(0===g||C<g)&&(g=C),0!==w&&(0===f||w>f)&&(f=w)}var b=document.createElement("div");b.className="diff-review-row";var D=document.createElement("div");D.className="diff-review-cell diff-review-summary";var L=p-c+1,S=f-g+1;D.appendChild(document.createTextNode(d+1+"/"+this._diffs.length+": @@ -"+c+","+L+" +"+g+","+S+" @@")),b.setAttribute("data-line",String(g));var getAriaLines=function(e){return 0===e?o.a("no_lines","no lines"):1===e?o.a("one_line","1 line"):o.a("more_lines","{0} lines",e)},N=getAriaLines(L),E=getAriaLines(S);b.setAttribute("aria-label",o.a({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines", "1 line" or "X lines", localized separately.']},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",d+1,this._diffs.length,c,N,g,E)),b.appendChild(D),b.setAttribute("role","listitem"),u.appendChild(b);var O=g;for(_=0,m=l.length;_<m;_++){var R=l[_];DiffReview._renderSection(u,R,O,this._width,e,i,s,t,r,a),0!==R.modifiedLineStart&&(O=R.modifiedLineEnd)}n.t(this._content.domNode),this._content.domNode.appendChild(u),this.scrollbar.scanDomNode()}},DiffReview._renderSection=function(e,t,i,n,r,s,a,d,l,u){var h=t.getType(),c="diff-review-row",p="",g="diff-review-spacer";switch(h){case 1:c="diff-review-row line-insert",p=" char-insert",g="diff-review-spacer insert-sign";break;case 2:c="diff-review-row line-delete",p=" char-delete",g="diff-review-spacer delete-sign"}for(var f=t.originalLineStart,_=t.originalLineEnd,m=t.modifiedLineStart,v=t.modifiedLineEnd,y=Math.max(v-m,_-f),C=r.get(107),w=C.glyphMarginWidth+C.lineNumbersWidth,b=d.get(107),D=10+b.glyphMarginWidth+b.lineNumbersWidth,L=0;L<=y;L++){var S=0===f?0:f+L,N=0===m?0:m+L,E=document.createElement("div");E.style.minWidth=n+"px",E.className=c,E.setAttribute("role","listitem"),0!==N&&(i=N),E.setAttribute("data-line",String(i));var O=document.createElement("div");O.className="diff-review-cell",E.appendChild(O);var R=document.createElement("span");R.style.width=w+"px",R.style.minWidth=w+"px",R.className="diff-review-line-number"+p,0!==S?R.appendChild(document.createTextNode(String(S))):R.innerHTML="&#160;",O.appendChild(R);var M=document.createElement("span");M.style.width=D+"px",M.style.minWidth=D+"px",M.style.paddingRight="10px",M.className="diff-review-line-number"+p,0!==N?M.appendChild(document.createTextNode(String(N))):M.innerHTML="&#160;",O.appendChild(M);var W=document.createElement("span");W.className=g,W.innerHTML="&#160;&#160;",O.appendChild(W);var x=void 0;0!==N?(O.insertAdjacentHTML("beforeend",this._renderLine(l,d,u.tabSize,N)),x=l.getLineContent(N)):(O.insertAdjacentHTML("beforeend",this._renderLine(s,r,a.tabSize,S)),x=s.getLineContent(S)),0===x.length&&(x=o.a("blankLine","blank"));var V="";switch(h){case 0:V=o.a("equalLine","original {0}, modified {1}: {2}",S,N,x);break;case 1:V=o.a("insertLine","+ modified {0}: {1}",N,x);break;case 2:V=o.a("deleteLine","- original {0}: {1}",S,x)}E.setAttribute("aria-label",V),e.appendChild(E)}},DiffReview._renderLine=function(e,t,i,o){var n=e.getLineContent(o),r=t.get(34),s=new Uint32Array(2);s[0]=n.length,s[1]=16793600;var a=new C.a(s,n),d=L.d.isBasicASCII(n,e.mightContainNonBasicASCII()),l=L.d.containsRTL(n,d,e.mightContainRTL());return Object(D.e)(new D.c(r.isMonospace&&!t.get(23),r.canUseHalfwidthRightwardsArrow,n,!1,d,l,0,a,[],i,0,r.spaceWidth,r.middotWidth,t.get(88),t.get(74),t.get(69),t.get(35)!==y.d.OFF,null)).html},DiffReview}(l.a);Object(E.e)((function(e,t){var i=e.getColor(b.k);i&&t.addRule(".monaco-diff-editor .diff-review-line-number { color: "+i+"; }");var o=e.getColor(N.Vb);o&&t.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+o+" 0 -6px 6px -6px inset; }")}));var x=function(e){function DiffReviewNext(){return e.call(this,{id:"editor.action.diffReview.next",label:o.a("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:S.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}return O(DiffReviewNext,e),DiffReviewNext.prototype.run=function(e,t){var i=findFocusedDiffEditor(e);i&&i.diffReviewNext()},DiffReviewNext}(v.b),V=function(e){function DiffReviewPrev(){return e.call(this,{id:"editor.action.diffReview.prev",label:o.a("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:S.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})||this}return O(DiffReviewPrev,e),DiffReviewPrev.prototype.run=function(e,t){var i=findFocusedDiffEditor(e);i&&i.diffReviewPrev()},DiffReviewPrev}(v.b);function findFocusedDiffEditor(e){for(var t=e.get(p.a).listDiffEditors(),i=0,o=t.length;i<o;i++){var n=t[i];if(n.hasWidgetFocus())return n}return null}Object(v.f)(x),Object(v.f)(V);var I=i("aokT"),T=i("erNZ"),A=i("iuje"),P=i("tX9W"),F=i("pAvP"),H=i("MvK1"),B=i("dBaI"),k=i("Cg/j"),j=i("8HsV"),z=i("sM1p"),Z=i("Uzvx"),U=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__awaiter=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())}))},__generator=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function verb(r){return function(a){return function step(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},G=function(e){function InlineDiffMargin(t,i,r,s,a,d){var l=e.call(this)||this;l._viewZoneId=t,l._marginDomNode=i,l.editor=r,l.diff=s,l._contextMenuService=a,l._clipboardService=d,l._visibility=!1,l._marginDomNode.style.zIndex="10",l._diffActions=document.createElement("div"),l._diffActions.className="codicon codicon-lightbulb lightbulb-glyph",l._diffActions.style.position="absolute";var u=r.getOption(49),h=r.getModel().getEOL();l._diffActions.style.right="0px",l._diffActions.style.visibility="hidden",l._diffActions.style.height=u+"px",l._diffActions.style.lineHeight=u+"px",l._marginDomNode.appendChild(l._diffActions);var c=[];c.push(new m.a("diff.clipboard.copyDeletedContent",s.originalEndLineNumber>s.modifiedStartLineNumber?o.a("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):o.a("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,(function(){return __awaiter(l,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this._clipboardService.writeText(s.originalContent.join(h)+h)];case 1:return e.sent(),[2]}}))}))})));var p=0,g=void 0;s.originalEndLineNumber>s.modifiedStartLineNumber&&(g=new m.a("diff.clipboard.copyDeletedLineContent",o.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",s.originalStartLineNumber),void 0,!0,(function(){return __awaiter(l,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this._clipboardService.writeText(s.originalContent[p])];case 1:return e.sent(),[2]}}))}))})),c.push(g)),r.getOption(68)||c.push(new m.a("diff.inline.revertChange",o.a("diff.inline.revertChange.label","Revert this change"),void 0,!0,(function(){return __awaiter(l,void 0,void 0,(function(){var e;return __generator(this,(function(t){return 0===s.modifiedEndLineNumber?(e=r.getModel().getLineMaxColumn(s.modifiedStartLineNumber),r.executeEdits("diffEditor",[{range:new I.a(s.modifiedStartLineNumber,e,s.modifiedStartLineNumber,e),text:h+s.originalContent.join(h)}])):(e=r.getModel().getLineMaxColumn(s.modifiedEndLineNumber),r.executeEdits("diffEditor",[{range:new I.a(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,e),text:s.originalContent.join(h)}])),[2]}))}))})));var showContextMenu=function(e,t){l._contextMenuService.showContextMenu({getAnchor:function(){return{x:e,y:t}},getActions:function(){return g&&(g.label=o.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",s.originalStartLineNumber+p)),c},autoSelectFirstItem:!0})};return l._register(n.o(l._diffActions,"mousedown",(function(e){var t=n.C(l._diffActions),i=t.top,o=t.height,r=Math.floor(u/3);e.preventDefault(),showContextMenu(e.posx,i+o+r)}))),l._register(r.onMouseMove((function(e){8===e.target.type||5===e.target.type?e.target.detail.viewZoneId===l._viewZoneId?(l.visibility=!0,p=l._updateLightBulbPosition(l._marginDomNode,e.event.browserEvent.y,u)):l.visibility=!1:l.visibility=!1}))),l._register(r.onMouseDown((function(e){e.event.rightButton&&(8!==e.target.type&&5!==e.target.type||e.target.detail.viewZoneId===l._viewZoneId&&(e.event.preventDefault(),p=l._updateLightBulbPosition(l._marginDomNode,e.event.browserEvent.y,u),showContextMenu(e.event.posx,e.event.posy+u)))}))),l}return U(InlineDiffMargin,e),Object.defineProperty(InlineDiffMargin.prototype,"visibility",{get:function(){return this._visibility},set:function(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")},enumerable:!0,configurable:!0}),InlineDiffMargin.prototype._updateLightBulbPosition=function(e,t,i){var o=t-n.C(e).top,r=Math.floor(o/i),s=r*i;return this._diffActions.style.top=s+"px",r},InlineDiffMargin}(l.a),K=i("/cxE"),q=i("tTk5"),Y=i("o39E"),X=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},Q=function(){function VisualEditorState(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return VisualEditorState.prototype.getForeignViewZones=function(e){var t=this;return e.filter((function(e){return!t._zonesMap[String(e.id)]}))},VisualEditorState.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones((function(e){for(var i=0,o=t._zones.length;i<o;i++)e.removeZone(t._zones[i])})),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])},VisualEditorState.prototype.apply=function(e,t,i,o){var n=this,r=o?c.c.capture(e):null;e.changeViewZones((function(t){for(var o=0,r=n._zones.length;o<r;o++)t.removeZone(n._zones[o]);o=0;for(var s=n.inlineDiffMargins.length;o<s;o++)n.inlineDiffMargins[o].dispose();n._zones=[],n._zonesMap={},n.inlineDiffMargins=[];o=0;for(var a=i.zones.length;o<a;o++){var d=i.zones[o];d.suppressMouseDown=!0;var l=t.addZone(d);n._zones.push(l),n._zonesMap[String(l)]=!0,i.zones[o].diff&&d.marginDomNode&&n._clipboardService&&(d.suppressMouseDown=!1,n.inlineDiffMargins.push(new G(l,d.marginDomNode,e,i.zones[o].diff,n._contextMenuService,n._clipboardService)))}})),r&&r.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)},VisualEditorState}(),J=0,$=function(e){function DiffEditorWidget(t,i,o,s,l,u,h,c,p,g,f){var _=e.call(this)||this;_._editorProgressService=f,_._onDidDispose=_._register(new d.a),_.onDidDispose=_._onDidDispose.event,_._onDidUpdateDiff=_._register(new d.a),_.onDidUpdateDiff=_._onDidUpdateDiff.event,_._lastOriginalWarning=null,_._lastModifiedWarning=null,_._editorWorkerService=s,_._codeEditorService=h,_._contextKeyService=_._register(l.createScoped(t)),_._contextKeyService.createKey("isInDiffEditor",!0),_._themeService=c,_._notificationService=p,_.id=++J,_._state=0,_._updatingDiffProgress=null,_._domElement=t,i=i||{},_._renderSideBySide=!0,void 0!==i.renderSideBySide&&(_._renderSideBySide=i.renderSideBySide),_._maxComputationTime=5e3,void 0!==i.maxComputationTime&&(_._maxComputationTime=i.maxComputationTime),_._ignoreTrimWhitespace=!0,void 0!==i.ignoreTrimWhitespace&&(_._ignoreTrimWhitespace=i.ignoreTrimWhitespace),_._renderIndicators=!0,void 0!==i.renderIndicators&&(_._renderIndicators=i.renderIndicators),_._originalIsEditable=!1,void 0!==i.originalEditable&&(_._originalIsEditable=Boolean(i.originalEditable)),_._updateDecorationsRunner=_._register(new a.d((function(){return _._updateDecorations()}),0)),_._containerDomElement=document.createElement("div"),_._containerDomElement.className=DiffEditorWidget._getClassName(_._themeService.getTheme(),_._renderSideBySide),_._containerDomElement.style.position="relative",_._containerDomElement.style.height="100%",_._domElement.appendChild(_._containerDomElement),_._overviewViewportDomElement=Object(r.b)(document.createElement("div")),_._overviewViewportDomElement.setClassName("diffViewport"),_._overviewViewportDomElement.setPosition("absolute"),_._overviewDomElement=document.createElement("div"),_._overviewDomElement.className="diffOverview",_._overviewDomElement.style.position="absolute",_._overviewDomElement.appendChild(_._overviewViewportDomElement.domNode),_._register(n.o(_._overviewDomElement,"mousedown",(function(e){_.modifiedEditor.delegateVerticalScrollbarMouseDown(e)}))),_._containerDomElement.appendChild(_._overviewDomElement),_._originalDomNode=document.createElement("div"),_._originalDomNode.className="editor original",_._originalDomNode.style.position="absolute",_._originalDomNode.style.height="100%",_._containerDomElement.appendChild(_._originalDomNode),_._modifiedDomNode=document.createElement("div"),_._modifiedDomNode.className="editor modified",_._modifiedDomNode.style.position="absolute",_._modifiedDomNode.style.height="100%",_._containerDomElement.appendChild(_._modifiedDomNode),_._beginUpdateDecorationsTimeout=-1,_._currentlyChangingViewZones=!1,_._diffComputationToken=0,_._originalEditorState=new Q(g,o),_._modifiedEditorState=new Q(g,o),_._isVisible=!0,_._isHandlingScrollEvent=!1,_._elementSizeObserver=_._register(new Y.a(_._containerDomElement,void 0,(function(){return _._onDidContainerSizeChanged()}))),i.automaticLayout&&_._elementSizeObserver.startObserving(),_._diffComputationResult=null;var m=_._contextKeyService.createScoped();m.createKey("isInDiffLeftEditor",!0);var y=new j.a;y.set(S.c,m);var C=u.createChild(y),w=_._contextKeyService.createScoped();w.createKey("isInDiffRightEditor",!0);var b=new j.a;b.set(S.c,w);var D=u.createChild(b);_.originalEditor=_._createLeftHandSideEditor(i,C),_.modifiedEditor=_._createRightHandSideEditor(i,D),_._originalOverviewRuler=null,_._modifiedOverviewRuler=null,_._reviewPane=new W(_),_._containerDomElement.appendChild(_._reviewPane.domNode.domNode),_._containerDomElement.appendChild(_._reviewPane.shadow.domNode),_._containerDomElement.appendChild(_._reviewPane.actionBarContainer.domNode),_._enableSplitViewResizing=!0,void 0!==i.enableSplitViewResizing&&(_._enableSplitViewResizing=i.enableSplitViewResizing),_._renderSideBySide?_._setStrategy(new ne(_._createDataSource(),_._enableSplitViewResizing)):_._setStrategy(new se(_._createDataSource(),_._enableSplitViewResizing)),_._register(c.onThemeChange((function(e){_._strategy&&_._strategy.applyColors(e)&&_._updateDecorationsRunner.schedule(),_._containerDomElement.className=DiffEditorWidget._getClassName(_._themeService.getTheme(),_._renderSideBySide)})));for(var L=0,N=v.d.getDiffEditorContributions();L<N.length;L++){var E=N[L];try{_._register(u.createInstance(E.ctor,_))}catch(e){Object(K.e)(e)}}return _._codeEditorService.addDiffEditor(_),_}return X(DiffEditorWidget,e),DiffEditorWidget.prototype._setState=function(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))},DiffEditorWidget.prototype.hasWidgetFocus=function(){return n.K(document.activeElement,this._domElement)},DiffEditorWidget.prototype.diffReviewNext=function(){this._reviewPane.next()},DiffEditorWidget.prototype.diffReviewPrev=function(){this._reviewPane.prev()},DiffEditorWidget._getClassName=function(e,t){var i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=Object(E.d)(e.type)},DiffEditorWidget.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()},DiffEditorWidget.prototype._createLeftHandSideEditor=function(e,t){var i=this,o=this._createInnerEditor(t,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable));return this._register(o.onDidScrollChange((function(e){i._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(i._isHandlingScrollEvent=!0,i.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())}))),this._register(o.onDidChangeViewZones((function(){i._onViewZonesChanged()}))),this._register(o.onDidChangeModelContent((function(){i._isVisible&&i._beginUpdateDecorationsSoon()}))),o},DiffEditorWidget.prototype._createRightHandSideEditor=function(e,t){var i=this,o=this._createInnerEditor(t,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e));return this._register(o.onDidScrollChange((function(e){i._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(i._isHandlingScrollEvent=!0,i.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())}))),this._register(o.onDidChangeViewZones((function(){i._onViewZonesChanged()}))),this._register(o.onDidChangeConfiguration((function(e){e.hasChanged(34)&&o.getModel()&&i._onViewZonesChanged()}))),this._register(o.onDidChangeModelContent((function(){i._isVisible&&i._beginUpdateDecorationsSoon()}))),this._register(o.onDidChangeModelOptions((function(e){e.tabSize&&i._updateDecorationsRunner.schedule()}))),o},DiffEditorWidget.prototype._createInnerEditor=function(e,t,i){return e.createInstance(g.a,t,i,{})},DiffEditorWidget.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),e.prototype.dispose.call(this)},DiffEditorWidget.prototype.getId=function(){return this.getEditorType()+":"+this.id},DiffEditorWidget.prototype.getEditorType=function(){return A.a.IDiffEditor},DiffEditorWidget.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},DiffEditorWidget.prototype.getOriginalEditor=function(){return this.originalEditor},DiffEditorWidget.prototype.getModifiedEditor=function(){return this.modifiedEditor},DiffEditorWidget.prototype.updateOptions=function(e){var t=!1;void 0!==e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,t=!0),void 0!==e.maxComputationTime&&(this._maxComputationTime=e.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());var i=!1;void 0!==e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,i=!0),void 0!==e.renderIndicators&&this._renderIndicators!==e.renderIndicators&&(this._renderIndicators=e.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),void 0!==e.originalEditable&&(this._originalIsEditable=Boolean(e.originalEditable)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),void 0!==e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),t&&(this._renderSideBySide?this._setStrategy(new ne(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new se(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=DiffEditorWidget._getClassName(this._themeService.getTheme(),this._renderSideBySide))},DiffEditorWidget.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},DiffEditorWidget.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()},DiffEditorWidget.prototype.getDomNode=function(){return this._domElement},DiffEditorWidget.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},DiffEditorWidget.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},DiffEditorWidget.prototype.setPosition=function(e){this.modifiedEditor.setPosition(e)},DiffEditorWidget.prototype.revealLine=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLine(e,t)},DiffEditorWidget.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLineInCenter(e,t)},DiffEditorWidget.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)},DiffEditorWidget.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPosition(e,t)},DiffEditorWidget.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPositionInCenter(e,t)},DiffEditorWidget.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)},DiffEditorWidget.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},DiffEditorWidget.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},DiffEditorWidget.prototype.setSelection=function(e){this.modifiedEditor.setSelection(e)},DiffEditorWidget.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},DiffEditorWidget.prototype.revealLines=function(e,t,i){void 0===i&&(i=0),this.modifiedEditor.revealLines(e,t,i)},DiffEditorWidget.prototype.revealLinesInCenter=function(e,t,i){void 0===i&&(i=0),this.modifiedEditor.revealLinesInCenter(e,t,i)},DiffEditorWidget.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,i){void 0===i&&(i=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)},DiffEditorWidget.prototype.revealRange=function(e,t,i,o){void 0===t&&(t=0),void 0===i&&(i=!1),void 0===o&&(o=!0),this.modifiedEditor.revealRange(e,t,i,o)},DiffEditorWidget.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeInCenter(e,t)},DiffEditorWidget.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)},DiffEditorWidget.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeAtTop(e,t)},DiffEditorWidget.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},DiffEditorWidget.prototype.saveViewState=function(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}},DiffEditorWidget.prototype.restoreViewState=function(e){if(e.original&&e.modified){var t=e;this.originalEditor.restoreViewState(t.original),this.modifiedEditor.restoreViewState(t.modified)}},DiffEditorWidget.prototype.layout=function(e){this._elementSizeObserver.observe(e)},DiffEditorWidget.prototype.focus=function(){this.modifiedEditor.focus()},DiffEditorWidget.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},DiffEditorWidget.prototype.trigger=function(e,t,i){this.modifiedEditor.trigger(e,t,i)},DiffEditorWidget.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},DiffEditorWidget.prototype._onDidContainerSizeChanged=function(){this._doLayout()},DiffEditorWidget.prototype._getReviewHeight=function(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0},DiffEditorWidget.prototype._layoutOverviewRulers=function(){if(this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=this._elementSizeObserver.getHeight(),t=this._getReviewHeight(),i=DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH-2*DiffEditorWidget.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:DiffEditorWidget.ONE_OVERVIEW_WIDTH,right:i+DiffEditorWidget.ONE_OVERVIEW_WIDTH,height:e-t}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:DiffEditorWidget.ONE_OVERVIEW_WIDTH,height:e-t}))}},DiffEditorWidget.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},DiffEditorWidget.prototype._beginUpdateDecorationsSoon=function(){var e=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((function(){return e._beginUpdateDecorations()}),DiffEditorWidget.UPDATE_DIFF_DECORATIONS_DELAY)},DiffEditorWidget._equals=function(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()},DiffEditorWidget.prototype._beginUpdateDecorations=function(){var e=this;this._beginUpdateDecorationsTimeout=-1;var t=this.originalEditor.getModel(),i=this.modifiedEditor.getModel();if(t&&i){this._diffComputationToken++;var n=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(t.uri,i.uri)?this._editorWorkerService.computeDiff(t.uri,i.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then((function(o){n===e._diffComputationToken&&t===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._setState(2),e._diffComputationResult=o,e._updateDecorationsRunner.schedule(),e._onDidUpdateDiff.fire())}),(function(o){n===e._diffComputationToken&&t===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._setState(2),e._diffComputationResult=null,e._updateDecorationsRunner.schedule())})):DiffEditorWidget._equals(t.uri,this._lastOriginalWarning)&&DiffEditorWidget._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(o.a("diff.tooLarge","Cannot compare files because one file is too large.")))}},DiffEditorWidget.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},DiffEditorWidget.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()&&this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),o=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,i,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,o.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,o.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},DiffEditorWidget.prototype._adjustOptionsForSubEditor=function(e){var t=u.c(e||{});return t.inDiffEditor=!0,t.wordWrap="off",t.wordWrapMinified=!1,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=!1,t.fixedOverflowWidgets=!0,t.minimap||(t.minimap={}),t.minimap.enabled=!1,t},DiffEditorWidget.prototype._adjustOptionsForLeftHandSide=function(e,t){var i=this._adjustOptionsForSubEditor(e);return i.readOnly=!t,i.extraEditorClassName="original-in-monaco-diff-editor",i},DiffEditorWidget.prototype._adjustOptionsForRightHandSide=function(e){var t=this._adjustOptionsForSubEditor(e);return t.revealHorizontalRightPadding=y.e.revealHorizontalRightPadding.defaultValue+DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",t},DiffEditorWidget.prototype.doLayout=function(){this._elementSizeObserver.observe(),this._doLayout()},DiffEditorWidget.prototype._doLayout=function(){var e=this._elementSizeObserver.getWidth(),t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=t-i+"px",this._overviewDomElement.style.width=DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:o,height:t-i}),this.modifiedEditor.layout({width:e-o-DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,height:t-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(t-i,e,i),this._layoutOverviewViewport()},DiffEditorWidget.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},DiffEditorWidget.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var t=this.modifiedEditor.getScrollTop(),i=this.modifiedEditor.getScrollHeight(),o=Math.max(0,e.height),n=Math.max(0,o-0),r=i>0?n/i:0;return{height:Math.max(0,Math.floor(e.height*r)),top:Math.floor(t*r)}},DiffEditorWidget.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._elementSizeObserver.getWidth()},getHeight:function(){return e._elementSizeObserver.getHeight()-e._getReviewHeight()},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},DiffEditorWidget.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()},DiffEditorWidget.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){var i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;for(var o=0,n=i.length-1;o<n;){var r=Math.floor((o+n)/2),s=t(i[r]),a=r+1<=n?t(i[r+1]):1073741824;e<s?n=r-1:e>=a?o=r+1:(o=r,n=r)}return i[o]},DiffEditorWidget.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,(function(e){return e.originalStartLineNumber}));if(!t)return e;var i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),o=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),n=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=n?o+Math.min(s,r):o+r-n+s},DiffEditorWidget.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,(function(e){return e.modifiedStartLineNumber}));if(!t)return e;var i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),o=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),n=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-o;return s<=r?i+Math.min(s,n):i+n-r+s},DiffEditorWidget.prototype.getDiffLineInformationForOriginal=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},DiffEditorWidget.prototype.getDiffLineInformationForModified=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},DiffEditorWidget.ONE_OVERVIEW_WIDTH=15,DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH=30,DiffEditorWidget.UPDATE_DIFF_DECORATIONS_DELAY=200,DiffEditorWidget=__decorate([__param(3,F.a),__param(4,S.c),__param(5,k.a),__param(6,p.a),__param(7,E.c),__param(8,z.a),__param(9,Z.a),__param(10,q.a)],DiffEditorWidget)}(l.a),ee=function(e){function DiffEditorWidgetStyle(t){var i=e.call(this)||this;return i._dataSource=t,i._insertColor=null,i._removeColor=null,i}return X(DiffEditorWidgetStyle,e),DiffEditorWidgetStyle.prototype.applyColors=function(e){var t=(e.getColor(N.j)||N.g).transparent(2),i=(e.getColor(N.l)||N.h).transparent(2),o=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,o},DiffEditorWidgetStyle.prototype.getEditorsDiffDecorations=function(e,t,i,o,n,r,s){n=n.sort((function(e,t){return e.afterLineNumber-t.afterLineNumber})),o=o.sort((function(e,t){return e.afterLineNumber-t.afterLineNumber}));var a=this._getViewZones(e,o,n,r,s,i),d=this._getOriginalEditorDecorations(e,t,i,r,s),l=this._getModifiedEditorDecorations(e,t,i,r,s);return{original:{decorations:d.decorations,overviewZones:d.overviewZones,zones:a.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.modified}}},DiffEditorWidgetStyle}(l.a),te=function(){function ForeignViewZonesIterator(e){this._source=e,this._index=-1,this.current=null,this.advance()}return ForeignViewZonesIterator.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},ForeignViewZonesIterator}(),ie=function(){function ViewZonesComputer(e,t,i,o,n){this.lineChanges=e,this.originalForeignVZ=t,this.originalLineHeight=i,this.modifiedForeignVZ=o,this.modifiedLineHeight=n}return ViewZonesComputer.prototype.getViewZones=function(){for(var e=[],t=[],i=0,o=0,n=0,r=0,s=0,a=0,sortMyViewZones=function(e,t){return e.afterLineNumber-t.afterLineNumber},addAndCombineIfPossible=function(e,t){if(null===t.domNode&&e.length>0){var i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)},d=new te(this.modifiedForeignVZ),l=new te(this.originalForeignVZ),u=0,h=this.lineChanges.length;u<=h;u++){var c=u<h?this.lineChanges[u]:null;null!==c?(n=c.originalStartLineNumber+(c.originalEndLineNumber>0?-1:0),r=c.modifiedStartLineNumber+(c.modifiedEndLineNumber>0?-1:0),o=c.originalEndLineNumber>0?c.originalEndLineNumber-c.originalStartLineNumber+1:0,i=c.modifiedEndLineNumber>0?c.modifiedEndLineNumber-c.modifiedStartLineNumber+1:0,s=Math.max(c.originalStartLineNumber,c.originalEndLineNumber),a=Math.max(c.modifiedStartLineNumber,c.modifiedEndLineNumber)):(s=n+=1e7+o,a=r+=1e7+i);for(var p,g=[],f=[];d.current&&d.current.afterLineNumber<=a;){var _=void 0;_=d.current.afterLineNumber<=r?n-r+d.current.afterLineNumber:s;var m=null;c&&c.modifiedStartLineNumber<=d.current.afterLineNumber&&d.current.afterLineNumber<=c.modifiedEndLineNumber&&(m=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),g.push({afterLineNumber:_,heightInLines:d.current.height/this.modifiedLineHeight,domNode:null,marginDomNode:m}),d.advance()}for(;l.current&&l.current.afterLineNumber<=s;){_=void 0;_=l.current.afterLineNumber<=n?r-n+l.current.afterLineNumber:a,f.push({afterLineNumber:_,heightInLines:l.current.height/this.originalLineHeight,domNode:null}),l.advance()}if(null!==c&&isChangeOrInsert(c))(p=this._produceOriginalFromDiff(c,o,i))&&g.push(p);if(null!==c&&isChangeOrDelete(c))(p=this._produceModifiedFromDiff(c,o,i))&&f.push(p);var v=0,y=0;for(g=g.sort(sortMyViewZones),f=f.sort(sortMyViewZones);v<g.length&&y<f.length;){var C=g[v],w=f[y],b=C.afterLineNumber-n,D=w.afterLineNumber-r;b<D?(addAndCombineIfPossible(e,C),v++):D<b?(addAndCombineIfPossible(t,w),y++):C.shouldNotShrink?(addAndCombineIfPossible(e,C),v++):w.shouldNotShrink?(addAndCombineIfPossible(t,w),y++):C.heightInLines>=w.heightInLines?(C.heightInLines-=w.heightInLines,y++):(w.heightInLines-=C.heightInLines,v++)}for(;v<g.length;)addAndCombineIfPossible(e,g[v]),v++;for(;y<f.length;)addAndCombineIfPossible(t,f[y]),y++}return{original:ViewZonesComputer._ensureDomNodes(e),modified:ViewZonesComputer._ensureDomNodes(t)}},ViewZonesComputer._ensureDomNodes=function(e){return e.map((function(e){return e.domNode||(e.domNode=function createFakeLinesDiv(){var e=document.createElement("div");return e.className="diagonal-fill",e}()),e}))},ViewZonesComputer}();function createDecoration(e,t,i,o,n){return{range:new I.a(e,t,i,o),options:n}}var oe={charDelete:P.a.register({className:"char-delete"}),charDeleteWholeLine:P.a.register({className:"char-delete",isWholeLine:!0}),charInsert:P.a.register({className:"char-insert"}),charInsertWholeLine:P.a.register({className:"char-insert",isWholeLine:!0}),lineInsert:P.a.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:P.a.register({className:"line-insert",linesDecorationsClassName:"insert-sign codicon codicon-add",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:P.a.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:P.a.register({className:"line-delete",linesDecorationsClassName:"delete-sign codicon codicon-remove",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:P.a.register({marginClassName:"line-delete"})},ne=function(e){function DiffEditorWidgetSideBySide(t,i){var o=e.call(this,t)||this;return o._disableSash=!1===i,o._sashRatio=null,o._sashPosition=null,o._startSashPosition=null,o._sash=o._register(new s.a(o._dataSource.getContainerDomNode(),o)),o._disableSash&&(o._sash.state=0),o._sash.onDidStart((function(){return o.onSashDragStart()})),o._sash.onDidChange((function(e){return o.onSashDrag(e)})),o._sash.onDidEnd((function(){return o.onSashDragEnd()})),o._sash.onDidReset((function(){return o.onSashReset()})),o}return X(DiffEditorWidgetSideBySide,e),DiffEditorWidgetSideBySide.prototype.setEnableSplitViewResizing=function(e){var t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)},DiffEditorWidgetSideBySide.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var t=this._dataSource.getWidth()-$.ENTIRE_DIFF_OVERVIEW_WIDTH,i=Math.floor((e||.5)*t),o=Math.floor(.5*t);return i=this._disableSash?o:i||o,t>2*DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH?(i<DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH&&(i=DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH),i>t-DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH&&(i=t-DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH)):i=o,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition},DiffEditorWidgetSideBySide.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},DiffEditorWidgetSideBySide.prototype.onSashDrag=function(e){var t=this._dataSource.getWidth()-$.ENTIRE_DIFF_OVERVIEW_WIDTH,i=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=i/t,this._dataSource.relayoutEditors()},DiffEditorWidgetSideBySide.prototype.onSashDragEnd=function(){this._sash.layout()},DiffEditorWidgetSideBySide.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},DiffEditorWidgetSideBySide.prototype.getVerticalSashTop=function(e){return 0},DiffEditorWidgetSideBySide.prototype.getVerticalSashLeft=function(e){return this._sashPosition},DiffEditorWidgetSideBySide.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()},DiffEditorWidgetSideBySide.prototype._getViewZones=function(e,t,i,o,n){return new re(e,t,o.getOption(49),i,n.getOption(49)).getViewZones()},DiffEditorWidgetSideBySide.prototype._getOriginalEditorDecorations=function(e,t,i,o,n){for(var r=String(this._removeColor),s={decorations:[],overviewZones:[]},a=o.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(isChangeOrDelete(u)&&(s.decorations.push({range:new I.a(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:i?oe.lineDeleteWithSign:oe.lineDelete}),isChangeOrInsert(u)&&u.charChanges||s.decorations.push(createDecoration(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824,oe.charDeleteWholeLine)),s.overviewZones.push(new H.a(u.originalStartLineNumber,u.originalEndLineNumber,r)),u.charChanges))for(var h=0,c=u.charChanges.length;h<c;h++){var p=u.charChanges[h];if(isChangeOrDelete(p))if(t)for(var g=p.originalStartLineNumber;g<=p.originalEndLineNumber;g++){var f=void 0,_=void 0;f=g===p.originalStartLineNumber?p.originalStartColumn:a.getLineFirstNonWhitespaceColumn(g),_=g===p.originalEndLineNumber?p.originalEndColumn:a.getLineLastNonWhitespaceColumn(g),s.decorations.push(createDecoration(g,f,g,_,oe.charDelete))}else s.decorations.push(createDecoration(p.originalStartLineNumber,p.originalStartColumn,p.originalEndLineNumber,p.originalEndColumn,oe.charDelete))}}return s},DiffEditorWidgetSideBySide.prototype._getModifiedEditorDecorations=function(e,t,i,o,n){for(var r=String(this._insertColor),s={decorations:[],overviewZones:[]},a=n.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(isChangeOrInsert(u)&&(s.decorations.push({range:new I.a(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:i?oe.lineInsertWithSign:oe.lineInsert}),isChangeOrDelete(u)&&u.charChanges||s.decorations.push(createDecoration(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,oe.charInsertWholeLine)),s.overviewZones.push(new H.a(u.modifiedStartLineNumber,u.modifiedEndLineNumber,r)),u.charChanges))for(var h=0,c=u.charChanges.length;h<c;h++){var p=u.charChanges[h];if(isChangeOrInsert(p))if(t)for(var g=p.modifiedStartLineNumber;g<=p.modifiedEndLineNumber;g++){var f=void 0,_=void 0;f=g===p.modifiedStartLineNumber?p.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(g),_=g===p.modifiedEndLineNumber?p.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(g),s.decorations.push(createDecoration(g,f,g,_,oe.charInsert))}else s.decorations.push(createDecoration(p.modifiedStartLineNumber,p.modifiedStartColumn,p.modifiedEndLineNumber,p.modifiedEndColumn,oe.charInsert))}}return s},DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH=100,DiffEditorWidgetSideBySide}(ee),re=function(e){function SideBySideViewZonesComputer(t,i,o,n,r){return e.call(this,t,i,o,n,r)||this}return X(SideBySideViewZonesComputer,e),SideBySideViewZonesComputer.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},SideBySideViewZonesComputer.prototype._produceOriginalFromDiff=function(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null},SideBySideViewZonesComputer.prototype._produceModifiedFromDiff=function(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null},SideBySideViewZonesComputer}(ie),se=function(e){function DiffEditorWidgetInline(t,i){var o=e.call(this,t)||this;return o.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,o._register(t.getOriginalEditor().onDidLayoutChange((function(e){o.decorationsLeft!==e.decorationsLeft&&(o.decorationsLeft=e.decorationsLeft,t.relayoutEditors())}))),o}return X(DiffEditorWidgetInline,e),DiffEditorWidgetInline.prototype.setEnableSplitViewResizing=function(e){},DiffEditorWidgetInline.prototype._getViewZones=function(e,t,i,o,n,r){return new ae(e,t,i,o,n,r).getViewZones()},DiffEditorWidgetInline.prototype._getOriginalEditorDecorations=function(e,t,i,o,n){for(var r=String(this._removeColor),s={decorations:[],overviewZones:[]},a=0,d=e.length;a<d;a++){var l=e[a];isChangeOrDelete(l)&&(s.decorations.push({range:new I.a(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:oe.lineDeleteMargin}),s.overviewZones.push(new H.a(l.originalStartLineNumber,l.originalEndLineNumber,r)))}return s},DiffEditorWidgetInline.prototype._getModifiedEditorDecorations=function(e,t,i,o,n){for(var r=String(this._insertColor),s={decorations:[],overviewZones:[]},a=n.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(isChangeOrInsert(u))if(s.decorations.push({range:new I.a(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:i?oe.lineInsertWithSign:oe.lineInsert}),s.overviewZones.push(new H.a(u.modifiedStartLineNumber,u.modifiedEndLineNumber,r)),u.charChanges)for(var h=0,c=u.charChanges.length;h<c;h++){var p=u.charChanges[h];if(isChangeOrInsert(p))if(t)for(var g=p.modifiedStartLineNumber;g<=p.modifiedEndLineNumber;g++){var f=void 0,_=void 0;f=g===p.modifiedStartLineNumber?p.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(g),_=g===p.modifiedEndLineNumber?p.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(g),s.decorations.push(createDecoration(g,f,g,_,oe.charInsert))}else s.decorations.push(createDecoration(p.modifiedStartLineNumber,p.modifiedStartColumn,p.modifiedEndLineNumber,p.modifiedEndColumn,oe.charInsert))}else s.decorations.push(createDecoration(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,oe.charInsertWholeLine))}return s},DiffEditorWidgetInline.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},DiffEditorWidgetInline}(ee),ae=function(e){function InlineViewZonesComputer(t,i,o,n,r,s){var a=e.call(this,t,i,n.getOption(49),o,r.getOption(49))||this;return a.originalModel=n.getModel(),a.modifiedEditorOptions=r.getOptions(),a.modifiedEditorTabSize=r.getModel().getOptions().tabSize,a.renderIndicators=s,a}return X(InlineViewZonesComputer,e),InlineViewZonesComputer.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var e=document.createElement("div");return e.className="inline-added-margin-view-zone",e},InlineViewZonesComputer.prototype._produceOriginalFromDiff=function(e,t,i){var o=document.createElement("div");return o.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:o}},InlineViewZonesComputer.prototype._produceModifiedFromDiff=function(e,t,i){var o=[];if(e.charChanges)for(var n=0,r=e.charChanges.length;n<r;n++){var s=e.charChanges[n];isChangeOrDelete(s)&&o.push(new L.a(new I.a(s.originalStartLineNumber,s.originalStartColumn,s.originalEndLineNumber,s.originalEndColumn),"char-delete",0))}for(var a=Object(T.a)(1e4),d=[],l=this.modifiedEditorOptions.get(107),u=this.modifiedEditorOptions.get(34),c=l.decorationsWidth,p=this.modifiedEditorOptions.get(49),g=u.typicalHalfwidthCharacterWidth,f=0,_=[],m=e.originalStartLineNumber;m<=e.originalEndLineNumber;m++)if(f=Math.max(f,this._renderOriginalLine(m-e.originalStartLineNumber,this.originalModel,this.modifiedEditorOptions,this.modifiedEditorTabSize,m,o,a)),_.push(this.originalModel.getLineContent(m)),this.renderIndicators){var v=m-e.originalStartLineNumber;d=d.concat(['<div class="delete-sign codicon codicon-remove" style="position:absolute;top:'+v*p+"px;width:"+c+"px;height:"+p+'px;right:0;"></div>'])}f+=this.modifiedEditorOptions.get(79);var y=document.createElement("div");y.className="view-lines line-delete",y.innerHTML=a.build(),h.a.applyFontInfoSlow(y,u);var C=document.createElement("div");return C.className="inline-deleted-margin-view-zone",C.innerHTML=d.join(""),h.a.applyFontInfoSlow(C,u),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:f*g,domNode:y,marginDomNode:C,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalContent:_}}},InlineViewZonesComputer.prototype._renderOriginalLine=function(e,t,i,o,n,r,s){var a=t.getLineTokens(n),d=a.getLineContent(),l=i.get(34),u=B.a.filter(r,n,1,d.length+1);s.appendASCIIString('<div class="view-line'),0===r.length&&s.appendASCIIString(" char-delete"),s.appendASCIIString('" style="top:'),s.appendASCIIString(String(e*i.get(49))),s.appendASCIIString('px;width:1000000px;">');var h=L.d.isBasicASCII(d,t.mightContainNonBasicASCII()),c=L.d.containsRTL(d,h,t.mightContainRTL()),p=Object(D.d)(new D.c(l.isMonospace&&!i.get(23),l.canUseHalfwidthRightwardsArrow,d,!1,h,c,0,a,u,o,0,l.spaceWidth,l.middotWidth,i.get(88),i.get(74),i.get(69),i.get(35)!==y.d.OFF,null),s);s.appendASCIIString("</div>");var g=p.characterMapping.getAbsoluteOffsets();return g.length>0?g[g.length-1]:0},InlineViewZonesComputer}(ie);function isChangeOrInsert(e){return e.modifiedEndLineNumber>0}function isChangeOrDelete(e){return e.originalEndLineNumber>0}Object(E.e)((function(e,t){var i=e.getColor(N.j);i&&(t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+i+"; }"),t.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+i+"; }"),t.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+i+"; }"));var o=e.getColor(N.l);o&&(t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+o+"; }"),t.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+o+"; }"),t.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+o+"; }"));var n=e.getColor(N.k);n&&t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+n+"; }");var r=e.getColor(N.m);r&&t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+r+"; }");var s=e.getColor(N.Vb);s&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+s+"; }");var a=e.getColor(N.i);a&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+a+"; }")}))},Vxe3:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var o=i("Cg/j"),n=Object(o.c)("codeEditorService")},bsmE:function(e,t,i){"use strict";i.d(t,"a",(function(){return _})),i.d(t,"c",(function(){return m})),i.d(t,"b",(function(){return v}));var o=i("D3Dy"),n=i("ZlPH"),r=i("MNsG"),s=i("oh/0"),a=function(){function FloatHorizontalRange(e,t){this.left=e,this.width=t}return FloatHorizontalRange.prototype.toString=function(){return"["+this.left+","+this.width+"]"},FloatHorizontalRange.compare=function(e,t){return e.left-t.left},FloatHorizontalRange}(),d=function(){function RangeUtil(){}return RangeUtil._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},RangeUtil._detachRange=function(e,t){e.selectNodeContents(t)},RangeUtil._readClientRects=function(e,t,i,o,n){var r=this._createRange();try{return r.setStart(e,t),r.setEnd(i,o),r.getClientRects()}catch(e){return null}finally{this._detachRange(r,n)}},RangeUtil._mergeAdjacentRanges=function(e){if(1===e.length)return[new s.b(e[0].left,e[0].width)];e.sort(a.compare);for(var t=[],i=0,o=e[0].left,n=e[0].width,r=1,d=e.length;r<d;r++){var l=e[r],u=l.left,h=l.width;o+n+.9>=u?n=Math.max(n,u+h-o):(t[i++]=new s.b(o,n),o=u,n=h)}return t[i++]=new s.b(o,n),t},RangeUtil._createHorizontalRangesFromClientRects=function(e,t){if(!e||0===e.length)return null;for(var i=[],o=0,n=e.length;o<n;o++){var r=e[o];i[o]=new a(Math.max(0,r.left-t),r.width)}return this._mergeAdjacentRanges(i)},RangeUtil.readHorizontalRanges=function(e,t,i,o,n,r,s){var a=e.children.length-1;if(0>a)return null;(t=Math.min(a,Math.max(0,t)))!==(o=Math.min(a,Math.max(0,o)))&&o>0&&0===n&&(o--,n=1073741824);var d=e.children[t].firstChild,l=e.children[o].firstChild;if(d&&l||(!d&&0===i&&t>0&&(d=e.children[t-1].firstChild,i=1073741824),!l&&0===n&&o>0&&(l=e.children[o-1].firstChild,n=1073741824)),!d||!l)return null;i=Math.min(d.textContent.length,Math.max(0,i)),n=Math.min(l.textContent.length,Math.max(0,n));var u=this._readClientRects(d,i,l,n,s);return this._createHorizontalRangesFromClientRects(u,r)},RangeUtil}(),l=i("dBaI"),u=i("baJR"),h=i("t9D7"),c=i("/UlZ"),p=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),g=!!r.f||!(r.d||o.h||o.k),f=o.f,_=function(){function DomReadingContext(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}return Object.defineProperty(DomReadingContext.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),DomReadingContext}(),m=function(){function ViewLineOptions(e,t){this.themeType=t;var i=e.options,o=i.get(34);this.renderWhitespace=i.get(74),this.renderControlCharacters=i.get(69),this.spaceWidth=o.spaceWidth,this.middotWidth=o.middotWidth,this.useMonospaceOptimizations=o.isMonospace&&!i.get(23),this.canUseHalfwidthRightwardsArrow=o.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(49),this.stopRenderingLineAfter=i.get(88),this.fontLigatures=i.get(35)}return ViewLineOptions.prototype.equals=function(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures},ViewLineOptions}(),v=function(){function ViewLine(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}return ViewLine.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},ViewLine.prototype.setDomNode=function(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=Object(n.b)(e)},ViewLine.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},ViewLine.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},ViewLine.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},ViewLine.prototype.onOptionsChanged=function(e){this._isMaybeInvalid=!0,this._options=e},ViewLine.prototype.onSelectionChanged=function(){return!(!f&&this._options.themeType!==h.b&&"selection"!==this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)},ViewLine.prototype.renderLine=function(e,t,i,o){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;var n=i.getViewLineRenderingData(e),r=this._options,s=l.a.filter(n.inlineDecorations,e,n.minColumn,n.maxColumn),a=null;if(f||r.themeType===h.b||"selection"===this._options.renderWhitespace)for(var d=0,p=i.selections;d<p.length;d++){var _=p[d];if(!(_.endLineNumber<e||_.startLineNumber>e)){var m=_.startLineNumber===e?_.startColumn:n.minColumn,v=_.endLineNumber===e?_.endColumn:n.maxColumn;m<v&&("selection"!==this._options.renderWhitespace?s.push(new l.a(m,v,"inline-selected-text",0)):(a||(a=[]),a.push(new u.b(m-1,v-1))))}}var C=new u.c(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,n.content,n.continuesWithWrappedLine,n.isBasicASCII,n.containsRTL,n.minColumn-1,n.tokens,s,n.tabSize,n.startVisibleColumn,r.spaceWidth,r.middotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==c.d.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(C))return!1;o.appendASCIIString('<div style="top:'),o.appendASCIIString(String(t)),o.appendASCIIString("px;height:"),o.appendASCIIString(String(this._options.lineHeight)),o.appendASCIIString('px;" class="'),o.appendASCIIString(ViewLine.CLASS_NAME),o.appendASCIIString('">');var w=Object(u.d)(C,o);o.appendASCIIString("</div>");var D=null;return g&&n.isBasicASCII&&r.useMonospaceOptimizations&&0===w.containsForeignElements&&n.content.length<300&&C.lineTokens.getCount()<100&&(D=new y(this._renderedViewLine?this._renderedViewLine.domNode:null,C,w.characterMapping)),D||(D=b(this._renderedViewLine?this._renderedViewLine.domNode:null,C,w.characterMapping,w.containsRTL,w.containsForeignElements)),this._renderedViewLine=D,!0},ViewLine.prototype.layoutLine=function(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},ViewLine.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},ViewLine.prototype.getWidthIsFast=function(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()},ViewLine.prototype.getVisibleRangesForRange=function(e,t,i){if(!this._renderedViewLine)return null;e|=0,t|=0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));var o=0|this._renderedViewLine.input.stopRenderingLineAfter,n=!1;-1!==o&&e>o+1&&t>o+1&&(n=!0),-1!==o&&e>o+1&&(e=o+1),-1!==o&&t>o+1&&(t=o+1);var r=this._renderedViewLine.getVisibleRangesForRange(e,t,i);return r&&r.length>0?new s.e(n,r):null},ViewLine.prototype.getColumnOfNodeOffset=function(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1},ViewLine.CLASS_NAME="view-line",ViewLine}(),y=function(){function FastRenderedViewLine(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}return FastRenderedViewLine.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)},FastRenderedViewLine.prototype.getWidthIsFast=function(){return!0},FastRenderedViewLine.prototype.getVisibleRangesForRange=function(e,t,i){var o=this._getCharPosition(e),n=this._getCharPosition(t);return[new s.b(o,n-o)]},FastRenderedViewLine.prototype._getCharPosition=function(e){var t=this._characterMapping.getAbsoluteOffsets();return 0===t.length?0:Math.round(this._charWidth*t[e-1])},FastRenderedViewLine.prototype.getColumnOfNodeOffset=function(e,t,i){for(var o=t.textContent.length,n=-1;t;)t=t.previousSibling,n++;return this._characterMapping.partDataToCharOffset(n,o,i)+1},FastRenderedViewLine}(),C=function(){function RenderedViewLine(e,t,i,o,n){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=n,this._cachedWidth=-1,this._pixelOffsetCache=null,!o||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var r=0,s=this._characterMapping.length;r<=s;r++)this._pixelOffsetCache[r]=-1}}return RenderedViewLine.prototype._getReadingTarget=function(e){return e.domNode.firstChild},RenderedViewLine.prototype.getWidth=function(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0},RenderedViewLine.prototype.getWidthIsFast=function(){return-1!==this._cachedWidth},RenderedViewLine.prototype.getVisibleRangesForRange=function(e,t,i){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){var o=this._readPixelOffset(this.domNode,e,i);if(-1===o)return null;var n=this._readPixelOffset(this.domNode,t,i);return-1===n?null:[new s.b(o,n-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i)},RenderedViewLine.prototype._readVisibleRangesForRange=function(e,t,i,o){if(t===i){var n=this._readPixelOffset(e,t,o);return-1===n?null:[new s.b(n,0)]}return this._readRawVisibleRangesForRange(e,t,i,o)},RenderedViewLine.prototype._readPixelOffset=function(e,t,i){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();var o=this._getReadingTarget(e);return o.firstChild?o.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){var n=this._pixelOffsetCache[t];if(-1!==n)return n;var r=this._actualReadPixelOffset(e,t,i);return this._pixelOffsetCache[t]=r,r}return this._actualReadPixelOffset(e,t,i)},RenderedViewLine.prototype._actualReadPixelOffset=function(e,t,i){if(0===this._characterMapping.length){var o=d.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,i.clientRectDeltaLeft,i.endNode);return o&&0!==o.length?o[0].left:-1}if(t===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();var n=this._characterMapping.charOffsetToPartData(t-1),r=u.a.getPartIndex(n),s=u.a.getCharIndex(n),a=d.readHorizontalRanges(this._getReadingTarget(e),r,s,r,s,i.clientRectDeltaLeft,i.endNode);return a&&0!==a.length?a[0].left:-1},RenderedViewLine.prototype._readRawVisibleRangesForRange=function(e,t,i,o){if(1===t&&i===this._characterMapping.length)return[new s.b(0,this.getWidth())];var n=this._characterMapping.charOffsetToPartData(t-1),r=u.a.getPartIndex(n),a=u.a.getCharIndex(n),l=this._characterMapping.charOffsetToPartData(i-1),h=u.a.getPartIndex(l),c=u.a.getCharIndex(l);return d.readHorizontalRanges(this._getReadingTarget(e),r,a,h,c,o.clientRectDeltaLeft,o.endNode)},RenderedViewLine.prototype.getColumnOfNodeOffset=function(e,t,i){for(var o=t.textContent.length,n=-1;t;)t=t.previousSibling,n++;return this._characterMapping.partDataToCharOffset(n,o,i)+1},RenderedViewLine}(),w=function(e){function WebKitRenderedViewLine(){return null!==e&&e.apply(this,arguments)||this}return p(WebKitRenderedViewLine,e),WebKitRenderedViewLine.prototype._readVisibleRangesForRange=function(t,i,o,n){var r=e.prototype._readVisibleRangesForRange.call(this,t,i,o,n);if(!r||0===r.length||i===o||1===i&&o===this._characterMapping.length)return r;if(!this.input.containsRTL){var s=this._readPixelOffset(t,o,n);if(-1!==s){var a=r[r.length-1];a.left<s&&(a.width=s-a.left)}}return r},WebKitRenderedViewLine}(C),b=o.m?createWebKitRenderedLine:createNormalRenderedLine;function createWebKitRenderedLine(e,t,i,o,n){return new w(e,t,i,o,n)}function createNormalRenderedLine(e,t,i,o,n){return new C(e,t,i,o,n)}},nB0o:function(e,t,i){"use strict";i.d(t,"a",(function(){return At}));var o=i("3/fG"),n=i("EffR"),r=i("/cxE"),s=i("MI8n"),a=i("pmY6"),d=i("tYmi"),l=i("HdwC"),u=i("sswD"),h=i("Vxe3"),c=i("ZlPH"),p=i("mQTj"),g=i("45PR"),f=i("1YUG"),_=i("cGHE"),m=i("MNsG"),v=function(){function ViewController(e,t,i,o){this.configuration=e,this.viewModel=t,this.outgoingEvents=i,this.commandDelegate=o}return ViewController.prototype._execMouseCommand=function(e,t){t.source="mouse",this.commandDelegate.executeEditorCommand(e,t)},ViewController.prototype.paste=function(e,t,i,o,n){this.commandDelegate.paste(e,t,i,o,n)},ViewController.prototype.type=function(e,t){this.commandDelegate.type(e,t)},ViewController.prototype.replacePreviousChar=function(e,t,i){this.commandDelegate.replacePreviousChar(e,t,i)},ViewController.prototype.compositionStart=function(e){this.commandDelegate.compositionStart(e)},ViewController.prototype.compositionEnd=function(e){this.commandDelegate.compositionEnd(e)},ViewController.prototype.cut=function(e){this.commandDelegate.cut(e)},ViewController.prototype.setSelection=function(e,t){this.commandDelegate.executeEditorCommand(f.CoreNavigationCommands.SetSelection,{source:e,selection:t})},ViewController.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new _.a(e.lineNumber,t):e},ViewController.prototype._hasMulticursorModifier=function(e){switch(this.configuration.options.get(59)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey}return!1},ViewController.prototype._hasNonMulticursorModifier=function(e){switch(this.configuration.options.get(59)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey}return!1},ViewController.prototype.dispatchMouse=function(e){var t=m.d&&this.configuration.options.get(81);e.middleButton&&!t?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)},ViewController.prototype._usualArgs=function(e){return e=this._validateViewColumn(e),{position:this._convertViewToModelPosition(e),viewPosition:e}},ViewController.prototype.moveTo=function(e){this._execMouseCommand(f.CoreNavigationCommands.MoveTo,this._usualArgs(e))},ViewController.prototype._moveToSelect=function(e){this._execMouseCommand(f.CoreNavigationCommands.MoveToSelect,this._usualArgs(e))},ViewController.prototype._columnSelect=function(e,t,i){e=this._validateViewColumn(e),this._execMouseCommand(f.CoreNavigationCommands.ColumnSelect,{position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})},ViewController.prototype._createCursor=function(e,t){e=this._validateViewColumn(e),this._execMouseCommand(f.CoreNavigationCommands.CreateCursor,{position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})},ViewController.prototype._lastCursorMoveToSelect=function(e){this._execMouseCommand(f.CoreNavigationCommands.LastCursorMoveToSelect,this._usualArgs(e))},ViewController.prototype._wordSelect=function(e){this._execMouseCommand(f.CoreNavigationCommands.WordSelect,this._usualArgs(e))},ViewController.prototype._wordSelectDrag=function(e){this._execMouseCommand(f.CoreNavigationCommands.WordSelectDrag,this._usualArgs(e))},ViewController.prototype._lastCursorWordSelect=function(e){this._execMouseCommand(f.CoreNavigationCommands.LastCursorWordSelect,this._usualArgs(e))},ViewController.prototype._lineSelect=function(e){this._execMouseCommand(f.CoreNavigationCommands.LineSelect,this._usualArgs(e))},ViewController.prototype._lineSelectDrag=function(e){this._execMouseCommand(f.CoreNavigationCommands.LineSelectDrag,this._usualArgs(e))},ViewController.prototype._lastCursorLineSelect=function(e){this._execMouseCommand(f.CoreNavigationCommands.LastCursorLineSelect,this._usualArgs(e))},ViewController.prototype._lastCursorLineSelectDrag=function(e){this._execMouseCommand(f.CoreNavigationCommands.LastCursorLineSelectDrag,this._usualArgs(e))},ViewController.prototype._selectAll=function(){this._execMouseCommand(f.CoreNavigationCommands.SelectAll,{})},ViewController.prototype._convertViewToModelPosition=function(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)},ViewController.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)},ViewController.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)},ViewController.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)},ViewController.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)},ViewController.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)},ViewController.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)},ViewController.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)},ViewController.prototype.emitMouseDrag=function(e){this.outgoingEvents.emitMouseDrag(e)},ViewController.prototype.emitMouseDrop=function(e){this.outgoingEvents.emitMouseDrop(e)},ViewController.prototype.emitMouseWheel=function(e){this.outgoingEvents.emitMouseWheel(e)},ViewController}(),y=i("uuFI"),C=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),w=function(e){function ViewOutgoingEvents(t){var i=e.call(this)||this;return i.onDidContentSizeChange=null,i.onDidScroll=null,i.onDidGainFocus=null,i.onDidLoseFocus=null,i.onKeyDown=null,i.onKeyUp=null,i.onContextMenu=null,i.onMouseMove=null,i.onMouseLeave=null,i.onMouseUp=null,i.onMouseDown=null,i.onMouseDrag=null,i.onMouseDrop=null,i.onMouseWheel=null,i._viewModel=t,i}return C(ViewOutgoingEvents,e),ViewOutgoingEvents.prototype.emitContentSizeChange=function(e){this.onDidContentSizeChange&&this.onDidContentSizeChange(e)},ViewOutgoingEvents.prototype.emitScrollChanged=function(e){this.onDidScroll&&this.onDidScroll(e)},ViewOutgoingEvents.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},ViewOutgoingEvents.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},ViewOutgoingEvents.prototype.emitKeyDown=function(e){this.onKeyDown&&this.onKeyDown(e)},ViewOutgoingEvents.prototype.emitKeyUp=function(e){this.onKeyUp&&this.onKeyUp(e)},ViewOutgoingEvents.prototype.emitContextMenu=function(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseMove=function(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseLeave=function(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseUp=function(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseDown=function(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseDrag=function(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseDrop=function(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))},ViewOutgoingEvents.prototype.emitMouseWheel=function(e){this.onMouseWheel&&this.onMouseWheel(e)},ViewOutgoingEvents.prototype._convertViewToModelMouseEvent=function(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e},ViewOutgoingEvents.prototype._convertViewToModelMouseTarget=function(e){return ViewOutgoingEvents.convertViewToModelMouseTarget(e,this._viewModel.coordinatesConverter)},ViewOutgoingEvents.convertViewToModelMouseTarget=function(e,t){return new b(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)},ViewOutgoingEvents}(a.a),b=function(){function ExternalMouseTarget(e,t,i,o,n,r){this.element=e,this.type=t,this.mouseColumn=i,this.position=o,this.range=n,this.detail=r}return ExternalMouseTarget.prototype.toString=function(){return y.b.toString(this)},ExternalMouseTarget}(),D=i("erNZ"),L=function(){function RenderedLinesCollection(e){this._createLine=e,this._set(1,[])}return RenderedLinesCollection.prototype.flush=function(){this._set(1,[])},RenderedLinesCollection.prototype._set=function(e,t){this._lines=t,this._rendLineNumberStart=e},RenderedLinesCollection.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},RenderedLinesCollection.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},RenderedLinesCollection.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},RenderedLinesCollection.prototype.getCount=function(){return this._lines.length},RenderedLinesCollection.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]},RenderedLinesCollection.prototype.onLinesDeleted=function(e,t){if(0===this.getCount())return null;var i=this.getStartLineNumber(),o=this.getEndLineNumber();if(t<i){var n=t-e+1;return this._rendLineNumberStart-=n,null}if(e>o)return null;for(var r=0,s=0,a=i;a<=o;a++){var d=a-this._rendLineNumberStart;e<=a&&a<=t&&(0===s?(r=d,s=1):s++)}if(e<i){var l=0;l=t<i?t-e+1:i-e,this._rendLineNumberStart-=l}return this._lines.splice(r,s)},RenderedLinesCollection.prototype.onLinesChanged=function(e,t){if(0===this.getCount())return!1;for(var i=this.getStartLineNumber(),o=this.getEndLineNumber(),n=!1,r=e;r<=t;r++)r>=i&&r<=o&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),n=!0);return n},RenderedLinesCollection.prototype.onLinesInserted=function(e,t){if(0===this.getCount())return null;var i=t-e+1,o=this.getStartLineNumber(),n=this.getEndLineNumber();if(e<=o)return this._rendLineNumberStart+=i,null;if(e>n)return null;if(i+e>n)return this._lines.splice(e-this._rendLineNumberStart,n-e+1);for(var r=[],s=0;s<i;s++)r[s]=this._createLine();var a=e-this._rendLineNumberStart,d=this._lines.slice(0,a),l=this._lines.slice(a,this._lines.length-i),u=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=d.concat(r).concat(l),u},RenderedLinesCollection.prototype.onTokensChanged=function(e){if(0===this.getCount())return!1;for(var t=this.getStartLineNumber(),i=this.getEndLineNumber(),o=!1,n=0,r=e.length;n<r;n++){var s=e[n];if(!(s.toLineNumber<t||s.fromLineNumber>i))for(var a=Math.max(t,s.fromLineNumber),d=Math.min(i,s.toLineNumber),l=a;l<=d;l++){var u=l-this._rendLineNumberStart;this._lines[u].onTokensChanged(),o=!0}}return o},RenderedLinesCollection}(),S=function(){function VisibleLinesCollection(e){var t=this;this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new L((function(){return t._host.createVisibleLine()}))}return VisibleLinesCollection.prototype._createDomNode=function(){var e=Object(c.b)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},VisibleLinesCollection.prototype.onConfigurationChanged=function(e){return!!e.hasChanged(107)},VisibleLinesCollection.prototype.onFlushed=function(e){return this._linesCollection.flush(),!0},VisibleLinesCollection.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)},VisibleLinesCollection.prototype.onLinesDeleted=function(e){var t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(var i=0,o=t.length;i<o;i++){var n=t[i].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0},VisibleLinesCollection.prototype.onLinesInserted=function(e){var t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(var i=0,o=t.length;i<o;i++){var n=t[i].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0},VisibleLinesCollection.prototype.onScrollChanged=function(e){return e.scrollTopChanged},VisibleLinesCollection.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)},VisibleLinesCollection.prototype.onZonesChanged=function(e){return!0},VisibleLinesCollection.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},VisibleLinesCollection.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},VisibleLinesCollection.prototype.getVisibleLine=function(e){return this._linesCollection.getLine(e)},VisibleLinesCollection.prototype.renderLines=function(e){var t=this._linesCollection._get(),i=new N(this.domNode.domNode,this._host,e),o={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},n=i.render(o,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(n.rendLineNumberStart,n.lines)},VisibleLinesCollection}(),N=function(){function ViewLayerRenderer(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}return ViewLayerRenderer.prototype.render=function(e,t,i,o){var n={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(n.rendLineNumberStart+n.linesLength-1<t||i<n.rendLineNumberStart){n.rendLineNumberStart=t,n.linesLength=i-t+1,n.lines=[];for(var r=t;r<=i;r++)n.lines[r-t]=this.host.createVisibleLine();return this._finishRendering(n,!0,o),n}if(this._renderUntouchedLines(n,Math.max(t-n.rendLineNumberStart,0),Math.min(i-n.rendLineNumberStart,n.linesLength-1),o,t),n.rendLineNumberStart>t)(d=t)<=(s=Math.min(i,n.rendLineNumberStart-1))&&(this._insertLinesBefore(n,d,s,o,t),n.linesLength+=s-d+1);else if(n.rendLineNumberStart<t){(a=Math.min(n.linesLength,t-n.rendLineNumberStart))>0&&(this._removeLinesBefore(n,a),n.linesLength-=a)}if(n.rendLineNumberStart=t,n.rendLineNumberStart+n.linesLength-1<i)(d=n.rendLineNumberStart+n.linesLength)<=(s=i)&&(this._insertLinesAfter(n,d,s,o,t),n.linesLength+=s-d+1);else if(n.rendLineNumberStart+n.linesLength-1>i){var s,a,d=Math.max(0,i-n.rendLineNumberStart+1);(a=(s=n.linesLength-1)-d+1)>0&&(this._removeLinesAfter(n,a),n.linesLength-=a)}return this._finishRendering(n,!1,o),n},ViewLayerRenderer.prototype._renderUntouchedLines=function(e,t,i,o,n){for(var r=e.rendLineNumberStart,s=e.lines,a=t;a<=i;a++){var d=r+a;s[a].layoutLine(d,o[d-n])}},ViewLayerRenderer.prototype._insertLinesBefore=function(e,t,i,o,n){for(var r=[],s=0,a=t;a<=i;a++)r[s++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)},ViewLayerRenderer.prototype._removeLinesBefore=function(e,t){for(var i=0;i<t;i++){var o=e.lines[i].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(0,t)},ViewLayerRenderer.prototype._insertLinesAfter=function(e,t,i,o,n){for(var r=[],s=0,a=t;a<=i;a++)r[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)},ViewLayerRenderer.prototype._removeLinesAfter=function(e,t){for(var i=e.linesLength-t,o=0;o<t;o++){var n=e.lines[i+o].getDomNode();n&&this.domNode.removeChild(n)}e.lines.splice(i,t)},ViewLayerRenderer.prototype._finishRenderingNewLines=function(e,t,i,o){var n=this.domNode.lastChild;t||!n?this.domNode.innerHTML=i:n.insertAdjacentHTML("afterend",i);for(var r=this.domNode.lastChild,s=e.linesLength-1;s>=0;s--){var a=e.lines[s];o[s]&&(a.setDomNode(r),r=r.previousSibling)}},ViewLayerRenderer.prototype._finishRenderingInvalidLines=function(e,t,i){var o=document.createElement("div");o.innerHTML=t;for(var n=0;n<e.linesLength;n++){var r=e.lines[n];if(i[n]){var s=o.firstChild,a=r.getDomNode();a.parentNode.replaceChild(s,a),r.setDomNode(s)}}},ViewLayerRenderer.prototype._finishRendering=function(e,t,i){var o=ViewLayerRenderer._sb,n=e.linesLength,r=e.lines,s=e.rendLineNumberStart,a=[];o.reset();for(var d=!1,l=0;l<n;l++){var u=r[l];if(a[l]=!1,!u.getDomNode())u.renderLine(l+s,i[l],this.viewportData,o)&&(a[l]=!0,d=!0)}d&&this._finishRenderingNewLines(e,t,o.build(),a),o.reset();var h=!1,c=[];for(l=0;l<n;l++){u=r[l];if(c[l]=!1,!a[l])u.renderLine(l+s,i[l],this.viewportData,o)&&(c[l]=!0,h=!0)}h&&this._finishRenderingInvalidLines(e,o.build(),c)},ViewLayerRenderer._sb=Object(D.a)(1e5),ViewLayerRenderer}(),E=i("Qkc2"),O=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),R=function(e){function ViewOverlays(t){var i=e.call(this,t)||this;return i._visibleLines=new S(i),i.domNode=i._visibleLines.domNode,i._dynamicOverlays=[],i._isFocused=!1,i.domNode.setClassName("view-overlays"),i}return O(ViewOverlays,e),ViewOverlays.prototype.shouldRender=function(){if(e.prototype.shouldRender.call(this))return!0;for(var t=0,i=this._dynamicOverlays.length;t<i;t++){if(this._dynamicOverlays[t].shouldRender())return!0}return!1},ViewOverlays.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0,i=this._dynamicOverlays.length;t<i;t++){this._dynamicOverlays[t].dispose()}this._dynamicOverlays=[]},ViewOverlays.prototype.getDomNode=function(){return this.domNode},ViewOverlays.prototype.createVisibleLine=function(){return new M(this._context.configuration,this._dynamicOverlays)},ViewOverlays.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},ViewOverlays.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e);for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=t;o<=i;o++){this._visibleLines.getVisibleLine(o).onConfigurationChanged(e)}return!0},ViewOverlays.prototype.onFlushed=function(e){return this._visibleLines.onFlushed(e)},ViewOverlays.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!0},ViewOverlays.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},ViewOverlays.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},ViewOverlays.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},ViewOverlays.prototype.onScrollChanged=function(e){return this._visibleLines.onScrollChanged(e)||!0},ViewOverlays.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},ViewOverlays.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)},ViewOverlays.prototype.prepareRender=function(e){for(var t=this._dynamicOverlays.filter((function(e){return e.shouldRender()})),i=0,o=t.length;i<o;i++){var n=t[i];n.prepareRender(e),n.onDidRender()}},ViewOverlays.prototype.render=function(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)},ViewOverlays.prototype._viewOverlaysRender=function(e){this._visibleLines.renderLines(e.viewportData)},ViewOverlays}(E.b),M=function(){function ViewOverlayLine(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(49),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}return ViewOverlayLine.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},ViewOverlayLine.prototype.setDomNode=function(e){this._domNode=Object(c.b)(e)},ViewOverlayLine.prototype.onContentChanged=function(){},ViewOverlayLine.prototype.onTokensChanged=function(){},ViewOverlayLine.prototype.onConfigurationChanged=function(e){this._lineHeight=this._configuration.options.get(49)},ViewOverlayLine.prototype.renderLine=function(e,t,i,o){for(var n="",r=0,s=this._dynamicOverlays.length;r<s;r++){n+=this._dynamicOverlays[r].render(i.startLineNumber,e)}return this._renderedContent!==n&&(this._renderedContent=n,o.appendASCIIString('<div style="position:absolute;top:'),o.appendASCIIString(String(t)),o.appendASCIIString("px;width:100%;height:"),o.appendASCIIString(String(this._lineHeight)),o.appendASCIIString('px;">'),o.appendASCIIString(n),o.appendASCIIString("</div>"),!0)},ViewOverlayLine.prototype.layoutLine=function(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))},ViewOverlayLine}(),W=function(e){function ContentViewOverlays(t){var i=e.call(this,t)||this,o=i._context.configuration.options.get(107);return i._contentWidth=o.contentWidth,i.domNode.setHeight(0),i}return O(ContentViewOverlays,e),ContentViewOverlays.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options.get(107);return this._contentWidth=i.contentWidth,e.prototype.onConfigurationChanged.call(this,t)||!0},ContentViewOverlays.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},ContentViewOverlays.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))},ContentViewOverlays}(R),x=function(e){function MarginViewOverlays(t){var i=e.call(this,t)||this,o=i._context.configuration.options,n=o.get(107);return i._contentLeft=n.contentLeft,i.domNode.setClassName("margin-view-overlays"),i.domNode.setWidth(1),l.a.applyFontInfo(i.domNode,o.get(34)),i}return O(MarginViewOverlays,e),MarginViewOverlays.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options;l.a.applyFontInfo(this.domNode,i.get(34));var o=i.get(107);return this._contentLeft=o.contentLeft,e.prototype.onConfigurationChanged.call(this,t)||!0},MarginViewOverlays.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},MarginViewOverlays.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t);var i=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)},MarginViewOverlays}(R),V=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),I=function I(e,t){this.top=e,this.left=t},T=function(e){function ViewContentWidgets(t,i){var o=e.call(this,t)||this;return o._viewDomNode=i,o._widgets={},o.domNode=Object(c.b)(document.createElement("div")),E.a.write(o.domNode,1),o.domNode.setClassName("contentWidgets"),o.domNode.setPosition("absolute"),o.domNode.setTop(0),o.overflowingContentWidgetsDomNode=Object(c.b)(document.createElement("div")),E.a.write(o.overflowingContentWidgetsDomNode,2),o.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),o}return V(ViewContentWidgets,e),ViewContentWidgets.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets={}},ViewContentWidgets.prototype.onConfigurationChanged=function(e){for(var t=0,i=Object.keys(this._widgets);t<i.length;t++){var o=i[t];this._widgets[o].onConfigurationChanged(e)}return!0},ViewContentWidgets.prototype.onDecorationsChanged=function(e){return!0},ViewContentWidgets.prototype.onFlushed=function(e){return!0},ViewContentWidgets.prototype.onLineMappingChanged=function(e){for(var t=0,i=Object.keys(this._widgets);t<i.length;t++){var o=i[t];this._widgets[o].onLineMappingChanged(e)}return!0},ViewContentWidgets.prototype.onLinesChanged=function(e){return!0},ViewContentWidgets.prototype.onLinesDeleted=function(e){return!0},ViewContentWidgets.prototype.onLinesInserted=function(e){return!0},ViewContentWidgets.prototype.onScrollChanged=function(e){return!0},ViewContentWidgets.prototype.onZonesChanged=function(e){return!0},ViewContentWidgets.prototype.addWidget=function(e){var t=new A(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()},ViewContentWidgets.prototype.setWidgetPosition=function(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()},ViewContentWidgets.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var i=this._widgets[t];delete this._widgets[t];var o=i.domNode.domNode;o.parentNode.removeChild(o),o.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},ViewContentWidgets.prototype.shouldSuppressMouseDownOnWidget=function(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown},ViewContentWidgets.prototype.onBeforeRender=function(e){for(var t=0,i=Object.keys(this._widgets);t<i.length;t++){var o=i[t];this._widgets[o].onBeforeRender(e)}},ViewContentWidgets.prototype.prepareRender=function(e){for(var t=0,i=Object.keys(this._widgets);t<i.length;t++){var o=i[t];this._widgets[o].prepareRender(e)}},ViewContentWidgets.prototype.render=function(e){for(var t=0,i=Object.keys(this._widgets);t<i.length;t++){var o=i[t];this._widgets[o].render(e)}},ViewContentWidgets}(E.b),A=function(){function Widget(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=Object(c.b)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;var o=this._context.configuration.options,n=o.get(107);this._fixedOverflowWidgets=o.get(29),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this._lineHeight=o.get(49),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return Widget.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;if(this._lineHeight=t.get(49),e.hasChanged(107)){var i=t.get(107);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}},Widget.prototype.onLineMappingChanged=function(e){this._setPosition(this._range)},Widget.prototype._setPosition=function(e){if(this._range=e,this._viewRange=null,this._range){var t=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(t))}},Widget.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth},Widget.prototype.setPosition=function(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1},Widget.prototype._layoutBoxInViewport=function(e,t,i,o,n){var r=e.top,s=r,a=t.top+this._lineHeight,d=r-o,l=s>=o,u=a,h=n.viewportHeight-a>=o,c=e.left,p=t.left;return c+i>n.scrollLeft+n.viewportWidth&&(c=n.scrollLeft+n.viewportWidth-i),p+i>n.scrollLeft+n.viewportWidth&&(p=n.scrollLeft+n.viewportWidth-i),c<n.scrollLeft&&(c=n.scrollLeft),p<n.scrollLeft&&(p=n.scrollLeft),{fitsAbove:l,aboveTop:d,aboveLeft:c,fitsBelow:h,belowTop:u,belowLeft:p}},Widget.prototype._layoutHorizontalSegmentInPage=function(e,t,i,o){var r,s=Math.max(0,t.left-o),a=Math.min(t.left+t.width+o,e.width),d=t.left+i-n.e.scrollX;d+o>a&&(d-=r=d-(a-o),i-=r);d<s&&(d-=r=d-s,i-=r);return[i,d]},Widget.prototype._layoutBoxInPage=function(e,t,i,o,r){var s=e.top-o,a=t.top+this._lineHeight,d=n.C(this._viewDomNode.domNode),l=d.top+s-n.e.scrollY,u=d.top+a-n.e.scrollY,h=n.y(document.body),c=this._layoutHorizontalSegmentInPage(h,d,e.left-r.scrollLeft+this._contentLeft,i),p=c[0],g=c[1],f=this._layoutHorizontalSegmentInPage(h,d,t.left-r.scrollLeft+this._contentLeft,i),_=f[0],m=f[1],v=l>=22,y=u+o<=h.height-22;return this._fixedOverflowWidgets?{fitsAbove:v,aboveTop:Math.max(l,22),aboveLeft:g,fitsBelow:y,belowTop:u,belowLeft:m}:{fitsAbove:v,aboveTop:Math.max(s,22),aboveLeft:p,fitsBelow:y,belowTop:a,belowLeft:_}},Widget.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(e){return new I(e.top,e.left+this._contentLeft)},Widget.prototype._getTopAndBottomLeft=function(e){if(!this._viewRange)return[null,null];var t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];for(var i=t[0],o=t[0],n=0,r=t;n<r.length;n++){var s=r[n];s.lineNumber<i.lineNumber&&(i=s),s.lineNumber>o.lineNumber&&(o=s)}for(var a=1073741824,d=0,l=i.ranges;d<l.length;d++){(p=l[d]).left<a&&(a=p.left)}for(var u=1073741824,h=0,c=o.ranges;h<c.length;h++){var p;(p=c[h]).left<u&&(u=p.left)}var g=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,f=new I(g,a),_=e.getVerticalOffsetForLineNumber(o.lineNumber)-e.scrollTop;return[f,new I(_,u)]},Widget.prototype._prepareRenderWidget=function(e){var t,i=this._getTopAndBottomLeft(e),o=i[0],n=i[1];if(!o||!n)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){var r=this.domNode.domNode;this._cachedDomNodeClientWidth=r.clientWidth,this._cachedDomNodeClientHeight=r.clientHeight}if(t=this.allowEditorOverflow?this._layoutBoxInPage(o,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(o,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(var s=1;s<=2;s++)for(var a=0,d=this._preference;a<d.length;a++){var l=d[a];if(1===l){if(!t)return null;if(2===s||t.fitsAbove)return new I(t.aboveTop,t.aboveLeft)}else{if(2!==l)return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(o):o;if(!t)return null;if(2===s||t.fitsBelow)return new I(t.belowTop,t.belowLeft)}}return null},Widget.prototype.onBeforeRender=function(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))},Widget.prototype.prepareRender=function(e){this._renderData=this._prepareRenderWidget(e)},Widget.prototype.render=function(e){this._renderData?(this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))},Widget}(),P=i("4JZe"),F=i("kYye"),H=i("6OMU"),B=i("t9D7"),k=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),j=!0,z=function(e){function AbstractLineHighlightOverlay(t){var i=e.call(this)||this;i._context=t;var o=i._context.configuration.options,n=o.get(107);return i._lineHeight=o.get(49),i._renderLineHighlight=o.get(72),i._contentLeft=n.contentLeft,i._contentWidth=n.contentWidth,i._selectionIsEmpty=!0,i._cursorLineNumbers=[],i._selections=[],i._renderData=null,i._context.addEventHandler(i),i}return k(AbstractLineHighlightOverlay,e),AbstractLineHighlightOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},AbstractLineHighlightOverlay.prototype._readFromSelections=function(){var e=!1,t=j?this._selections.slice(0,1):this._selections,i=t.map((function(e){return e.positionLineNumber}));i.sort((function(e,t){return e-t})),H.g(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);var o=t.every((function(e){return e.isEmpty()}));return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,e=!0),e},AbstractLineHighlightOverlay.prototype.onThemeChanged=function(e){return this._readFromSelections()},AbstractLineHighlightOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(107);return this._lineHeight=t.get(49),this._renderLineHighlight=t.get(72),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0},AbstractLineHighlightOverlay.prototype.onCursorStateChanged=function(e){return this._selections=e.selections,this._readFromSelections()},AbstractLineHighlightOverlay.prototype.onFlushed=function(e){return!0},AbstractLineHighlightOverlay.prototype.onLinesDeleted=function(e){return!0},AbstractLineHighlightOverlay.prototype.onLinesInserted=function(e){return!0},AbstractLineHighlightOverlay.prototype.onScrollChanged=function(e){return e.scrollWidthChanged||e.scrollTopChanged},AbstractLineHighlightOverlay.prototype.onZonesChanged=function(e){return!0},AbstractLineHighlightOverlay.prototype.prepareRender=function(e){if(this._shouldRenderThis()){for(var t=this._renderOne(e),i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,n=this._cursorLineNumbers.length,r=0,s=[],a=i;a<=o;a++){for(var d=a-i;r<n&&this._cursorLineNumbers[r]<a;)r++;r<n&&this._cursorLineNumbers[r]===a?s[d]=t:s[d]=""}this._renderData=s}else this._renderData=null},AbstractLineHighlightOverlay.prototype.render=function(e,t){if(!this._renderData)return"";var i=t-e;return i>=this._renderData.length?"":this._renderData[i]},AbstractLineHighlightOverlay}(P.a),Z=function(e){function CurrentLineHighlightOverlay(){return null!==e&&e.apply(this,arguments)||this}return k(CurrentLineHighlightOverlay,e),CurrentLineHighlightOverlay.prototype._renderOne=function(e){return'<div class="'+("current-line"+(this._shouldRenderOther()?" current-line-both":""))+'" style="width:'+Math.max(e.scrollWidth,this._contentWidth)+"px; height:"+this._lineHeight+'px;"></div>'},CurrentLineHighlightOverlay.prototype._shouldRenderThis=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},CurrentLineHighlightOverlay.prototype._shouldRenderOther=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},CurrentLineHighlightOverlay}(z),U=function(e){function CurrentLineMarginHighlightOverlay(){return null!==e&&e.apply(this,arguments)||this}return k(CurrentLineMarginHighlightOverlay,e),CurrentLineMarginHighlightOverlay.prototype._renderOne=function(e){return'<div class="'+("current-line current-line-margin"+(this._shouldRenderOther()?" current-line-margin-both":""))+'" style="width:'+this._contentLeft+"px; height:"+this._lineHeight+'px;"></div>'},CurrentLineMarginHighlightOverlay.prototype._shouldRenderThis=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},CurrentLineMarginHighlightOverlay.prototype._shouldRenderOther=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},CurrentLineMarginHighlightOverlay}(z);Object(B.e)((function(e,t){j=!1;var i=e.getColor(F.i);if(i&&(t.addRule(".monaco-editor .view-overlays .current-line { background-color: "+i+"; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+i+"; border: none; }")),!i||i.isTransparent()||e.defines(F.j)){var o=e.getColor(F.j);o&&(j=!0,t.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+o+"; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+o+"; }"),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));var G=i("aokT"),K=i("oh/0"),q=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Y=function(e){function DecorationsOverlay(t){var i=e.call(this)||this;i._context=t;var o=i._context.configuration.options;return i._lineHeight=o.get(49),i._typicalHalfwidthCharacterWidth=o.get(34).typicalHalfwidthCharacterWidth,i._renderResult=null,i._context.addEventHandler(i),i}return q(DecorationsOverlay,e),DecorationsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},DecorationsOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=t.get(34).typicalHalfwidthCharacterWidth,!0},DecorationsOverlay.prototype.onDecorationsChanged=function(e){return!0},DecorationsOverlay.prototype.onFlushed=function(e){return!0},DecorationsOverlay.prototype.onLinesChanged=function(e){return!0},DecorationsOverlay.prototype.onLinesDeleted=function(e){return!0},DecorationsOverlay.prototype.onLinesInserted=function(e){return!0},DecorationsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},DecorationsOverlay.prototype.onZonesChanged=function(e){return!0},DecorationsOverlay.prototype.prepareRender=function(e){for(var t=e.getDecorationsInViewport(),i=[],o=0,n=0,r=t.length;n<r;n++){var s=t[n];s.options.className&&(i[o++]=s)}i=i.sort((function(e,t){if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;var i=e.options.className,o=t.options.className;return i<o?-1:i>o?1:G.a.compareRangesUsingStarts(e.range,t.range)}));for(var a=e.visibleRange.startLineNumber,d=e.visibleRange.endLineNumber,l=[],u=a;u<=d;u++){l[u-a]=""}this._renderWholeLineDecorations(e,i,l),this._renderNormalDecorations(e,i,l),this._renderResult=l},DecorationsOverlay.prototype._renderWholeLineDecorations=function(e,t,i){for(var o=String(this._lineHeight),n=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=0,a=t.length;s<a;s++){var d=t[s];if(d.options.isWholeLine)for(var l='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+o+'px;"></div>',u=Math.max(d.range.startLineNumber,n),h=Math.min(d.range.endLineNumber,r),c=u;c<=h;c++){i[c-n]+=l}}},DecorationsOverlay.prototype._renderNormalDecorations=function(e,t,i){for(var o=String(this._lineHeight),n=e.visibleRange.startLineNumber,r=null,s=!1,a=null,d=0,l=t.length;d<l;d++){var u=t[d];if(!u.options.isWholeLine){var h=u.options.className,c=Boolean(u.options.showIfCollapsed),p=u.range;c&&1===p.endColumn&&p.endLineNumber!==p.startLineNumber&&(p=new G.a(p.startLineNumber,p.startColumn,p.endLineNumber-1,this._context.model.getLineMaxColumn(p.endLineNumber-1))),r===h&&s===c&&G.a.areIntersectingOrTouching(a,p)?a=G.a.plusRange(a,p):(null!==r&&this._renderNormalDecoration(e,a,r,s,o,n,i),r=h,s=c,a=p)}}null!==r&&this._renderNormalDecoration(e,a,r,s,o,n,i)},DecorationsOverlay.prototype._renderNormalDecoration=function(e,t,i,o,n,r,s){var a=e.linesVisibleRangesForRange(t,"findMatch"===i);if(a)for(var d=0,l=a.length;d<l;d++){var u=a[d];if(!u.outsideRenderedLine){var h=u.lineNumber-r;if(o&&1===u.ranges.length){var c=u.ranges[0];0===c.width&&(u.ranges[0]=new K.b(c.left,this._typicalHalfwidthCharacterWidth))}for(var p=0,g=u.ranges.length;p<g;p++){var f=u.ranges[p],_='<div class="cdr '+i+'" style="left:'+String(f.left)+"px;width:"+String(f.width)+"px;height:"+n+'px;"></div>';s[h]+=_}}}},DecorationsOverlay.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},DecorationsOverlay}(P.a),X=i("GJhM"),Q=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),J=function(e){function EditorScrollbar(t,i,o,r){var s=e.call(this,t)||this,a=s._context.configuration.options,d=a.get(78),l=a.get(56),u=a.get(27),h={listenOnDomNode:o.domNode,className:"editor-scrollable "+Object(B.d)(t.theme.type),useShadows:!1,lazyRender:!0,vertical:d.vertical,horizontal:d.horizontal,verticalHasArrows:d.verticalHasArrows,horizontalHasArrows:d.horizontalHasArrows,verticalScrollbarSize:d.verticalScrollbarSize,verticalSliderSize:d.verticalSliderSize,horizontalScrollbarSize:d.horizontalScrollbarSize,horizontalSliderSize:d.horizontalSliderSize,handleMouseWheel:d.handleMouseWheel,alwaysConsumeMouseWheel:d.alwaysConsumeMouseWheel,arrowSize:d.arrowSize,mouseWheelScrollSensitivity:l,fastScrollSensitivity:u};s.scrollbar=s._register(new X.c(i.domNode,h,s._context.viewLayout.getScrollable())),E.a.write(s.scrollbar.getDomNode(),5),s.scrollbarDomNode=Object(c.b)(s.scrollbar.getDomNode()),s.scrollbarDomNode.setPosition("absolute"),s._setLayout();var onBrowserDesperateReveal=function(e,t,i){var o={};if(t){var n=e.scrollTop;n&&(o.scrollTop=s._context.viewLayout.getCurrentScrollTop()+n,e.scrollTop=0)}if(i){var r=e.scrollLeft;r&&(o.scrollLeft=s._context.viewLayout.getCurrentScrollLeft()+r,e.scrollLeft=0)}s._context.viewLayout.setScrollPositionNow(o)};return s._register(n.j(o.domNode,"scroll",(function(e){return onBrowserDesperateReveal(o.domNode,!0,!0)}))),s._register(n.j(i.domNode,"scroll",(function(e){return onBrowserDesperateReveal(i.domNode,!0,!1)}))),s._register(n.j(r.domNode,"scroll",(function(e){return onBrowserDesperateReveal(r.domNode,!0,!1)}))),s._register(n.j(s.scrollbarDomNode.domNode,"scroll",(function(e){return onBrowserDesperateReveal(s.scrollbarDomNode.domNode,!0,!1)}))),s}return Q(EditorScrollbar,e),EditorScrollbar.prototype.dispose=function(){e.prototype.dispose.call(this)},EditorScrollbar.prototype._setLayout=function(){var e=this._context.configuration.options,t=e.get(107);this.scrollbarDomNode.setLeft(t.contentLeft),"right"===e.get(54).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)},EditorScrollbar.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},EditorScrollbar.prototype.getDomNode=function(){return this.scrollbarDomNode},EditorScrollbar.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)},EditorScrollbar.prototype.onConfigurationChanged=function(e){if(e.hasChanged(78)||e.hasChanged(56)||e.hasChanged(27)){var t=this._context.configuration.options,i=t.get(78),o=t.get(56),n=t.get(27),r={handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:o,fastScrollSensitivity:n};this.scrollbar.updateOptions(r)}return e.hasChanged(107)&&this._setLayout(),!0},EditorScrollbar.prototype.onScrollChanged=function(e){return!0},EditorScrollbar.prototype.onThemeChanged=function(e){return this.scrollbar.updateClassName("editor-scrollable "+Object(B.d)(this._context.theme.type)),!0},EditorScrollbar.prototype.prepareRender=function(e){},EditorScrollbar.prototype.render=function(e){this.scrollbar.renderNow()},EditorScrollbar}(E.b),$=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),ee=function ee(e,t,i){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)},te=function(e){function DedupOverlay(){return null!==e&&e.apply(this,arguments)||this}return $(DedupOverlay,e),DedupOverlay.prototype._render=function(e,t,i){for(var o=[],n=e;n<=t;n++){o[n-e]=[]}if(0===i.length)return o;i.sort((function(e,t){return e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1}));for(var r=null,s=0,a=0,d=i.length;a<d;a++){var l=i[a],u=l.className,h=Math.max(l.startLineNumber,e)-e,c=Math.min(l.endLineNumber,t)-e;r===u?(h=Math.max(s+1,h),s=Math.max(s,c)):(r=u,s=c);for(var p=h;p<=s;p++)o[p].push(r)}return o},DedupOverlay}(P.a),ie=function(e){function GlyphMarginOverlay(t){var i=e.call(this)||this;i._context=t;var o=i._context.configuration.options,n=o.get(107);return i._lineHeight=o.get(49),i._glyphMargin=o.get(40),i._glyphMarginLeft=n.glyphMarginLeft,i._glyphMarginWidth=n.glyphMarginWidth,i._renderResult=null,i._context.addEventHandler(i),i}return $(GlyphMarginOverlay,e),GlyphMarginOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},GlyphMarginOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(107);return this._lineHeight=t.get(49),this._glyphMargin=t.get(40),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0},GlyphMarginOverlay.prototype.onDecorationsChanged=function(e){return!0},GlyphMarginOverlay.prototype.onFlushed=function(e){return!0},GlyphMarginOverlay.prototype.onLinesChanged=function(e){return!0},GlyphMarginOverlay.prototype.onLinesDeleted=function(e){return!0},GlyphMarginOverlay.prototype.onLinesInserted=function(e){return!0},GlyphMarginOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},GlyphMarginOverlay.prototype.onZonesChanged=function(e){return!0},GlyphMarginOverlay.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],o=0,n=0,r=t.length;n<r;n++){var s=t[n],a=s.options.glyphMarginClassName;a&&(i[o++]=new ee(s.range.startLineNumber,s.range.endLineNumber,a))}return i},GlyphMarginOverlay.prototype.prepareRender=function(e){if(this._glyphMargin){for(var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._render(t,i,this._getDecorations(e)),n=this._lineHeight.toString(),r='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+n+'px;"></div>',s=[],a=t;a<=i;a++){var d=a-t,l=o[d];0===l.length?s[d]="":s[d]='<div class="cgmr codicon '+l.join(" ")+r}this._renderResult=s}else this._renderResult=null},GlyphMarginOverlay.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},GlyphMarginOverlay}(te),oe=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),ne=function(e){function IndentGuidesOverlay(t){var i=e.call(this)||this;i._context=t,i._primaryLineNumber=0;var o=i._context.configuration.options,n=o.get(108),r=o.get(34);return i._lineHeight=o.get(49),i._spaceWidth=r.spaceWidth,i._enabled=o.get(70),i._activeIndentEnabled=o.get(43),i._maxIndentLeft=-1===n.wrappingColumn?-1:n.wrappingColumn*r.typicalHalfwidthCharacterWidth,i._renderResult=null,i._context.addEventHandler(i),i}return oe(IndentGuidesOverlay,e),IndentGuidesOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},IndentGuidesOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(108),o=t.get(34);return this._lineHeight=t.get(49),this._spaceWidth=o.spaceWidth,this._enabled=t.get(70),this._activeIndentEnabled=t.get(43),this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*o.typicalHalfwidthCharacterWidth,!0},IndentGuidesOverlay.prototype.onCursorStateChanged=function(e){var t=e.selections[0],i=t.isEmpty()?t.positionLineNumber:0;return this._primaryLineNumber!==i&&(this._primaryLineNumber=i,!0)},IndentGuidesOverlay.prototype.onDecorationsChanged=function(e){return!0},IndentGuidesOverlay.prototype.onFlushed=function(e){return!0},IndentGuidesOverlay.prototype.onLinesChanged=function(e){return!0},IndentGuidesOverlay.prototype.onLinesDeleted=function(e){return!0},IndentGuidesOverlay.prototype.onLinesInserted=function(e){return!0},IndentGuidesOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},IndentGuidesOverlay.prototype.onZonesChanged=function(e){return!0},IndentGuidesOverlay.prototype.onLanguageConfigurationChanged=function(e){return!0},IndentGuidesOverlay.prototype.prepareRender=function(e){if(this._enabled){var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._context.model.getOptions().indentSize*this._spaceWidth,n=e.scrollWidth,r=this._lineHeight,s=this._context.model.getLinesIndentGuides(t,i),a=0,d=0,l=0;if(this._activeIndentEnabled&&this._primaryLineNumber){var u=this._context.model.getActiveIndentGuide(this._primaryLineNumber,t,i);a=u.startLineNumber,d=u.endLineNumber,l=u.indent}for(var h=[],c=t;c<=i;c++){var p=a<=c&&c<=d,g=c-t,f=s[g],m="";if(f>=1)for(var v=e.visibleRangeForPosition(new _.a(c,1)),y=v?v.left:0,C=1;C<=f;C++){if(m+='<div class="'+(p&&C===l?"cigra":"cigr")+'" style="left:'+y+"px;height:"+r+"px;width:"+o+'px"></div>',(y+=o)>n||this._maxIndentLeft>0&&y>this._maxIndentLeft)break}h[g]=m}this._renderResult=h}else this._renderResult=null},IndentGuidesOverlay.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},IndentGuidesOverlay}(P.a);Object(B.e)((function(e,t){var i=e.getColor(F.h);i&&t.addRule(".monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 "+i+" inset; }");var o=e.getColor(F.a)||i;o&&t.addRule(".monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 "+o+" inset; }")}));var re=i("sWDf"),se=i("X+cX"),ae=i("bsmE"),de=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),le=function(){function LastRenderedData(){this._currentVisibleRange=new G.a(1,1,1,1)}return LastRenderedData.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},LastRenderedData.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e},LastRenderedData}(),ue=function ue(e,t,i,o,n,r){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=o,this.stopScrollTop=n,this.scrollType=r},he=function(e){function ViewLines(t,i){var o=e.call(this,t)||this;o._linesContent=i,o._textRangeRestingSpot=document.createElement("div"),o._visibleLines=new S(o),o.domNode=o._visibleLines.domNode;var n=o._context.configuration,r=o._context.configuration.options,s=r.get(34),a=r.get(108);return o._lineHeight=r.get(49),o._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,o._isViewportWrapping=a.isViewportWrapping,o._revealHorizontalRightPadding=r.get(75),o._cursorSurroundingLines=r.get(19),o._cursorSurroundingLinesStyle=r.get(20),o._canUseLayerHinting=!r.get(22),o._viewLineOptions=new ae.c(n,o._context.theme.type),E.a.write(o.domNode,7),o.domNode.setClassName("view-lines"),l.a.applyFontInfo(o.domNode,s),o._maxLineWidth=0,o._asyncUpdateLineWidths=new se.d((function(){o._updateLineWidthsSlow()}),200),o._lastRenderedData=new le,o._horizontalRevealRequest=null,o}return de(ViewLines,e),ViewLines.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),e.prototype.dispose.call(this)},ViewLines.prototype.getDomNode=function(){return this.domNode},ViewLines.prototype.createVisibleLine=function(){return new ae.b(this._viewLineOptions)},ViewLines.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(108)&&(this._maxLineWidth=0);var t=this._context.configuration.options,i=t.get(34),o=t.get(108);return this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=t.get(75),this._cursorSurroundingLines=t.get(19),this._cursorSurroundingLinesStyle=t.get(20),this._canUseLayerHinting=!t.get(22),l.a.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(107)&&(this._maxLineWidth=0),!0},ViewLines.prototype._onOptionsMaybeChanged=function(){var e=this._context.configuration,t=new ae.c(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;for(var i=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber(),n=i;n<=o;n++){this._visibleLines.getVisibleLine(n).onOptionsChanged(this._viewLineOptions)}return!0}return!1},ViewLines.prototype.onCursorStateChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=!1,n=t;n<=i;n++)o=this._visibleLines.getVisibleLine(n).onSelectionChanged()||o;return o},ViewLines.prototype.onDecorationsChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=t;o<=i;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged();return!0},ViewLines.prototype.onFlushed=function(e){var t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t},ViewLines.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},ViewLines.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},ViewLines.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},ViewLines.prototype.onRevealRangeRequest=function(e){var t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.verticalType),i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:this._horizontalRevealRequest=new ue(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):this._horizontalRevealRequest=null;var o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop);return 0===e.scrollType&&o>this._lineHeight?this._context.viewLayout.setScrollPositionSmooth(i):this._context.viewLayout.setScrollPositionNow(i),!0},ViewLines.prototype.onScrollChanged=function(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){var t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0},ViewLines.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},ViewLines.prototype.onZonesChanged=function(e){return this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth),this._visibleLines.onZonesChanged(e)},ViewLines.prototype.onThemeChanged=function(e){return this._onOptionsMaybeChanged()},ViewLines.prototype.getPositionFromDOMInfo=function(e,t){var i=this._getViewLineDomNode(e);if(null===i)return null;var o=this._getLineNumberFor(i);if(-1===o)return null;if(o<1||o>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(o))return new _.a(o,1);var n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(o<n||o>r)return null;var s=this._visibleLines.getVisibleLine(o).getColumnOfNodeOffset(o,e,t),a=this._context.model.getLineMinColumn(o);return s<a&&(s=a),new _.a(o,s)},ViewLines.prototype._getViewLineDomNode=function(e){for(;e&&1===e.nodeType;){if(e.className===ae.b.CLASS_NAME)return e;e=e.parentElement}return null},ViewLines.prototype._getLineNumberFor=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=t;o<=i;o++){if(e===this._visibleLines.getVisibleLine(o).getDomNode())return o}return-1},ViewLines.prototype.getLineWidth=function(e){var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()},ViewLines.prototype.linesVisibleRangesForRange=function(e,t){if(this.shouldRender())return null;var i=e.endLineNumber,o=G.a.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!o)return null;var n=[],r=0,s=new ae.a(this.domNode.domNode,this._textRangeRestingSpot),a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new _.a(o.startLineNumber,1)).lineNumber);for(var d=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber(),u=o.startLineNumber;u<=o.endLineNumber;u++)if(!(u<d||u>l)){var h=u===o.startLineNumber?o.startColumn:1,c=u===o.endLineNumber?o.endColumn:this._context.model.getLineMaxColumn(u),p=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(h,c,s);if(p){if(t&&u<i)a!==(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new _.a(u+1,1)).lineNumber)&&(p.ranges[p.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth);n[r++]=new K.c(p.outsideRenderedLine,u,p.ranges)}}return 0===r?null:n},ViewLines.prototype._visibleRangesForLineRange=function(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(t,i,new ae.a(this.domNode.domNode,this._textRangeRestingSpot))},ViewLines.prototype.visibleRangeForPosition=function(e){var t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new K.a(t.outsideRenderedLine,t.ranges[0].left):null},ViewLines.prototype.updateLineWidths=function(){this._updateLineWidths(!1)},ViewLines.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)},ViewLines.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)},ViewLines.prototype._updateLineWidths=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=1,n=!0,r=t;r<=i;r++){var s=this._visibleLines.getVisibleLine(r);!e||s.getWidthIsFast()?o=Math.max(o,s.getWidth()):n=!1}return n&&1===t&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(o),n},ViewLines.prototype.prepareRender=function(){throw new Error("Not supported")},ViewLines.prototype.render=function(){throw new Error("Not supported")},ViewLines.prototype.renderText=function(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var t=this._horizontalRevealRequest.lineNumber,i=this._horizontalRevealRequest.startColumn,o=this._horizontalRevealRequest.endColumn,n=this._horizontalRevealRequest.scrollType;if(e.startLineNumber<=t&&t<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var r=this._computeScrollLeftToRevealRange(t,i,o);this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),0===n?this._context.viewLayout.setScrollPositionSmooth({scrollLeft:r.scrollLeft}):this._context.viewLayout.setScrollPositionNow({scrollLeft:r.scrollLeft})}}this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");var s=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-s),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())},ViewLines.prototype._ensureMaxLineWidth=function(e){var t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},ViewLines.prototype._computeScrollTopToRevealRange=function(e,t,i,o){var n,r,s,a=e.top,d=e.height,l=a+d;if(n=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),r=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight,!("mouse"===t&&"default"===this._cursorSurroundingLinesStyle)){var u=Math.min(d/this._lineHeight/2,this._cursorSurroundingLines);n-=u*this._lineHeight,r+=Math.max(0,u-1)*this._lineHeight}if(0!==o&&4!==o||(r+=this._lineHeight),r-n>d)s=n;else if(1===o||2===o)if(2===o&&a<=n&&r<=l)s=a;else{var h=(n+r)/2;s=Math.max(0,h-d/2)}else s=this._computeMinimumScrolling(a,l,n,r,3===o,4===o);return s},ViewLines.prototype._computeScrollLeftToRevealRange=function(e,t,i){var o=0,n=this._context.viewLayout.getCurrentViewport(),r=n.left,s=r+n.width,a=this._visibleRangesForLineRange(e,t,i),d=1073741824,l=0;if(!a)return{scrollLeft:r,maxHorizontalOffset:o};for(var u=0,h=a.ranges;u<h.length;u++){var c=h[u];c.left<d&&(d=c.left),c.left+c.width>l&&(l=c.left+c.width)}return o=l,d=Math.max(0,d-ViewLines.HORIZONTAL_EXTRA_PX),l+=this._revealHorizontalRightPadding,{scrollLeft:this._computeMinimumScrolling(r,s,d,l),maxHorizontalOffset:o}},ViewLines.prototype._computeMinimumScrolling=function(e,t,i,o,n,r){n=!!n,r=!!r;var s=(t|=0)-(e|=0);return(o|=0)-(i|=0)<s?n?i:r?Math.max(0,o-s):i<e?i:o>t?Math.max(0,o-s):e:i},ViewLines.HORIZONTAL_EXTRA_PX=30,ViewLines}(E.b),ce=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),pe=function(e){function LinesDecorationsOverlay(t){var i=e.call(this)||this;i._context=t;var o=i._context.configuration.options.get(107);return i._decorationsLeft=o.decorationsLeft,i._decorationsWidth=o.decorationsWidth,i._renderResult=null,i._context.addEventHandler(i),i}return ce(LinesDecorationsOverlay,e),LinesDecorationsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},LinesDecorationsOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options.get(107);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0},LinesDecorationsOverlay.prototype.onDecorationsChanged=function(e){return!0},LinesDecorationsOverlay.prototype.onFlushed=function(e){return!0},LinesDecorationsOverlay.prototype.onLinesChanged=function(e){return!0},LinesDecorationsOverlay.prototype.onLinesDeleted=function(e){return!0},LinesDecorationsOverlay.prototype.onLinesInserted=function(e){return!0},LinesDecorationsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},LinesDecorationsOverlay.prototype.onZonesChanged=function(e){return!0},LinesDecorationsOverlay.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],o=0,n=0,r=t.length;n<r;n++){var s=t[n],a=s.options.linesDecorationsClassName;a&&(i[o++]=new ee(s.range.startLineNumber,s.range.endLineNumber,a))}return i},LinesDecorationsOverlay.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._render(t,i,this._getDecorations(e)),n='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',r=[],s=t;s<=i;s++){for(var a=s-t,d=o[a],l="",u=0,h=d.length;u<h;u++)l+='<div class="cldr '+d[u]+n;r[a]=l}this._renderResult=r},LinesDecorationsOverlay.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},LinesDecorationsOverlay}(te),ge=i("PUOa"),fe=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),_e=function(e){function MarginViewLineDecorationsOverlay(t){var i=e.call(this)||this;return i._context=t,i._renderResult=null,i._context.addEventHandler(i),i}return fe(MarginViewLineDecorationsOverlay,e),MarginViewLineDecorationsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},MarginViewLineDecorationsOverlay.prototype.onConfigurationChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onDecorationsChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onFlushed=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onLinesChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onLinesDeleted=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onLinesInserted=function(e){return!0},MarginViewLineDecorationsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},MarginViewLineDecorationsOverlay.prototype.onZonesChanged=function(e){return!0},MarginViewLineDecorationsOverlay.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],o=0,n=0,r=t.length;n<r;n++){var s=t[n],a=s.options.marginClassName;a&&(i[o++]=new ee(s.range.startLineNumber,s.range.endLineNumber,a))}return i},MarginViewLineDecorationsOverlay.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._render(t,i,this._getDecorations(e)),n=[],r=t;r<=i;r++){for(var s=r-t,a=o[s],d="",l=0,u=a.length;l<u;l++)d+='<div class="cmdr '+a[l]+'" style=""></div>';n[s]=d}this._renderResult=n},MarginViewLineDecorationsOverlay.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},MarginViewLineDecorationsOverlay}(te),me=i("AKMP"),ve=i("N0LK"),ye=i("/UlZ"),Ce=i("/2ze"),we=i("DYOu"),be=i("MD5Z"),De=i("pg8w"),Le=function(){for(var e=[],t=32;t<=126;t++)e.push(t);return e.push(65533),e}(),Se=function(){function MinimapCharRenderer(e,t){this.scale=t,this.charDataNormal=MinimapCharRenderer.soften(e,.8),this.charDataLight=MinimapCharRenderer.soften(e,50/60)}return MinimapCharRenderer.soften=function(e,t){for(var i=new Uint8ClampedArray(e.length),o=0,n=e.length;o<n;o++)i[o]=e[o]*t;return i},MinimapCharRenderer.prototype.renderChar=function(e,t,i,o,n,r,s,a){var d=1*this.scale,l=2*this.scale;if(t+d>e.width||i+l>e.height)console.warn("bad render request outside image data");else for(var u=a?this.charDataLight:this.charDataNormal,h=function(e,t){return(e-=32)<0||e>96?t<=2?(e+96)%96:95:e}(o,s),c=4*e.width,p=r.r,g=r.g,f=r.b,_=n.r-p,m=n.g-g,v=n.b-f,y=e.data,C=h*d*l,w=i*c+4*t,b=0;b<l;b++){for(var D=w,L=0;L<d;L++){var S=u[C++]/255;y[D++]=p+_*S,y[D++]=g+m*S,y[D++]=f+v*S,D++}w+=c}},MinimapCharRenderer.prototype.blockRenderChar=function(e,t,i,o,n,r){var s=1*this.scale,a=2*this.scale;if(t+s>e.width||i+a>e.height)console.warn("bad render request outside image data");else for(var d=4*e.width,l=n.r,u=n.g,h=n.b,c=l+.5*(o.r-l),p=u+.5*(o.g-u),g=h+.5*(o.b-h),f=e.data,_=i*d+4*t,m=0;m<a;m++){for(var v=_,y=0;y<s;y++)f[v++]=c,f[v++]=p,f[v++]=g,v++;_+=d}},MinimapCharRenderer}(),Ne=i("C/vA"),Ee={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},decodeData=function(e){for(var t=new Uint8ClampedArray(e.length/2),i=0;i<e.length;i+=2)t[i>>1]=Ee[e[i]]<<4|15&Ee[e[i+1]];return t},Oe={1:Object(Ne.a)((function(){return decodeData("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")})),2:Object(Ne.a)((function(){return decodeData("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")}))},Re=function(){function MinimapCharRendererFactory(){}return MinimapCharRendererFactory.create=function(e,t){return this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily?this.lastCreated:(i=Oe[e]?new Se(Oe[e](),e):MinimapCharRendererFactory.createFromSampleData(MinimapCharRendererFactory.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i);var i},MinimapCharRendererFactory.createSampleData=function(e){var t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font="bold 16px "+e,i.textBaseline="middle";for(var o=0,n=0,r=Le;n<r.length;n++){var s=r[n];i.fillText(String.fromCharCode(s),o,8),o+=10}return i.getImageData(0,0,960,16)},MinimapCharRendererFactory.createFromSampleData=function(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");var i=MinimapCharRendererFactory._downsample(e,t);return new Se(i,t)},MinimapCharRendererFactory._downsampleChar=function(e,t,i,o,n){for(var r=1*n,s=2*n,a=o,d=0,l=0;l<s;l++)for(var u=l/s*16,h=(l+1)/s*16,c=0;c<r;c++){for(var p=c/r*10,g=(c+1)/r*10,f=0,_=0,m=u;m<h;m++)for(var v=t+3840*Math.floor(m),y=1-(m-Math.floor(m)),C=p;C<g;C++){var w=1-(C-Math.floor(C)),b=v+4*Math.floor(C),D=w*y;_+=D,f+=e[b]*e[b+3]/255*D}var L=f/_;d=Math.max(d,L),i[a++]=L}return d},MinimapCharRendererFactory._downsample=function(e,t){for(var i=2*t*1*t,o=96*i,n=new Uint8ClampedArray(o),r=0,s=0,a=0,d=0;d<96;d++)a=Math.max(a,this._downsampleChar(e,s,n,r,t)),r+=i,s+=40;if(a>0)for(var l=255/a,u=0;u<o;u++)n[u]*=l;return n},MinimapCharRendererFactory}(),Me=i("M1Kb"),We=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();function getMinimapLineHeight(e,t){return 1===e?2*t:3*t}function getMinimapCharWidth(e,t){return 1*t}var xe=function(){function MinimapOptions(e){var t=this,i=e.options,o=i.get(105),n=i.get(107),r=i.get(34);this.renderMinimap=0|n.renderMinimap,this.scrollBeyondLastLine=i.get(80);var s=i.get(54);this.showSlider=s.showSlider,this.fontScale=Math.round(s.scale*o),this.charRenderer=Object(Ne.a)((function(){return Re.create(t.fontScale,r.fontFamily)})),this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this.lineHeight=i.get(49),this.minimapLeft=n.minimapLeft,this.minimapWidth=n.minimapWidth,this.minimapHeight=n.height,this.canvasInnerWidth=Math.floor(o*this.minimapWidth),this.canvasInnerHeight=Math.floor(o*this.minimapHeight),this.canvasOuterWidth=this.canvasInnerWidth/o,this.canvasOuterHeight=this.canvasInnerHeight/o}return MinimapOptions.prototype.equals=function(e){return this.renderMinimap===e.renderMinimap&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.fontScale===e.fontScale&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight},MinimapOptions}(),Ve=function(){function MinimapLayout(e,t,i,o,n,r,s){this.scrollTop=e,this.scrollHeight=t,this._computedSliderRatio=i,this.sliderTop=o,this.sliderHeight=n,this.startLineNumber=r,this.endLineNumber=s}return MinimapLayout.prototype.getDesiredScrollTopFromDelta=function(e){var t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)},MinimapLayout.prototype.getDesiredScrollTopFromTouchLocation=function(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)},MinimapLayout.create=function(e,t,i,o,n,r,s,a,d){var l,u,h=e.pixelRatio,c=getMinimapLineHeight(e.renderMinimap,e.fontScale),p=Math.floor(e.canvasInnerHeight/c),g=e.lineHeight;if(n&&i!==r){var f=i-t+1;l=Math.floor(f*c/h)}else{var _=o/g;l=Math.floor(_*c/h)}u=e.scrollBeyondLastLine?(r-1)*c/h:Math.max(0,r*c/h-l);var m=(u=Math.min(e.minimapHeight-l,u))/(a-o),v=s*m,y=0;e.scrollBeyondLastLine&&(y=_=o/g);if(p>=r+y)return new MinimapLayout(s,a,m,v,l,C=1,r);var C=Math.max(1,Math.floor(t-v*h/c));return d&&d.scrollHeight===a&&(d.scrollTop>s&&(C=Math.min(C,d.startLineNumber)),d.scrollTop<s&&(C=Math.max(C,d.startLineNumber))),new MinimapLayout(s,a,m,v,l,C,Math.min(r,C+p-1))},MinimapLayout}(),Ie=function(){function MinimapLine(e){this.dy=e}return MinimapLine.prototype.onContentChanged=function(){this.dy=-1},MinimapLine.prototype.onTokensChanged=function(){this.dy=-1},MinimapLine.INVALID=new MinimapLine(-1),MinimapLine}(),Te=function(){function RenderData(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new L((function(){return Ie.INVALID})),this._renderedLines._set(e.startLineNumber,i)}return RenderData.prototype.linesEquals=function(e){if(!this.scrollEquals(e))return!1;for(var t=this._renderedLines._get().lines,i=0,o=t.length;i<o;i++)if(-1===t[i].dy)return!1;return!0},RenderData.prototype.scrollEquals=function(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber},RenderData.prototype._get=function(){var e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}},RenderData.prototype.onLinesChanged=function(e){return this._renderedLines.onLinesChanged(e.fromLineNumber,e.toLineNumber)},RenderData.prototype.onLinesDeleted=function(e){this._renderedLines.onLinesDeleted(e.fromLineNumber,e.toLineNumber)},RenderData.prototype.onLinesInserted=function(e){this._renderedLines.onLinesInserted(e.fromLineNumber,e.toLineNumber)},RenderData.prototype.onTokensChanged=function(e){return this._renderedLines.onTokensChanged(e.ranges)},RenderData}(),Ae=function(){function MinimapBuffers(e,t,i,o){this._backgroundFillData=MinimapBuffers._createBackgroundFillData(t,i,o),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}return MinimapBuffers.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e},MinimapBuffers._createBackgroundFillData=function(e,t,i){for(var o=i.r,n=i.g,r=i.b,s=new Uint8ClampedArray(e*t*4),a=0,d=0;d<t;d++)for(var l=0;l<e;l++)s[a]=o,s[a+1]=n,s[a+2]=r,s[a+3]=255,a+=4;return s},MinimapBuffers}(),Pe=function(e){function Minimap(t){var i=e.call(this,t)||this;return i._selections=[],i._renderDecorations=!1,i._gestureInProgress=!1,i._options=new xe(i._context.configuration),i._lastRenderData=null,i._buffers=null,i._selectionColor=i._context.theme.getColor(be.Ib),i._domNode=Object(c.b)(document.createElement("div")),E.a.write(i._domNode,8),i._domNode.setClassName(i._getMinimapDomNodeClassName()),i._domNode.setPosition("absolute"),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i._shadow=Object(c.b)(document.createElement("div")),i._shadow.setClassName("minimap-shadow-hidden"),i._domNode.appendChild(i._shadow),i._canvas=Object(c.b)(document.createElement("canvas")),i._canvas.setPosition("absolute"),i._canvas.setLeft(0),i._domNode.appendChild(i._canvas),i._decorationsCanvas=Object(c.b)(document.createElement("canvas")),i._decorationsCanvas.setPosition("absolute"),i._decorationsCanvas.setClassName("minimap-decorations-layer"),i._decorationsCanvas.setLeft(0),i._domNode.appendChild(i._decorationsCanvas),i._slider=Object(c.b)(document.createElement("div")),i._slider.setPosition("absolute"),i._slider.setClassName("minimap-slider"),i._slider.setLayerHinting(!0),i._slider.setContain("strict"),i._domNode.appendChild(i._slider),i._sliderHorizontal=Object(c.b)(document.createElement("div")),i._sliderHorizontal.setPosition("absolute"),i._sliderHorizontal.setClassName("minimap-slider-horizontal"),i._slider.appendChild(i._sliderHorizontal),i._tokensColorTracker=Ce.a.getInstance(),i._applyLayout(),i._mouseDownListener=n.o(i._domNode.domNode,"mousedown",(function(e){e.preventDefault();var t=i._options.renderMinimap;if(0!==t&&i._lastRenderData){var o=getMinimapLineHeight(t,i._options.fontScale),n=i._options.pixelRatio*e.browserEvent.offsetY,r=Math.floor(n/o)+i._lastRenderData.renderedLayout.startLineNumber;r=Math.min(r,i._context.model.getLineCount()),i._context.privateViewEventBus.emit(new we.m("mouse",new G.a(r,1,r,1),1,!1,0))}})),i._sliderMouseMoveMonitor=new me.a,i._sliderMouseDownListener=n.o(i._slider.domNode,"mousedown",(function(e){if(e.preventDefault(),e.stopPropagation(),e.leftButton&&i._lastRenderData){var t=e.posy,o=e.posx,n=i._lastRenderData.renderedLayout;i._slider.toggleClassName("active",!0),i._sliderMouseMoveMonitor.startMonitoring(e.target,e.buttons,me.b,(function(e){var r=Math.abs(e.posx-o);if(m.h&&r>140)i._context.viewLayout.setScrollPositionNow({scrollTop:n.scrollTop});else{var s=e.posy-t;i._context.viewLayout.setScrollPositionNow({scrollTop:n.getDesiredScrollTopFromDelta(s)})}}),(function(){i._slider.toggleClassName("active",!1)}))}})),i._gestureDisposable=De.b.addTarget(i._domNode.domNode),i._sliderTouchStartListener=n.j(i._domNode.domNode,De.a.Start,(function(e){e.preventDefault(),e.stopPropagation(),i._lastRenderData&&(i._slider.toggleClassName("active",!0),i._gestureInProgress=!0,i.scrollDueToTouchEvent(e))})),i._sliderTouchMoveListener=n.o(i._domNode.domNode,De.a.Change,(function(e){e.preventDefault(),e.stopPropagation(),i._lastRenderData&&i._gestureInProgress&&i.scrollDueToTouchEvent(e)})),i._sliderTouchEndListener=n.o(i._domNode.domNode,De.a.End,(function(e){e.preventDefault(),e.stopPropagation(),i._gestureInProgress=!1,i._slider.toggleClassName("active",!1)})),i}return We(Minimap,e),Minimap.prototype.scrollDueToTouchEvent=function(e){var t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._context.viewLayout.setScrollPositionNow({scrollTop:i})},Minimap.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),e.prototype.dispose.call(this)},Minimap.prototype._getMinimapDomNodeClassName=function(){return"always"===this._options.showSlider?"minimap slider-always":"minimap slider-mouseover"},Minimap.prototype.getDomNode=function(){return this._domNode},Minimap.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft),this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},Minimap.prototype._getBuffer=function(){return this._buffers||this._options.canvasInnerWidth>0&&this._options.canvasInnerHeight>0&&(this._buffers=new Ae(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers?this._buffers.getBuffer():null},Minimap.prototype._onOptionsMaybeChanged=function(){var e=new xe(this._context.configuration);return!this._options.equals(e)&&(this._options=e,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},Minimap.prototype.onConfigurationChanged=function(e){return this._onOptionsMaybeChanged()},Minimap.prototype.onCursorStateChanged=function(e){return this._selections=e.selections,this._renderDecorations=!0,!0},Minimap.prototype.onFlushed=function(e){return this._lastRenderData=null,!0},Minimap.prototype.onLinesChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e)},Minimap.prototype.onLinesDeleted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e),!0},Minimap.prototype.onLinesInserted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e),!0},Minimap.prototype.onScrollChanged=function(e){return this._renderDecorations=!0,!0},Minimap.prototype.onTokensChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)},Minimap.prototype.onTokensColorsChanged=function(e){return this._lastRenderData=null,this._buffers=null,!0},Minimap.prototype.onZonesChanged=function(e){return this._lastRenderData=null,!0},Minimap.prototype.onDecorationsChanged=function(e){return this._renderDecorations=!0,!0},Minimap.prototype.onThemeChanged=function(e){return this._context.model.invalidateMinimapColorCache(),this._selectionColor=this._context.theme.getColor(be.Ib),this._renderDecorations=!0,!0},Minimap.prototype.prepareRender=function(e){},Minimap.prototype.render=function(e){if(0===this._options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var t=Ve.create(this._options,e.visibleRange.startLineNumber,e.visibleRange.endLineNumber,e.viewportHeight,e.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight);var i=e.scrollLeft/this._options.typicalHalfwidthCharacterWidth,o=Math.min(this._options.minimapWidth,Math.round(i*getMinimapCharWidth(this._options.renderMinimap,this._options.fontScale)/this._options.pixelRatio));this._sliderHorizontal.setLeft(o),this._sliderHorizontal.setWidth(this._options.minimapWidth-o),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)},Minimap.prototype.renderDecorations=function(e){if(this._renderDecorations){this._renderDecorations=!1;var t=this._context.model.getDecorationsInViewport(new G.a(e.startLineNumber,1,e.endLineNumber,this._context.model.getLineMaxColumn(e.endLineNumber))),i=this._options,o=i.renderMinimap,n=i.canvasInnerWidth,r=i.canvasInnerHeight,s=getMinimapLineHeight(o,this._options.fontScale),a=getMinimapCharWidth(0,this._options.fontScale),d=this._context.model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,n,r);for(var u=new Map,h=0;h<this._selections.length;h++)for(var c=this._selections[h],p=c.startLineNumber;p<=c.endLineNumber;p++)this.renderDecorationOnLine(l,u,c,this._selectionColor,e,p,s,s,d,a);for(h=0;h<t.length;h++){var g=t[h];if(g.options.minimap){var f=g.options.minimap.getColor(this._context.theme);for(p=g.range.startLineNumber;p<=g.range.endLineNumber;p++)switch(g.options.minimap.position){case Me.c.Inline:this.renderDecorationOnLine(l,u,g.range,f,e,p,s,s,d,a);continue;case Me.c.Gutter:var _=(p-e.startLineNumber)*s;this.renderDecoration(l,f,2,_,2,s);continue}}}}},Minimap.prototype.renderDecorationOnLine=function(e,t,i,o,n,r,s,a,d,l){var u=(r-n.startLineNumber)*a;if(!(u+s<0||u>this._options.canvasInnerHeight)){var h=t.get(r),c=!h;if(!h){var p=this._context.model.getLineContent(r);h=[ye.f];for(var g=1;g<p.length+1;g++){var f=p.charCodeAt(g-1),_=9===f?d*l:ve.y(f)?2*l:l;h[g]=h[g-1]+_}t.set(r,h)}var m=i.startColumn,v=i.endColumn,y=i.startLineNumber,C=i.endLineNumber,w=y===r?h[m-1]:ye.f,b=C>r?h.length-1:v-1;if(b>0){var D=h[b]-w||2;this.renderDecoration(e,o,w,u,D,s)}c&&this.renderLineHighlight(e,o,u,s)}},Minimap.prototype.renderLineHighlight=function(e,t,i,o){e.fillStyle=t&&t.transparent(.5).toString()||"",e.fillRect(ye.f,i,e.canvas.width,o)},Minimap.prototype.renderDecoration=function(e,t,i,o,n,r){e.fillStyle=t&&t.toString()||"",e.fillRect(i,o,n,r)},Minimap.prototype.renderLines=function(e){var t=this._options.renderMinimap,i=this._options.charRenderer(),o=e.startLineNumber,n=e.endLineNumber,r=getMinimapLineHeight(t,this._options.fontScale);if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){var s=this._lastRenderData._get();return new Te(e,s.imageData,s.lines)}var a=this._getBuffer();if(!a)return null;for(var d=Minimap._renderUntouchedLines(a,o,n,r,this._lastRenderData),l=d[0],u=d[1],h=d[2],c=this._context.model.getMinimapLinesRenderingData(o,n,h),p=c.tabSize,g=this._tokensColorTracker.getColor(2),f=this._tokensColorTracker.backgroundIsLight(),_=0,m=[],v=0,y=n-o+1;v<y;v++)h[v]&&Minimap._renderLine(a,g,f,t,this._tokensColorTracker,i,_,p,c.data[v],this._options.fontScale),m[v]=new Ie(_),_+=r;var C=-1===l?0:l,w=(-1===u?a.height:u)-C;return this._canvas.domNode.getContext("2d").putImageData(a,0,0,0,C,a.width,w),new Te(e,a,m)},Minimap._renderUntouchedLines=function(e,t,i,o,n){var r=[];if(!n){for(var s=0,a=i-t+1;s<a;s++)r[s]=!0;return[-1,-1,r]}for(var d=n._get(),l=d.imageData.data,u=d.rendLineNumberStart,h=d.lines,c=h.length,p=e.width,g=e.data,f=(i-t+1)*o*p*4,_=-1,m=-1,v=-1,y=-1,C=-1,w=-1,b=0,D=t;D<=i;D++){var L=D-t,S=D-u,N=S>=0&&S<c?h[S].dy:-1;if(-1!==N){var E=N*p*4,O=(N+o)*p*4,R=b*p*4,M=(b+o)*p*4;y===E&&w===R?(y=O,w=M):(-1!==v&&(g.set(l.subarray(v,y),C),-1===_&&0===v&&v===C&&(_=y),-1===m&&y===f&&v===C&&(m=v)),v=E,y=O,C=R,w=M),r[L]=!1,b+=o}else r[L]=!0,b+=o}return-1!==v&&(g.set(l.subarray(v,y),C),-1===_&&0===v&&v===C&&(_=y),-1===m&&y===f&&v===C&&(m=v)),[-1===_?-1:_/(4*p),-1===m?-1:m/(4*p),r]},Minimap._renderLine=function(e,t,i,o,n,r,s,a,d,l){for(var u=d.content,h=d.tokens,c=getMinimapCharWidth(0,l),p=e.width-c,g=ye.f,f=0,_=0,m=0,v=h.getCount();m<v;m++)for(var y=h.getEndOffset(m),C=h.getForeground(m),w=n.getColor(C);f<y;f++){if(g>p)return;var b=u.charCodeAt(f);if(9===b){var D=a-(f+_)%a;_+=D-1,g+=D*c}else if(32===b)g+=c;else for(var L=ve.y(b)?2:1,S=0;S<L;S++)if(2===o?r.blockRenderChar(e,g,s,w,t,i):r.renderChar(e,g,s,b,w,t,l,i),(g+=c)>p)return}},Minimap}(E.b);Object(B.e)((function(e,t){var i=e.getColor(be.Xb);if(i){var o=i.transparent(.5);t.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+o+"; }")}var n=e.getColor(be.Yb);if(n){var r=n.transparent(.5);t.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+r+"; }")}var s=e.getColor(be.Wb);if(s){var a=s.transparent(.5);t.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+a+"; }")}var d=e.getColor(be.Vb);d&&t.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+d+" -6px 0 6px -6px inset; }")}));var Fe=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),He=function(e){function ViewOverlayWidgets(t){var i=e.call(this,t)||this,o=i._context.configuration.options.get(107);return i._widgets={},i._verticalScrollbarWidth=o.verticalScrollbarWidth,i._minimapWidth=o.minimapWidth,i._horizontalScrollbarHeight=o.horizontalScrollbarHeight,i._editorHeight=o.height,i._editorWidth=o.width,i._domNode=Object(c.b)(document.createElement("div")),E.a.write(i._domNode,4),i._domNode.setClassName("overlayWidgets"),i}return Fe(ViewOverlayWidgets,e),ViewOverlayWidgets.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets={}},ViewOverlayWidgets.prototype.getDomNode=function(){return this._domNode},ViewOverlayWidgets.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options.get(107);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0},ViewOverlayWidgets.prototype.addWidget=function(e){var t=Object(c.b)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()},ViewOverlayWidgets.prototype.setWidgetPosition=function(e,t){var i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)},ViewOverlayWidgets.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var i=this._widgets[t].domNode.domNode;delete this._widgets[t],i.parentNode.removeChild(i),this.setShouldRender()}},ViewOverlayWidgets.prototype._renderWidget=function(e){var t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){var i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()},ViewOverlayWidgets.prototype.prepareRender=function(e){},ViewOverlayWidgets.prototype.render=function(e){this._domNode.setWidth(this._editorWidth);for(var t=Object.keys(this._widgets),i=0,o=t.length;i<o;i++){var n=t[i];this._renderWidget(this._widgets[n])}},ViewOverlayWidgets}(E.b),Be=i("zrhQ"),ke=i("twdY"),je=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),ze=function(){function Settings(e,t){var i=e.options;this.lineHeight=i.get(49),this.pixelRatio=i.get(105),this.overviewRulerLanes=i.get(63),this.renderBorder=i.get(62);var o=t.getColor(F.l);this.borderColor=o?o.toString():null,this.hideCursor=i.get(42);var n=t.getColor(F.g);this.cursorColor=n?n.transparent(.7).toString():null,this.themeType=t.type;var r=i.get(54),s=r.enabled,a=r.side,d=s?ke.B.getDefaultBackground():null;this.backgroundColor=null===d||"left"===a?null:Be.a.Format.CSS.formatHex(d);var l=i.get(107).overviewRuler;this.top=l.top,this.right=l.right,this.domWidth=l.width,this.domHeight=l.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);var u=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),h=u[0],c=u[1];this.x=h,this.w=c}return Settings.prototype._initLanes=function(e,t,i){var o=t-e;if(i>=3){var n,r,s,a=o-(n=Math.floor(o/3))-(r=Math.floor(o/3)),d=(s=e)+n;return[[0,s,d,s,s+n+a,s,d,s],[0,n,a,n+a,r,n+a+r,a+r,n+a+r]]}if(2===i)return[[0,s=e,s,s,s+(n=Math.floor(o/2)),s,s,s],[0,n,n,n,r=o-n,n+r,n+r,n+r]];return[[0,e,e,e,e,e,e,e],[0,o,o,o,o,o,o,o]]},Settings.prototype.equals=function(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight},Settings}(),Ze=function(e){function DecorationsOverviewRuler(t){var i=e.call(this,t)||this;return i._domNode=Object(c.b)(document.createElement("canvas")),i._domNode.setClassName("decorationsOverviewRuler"),i._domNode.setPosition("absolute"),i._domNode.setLayerHinting(!0),i._domNode.setContain("strict"),i._domNode.setAttribute("aria-hidden","true"),i._updateSettings(!1),i._tokensColorTrackerListener=ke.B.onDidChange((function(e){e.changedColorMap&&i._updateSettings(!0)})),i._cursorPositions=[],i}return je(DecorationsOverviewRuler,e),DecorationsOverviewRuler.prototype.dispose=function(){e.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()},DecorationsOverviewRuler.prototype._updateSettings=function(e){var t=new ze(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)},DecorationsOverviewRuler.prototype.onConfigurationChanged=function(e){return this._updateSettings(!1)},DecorationsOverviewRuler.prototype.onCursorStateChanged=function(e){this._cursorPositions=[];for(var t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(_.a.compare),!0},DecorationsOverviewRuler.prototype.onDecorationsChanged=function(e){return!0},DecorationsOverviewRuler.prototype.onFlushed=function(e){return!0},DecorationsOverviewRuler.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},DecorationsOverviewRuler.prototype.onZonesChanged=function(e){return!0},DecorationsOverviewRuler.prototype.onThemeChanged=function(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)},DecorationsOverviewRuler.prototype.getDomNode=function(){return this._domNode.domNode},DecorationsOverviewRuler.prototype.prepareRender=function(e){},DecorationsOverviewRuler.prototype.render=function(e){this._render()},DecorationsOverviewRuler.prototype._render=function(){if(0!==this._settings.overviewRulerLanes){var e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,o=this._context.viewLayout,n=t/this._context.viewLayout.getScrollHeight(),r=this._context.model.getAllOverviewRulerDecorations(this._context.theme),s=6*this._settings.pixelRatio|0,a=s/2|0,d=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?d.clearRect(0,0,e,t):(d.fillStyle=this._settings.backgroundColor,d.fillRect(0,0,e,t));var l=this._settings.x,u=this._settings.w,h=Object.keys(r);h.sort();for(var c=0,p=h.length;c<p;c++){var g=h[c],f=r[g];d.fillStyle=g;for(var _=0,m=0,v=0,y=0,C=f.length;y<C;y++){var w=f[3*y],b=f[3*y+1],D=f[3*y+2],L=o.getVerticalOffsetForLineNumber(b)*n|0;if((W=(o.getVerticalOffsetForLineNumber(D)+i)*n|0)-L<s)(R=(L+W)/2|0)<a?R=a:R+a>t&&(R=t-a),L=R-a,W=R+a;L>v+1||w!==_?(0!==y&&d.fillRect(l[_],m,u[_],v-m),_=w,m=L,v=W):W>v&&(v=W)}d.fillRect(l[_],m,u[_],v-m)}if(!this._settings.hideCursor&&this._settings.cursorColor){var S=2*this._settings.pixelRatio|0,N=S/2|0,E=this._settings.x[7],O=this._settings.w[7];d.fillStyle=this._settings.cursorColor;for(m=-100,v=-100,y=0,C=this._cursorPositions.length;y<C;y++){var R,M=this._cursorPositions[y];(R=o.getVerticalOffsetForLineNumber(M.lineNumber)*n|0)<N?R=N:R+N>t&&(R=t-N);var W=(L=R-N)+S;L>v+1?(0!==y&&d.fillRect(E,m,O,v-m),m=L,v=W):W>v&&(v=W)}d.fillRect(E,m,O,v-m)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(d.beginPath(),d.lineWidth=1,d.strokeStyle=this._settings.borderColor,d.moveTo(0,0),d.lineTo(0,t),d.stroke(),d.moveTo(0,0),d.lineTo(e,0),d.stroke())}else this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"")},DecorationsOverviewRuler}(E.b),Ue=i("MvK1"),Ge=i("4tyL"),Ke=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),qe=function(e){function OverviewRuler(t,i){var o=e.call(this)||this;o._context=t;var n=o._context.configuration.options;return o._domNode=Object(c.b)(document.createElement("canvas")),o._domNode.setClassName(i),o._domNode.setPosition("absolute"),o._domNode.setLayerHinting(!0),o._domNode.setContain("strict"),o._zoneManager=new Ue.b((function(e){return o._context.viewLayout.getVerticalOffsetForLineNumber(e)})),o._zoneManager.setDOMWidth(0),o._zoneManager.setDOMHeight(0),o._zoneManager.setOuterHeight(o._context.viewLayout.getScrollHeight()),o._zoneManager.setLineHeight(n.get(49)),o._zoneManager.setPixelRatio(n.get(105)),o._context.addEventHandler(o),o}return Ke(OverviewRuler,e),OverviewRuler.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},OverviewRuler.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return e.hasChanged(49)&&(this._zoneManager.setLineHeight(t.get(49)),this._render()),e.hasChanged(105)&&(this._zoneManager.setPixelRatio(t.get(105)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0},OverviewRuler.prototype.onFlushed=function(e){return this._render(),!0},OverviewRuler.prototype.onScrollChanged=function(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0},OverviewRuler.prototype.onZonesChanged=function(e){return this._render(),!0},OverviewRuler.prototype.getDomNode=function(){return this._domNode.domNode},OverviewRuler.prototype.setLayout=function(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);var t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,(t=this._zoneManager.setDOMHeight(e.height)||t)&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())},OverviewRuler.prototype.setZones=function(e){this._zoneManager.setZones(e),this._render()},OverviewRuler.prototype._render=function(){if(0===this._zoneManager.getOuterHeight())return!1;var e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),o=this._zoneManager.getId2Color(),n=this._domNode.domNode.getContext("2d");return n.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(n,i,o,e),!0},OverviewRuler.prototype._renderOneLane=function(e,t,i,o){for(var n=0,r=0,s=0,a=0,d=t;a<d.length;a++){var l=d[a],u=l.colorId,h=l.from,c=l.to;u!==n?(e.fillRect(0,r,o,s-r),n=u,e.fillStyle=i[n],r=h,s=c):s>=h?s=Math.max(s,c):(e.fillRect(0,r,o,s-r),r=h,s=c)}e.fillRect(0,r,o,s-r)},OverviewRuler}(Ge.a),Ye=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Xe=function(e){function Rulers(t){var i=e.call(this,t)||this;i.domNode=Object(c.b)(document.createElement("div")),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i.domNode.setClassName("view-rulers"),i._renderedRulers=[];var o=i._context.configuration.options;return i._rulers=o.get(77),i._typicalHalfwidthCharacterWidth=o.get(34).typicalHalfwidthCharacterWidth,i}return Ye(Rulers,e),Rulers.prototype.dispose=function(){e.prototype.dispose.call(this)},Rulers.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return this._rulers=t.get(77),this._typicalHalfwidthCharacterWidth=t.get(34).typicalHalfwidthCharacterWidth,!0},Rulers.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},Rulers.prototype.prepareRender=function(e){},Rulers.prototype._ensureRulersCount=function(){var e=this._renderedRulers.length,t=this._rulers.length;if(e!==t)if(e<t)for(var i=this._context.model.getOptions().tabSize,o=t-e;o>0;){(r=Object(c.b)(document.createElement("div"))).setClassName("view-ruler"),r.setWidth(i),this.domNode.appendChild(r),this._renderedRulers.push(r),o--}else for(var n=e-t;n>0;){var r=this._renderedRulers.pop();this.domNode.removeChild(r),n--}},Rulers.prototype.render=function(e){this._ensureRulersCount();for(var t=0,i=this._rulers.length;t<i;t++){var o=this._renderedRulers[t];o.setHeight(Math.min(e.scrollHeight,1e6)),o.setLeft(this._rulers[t]*this._typicalHalfwidthCharacterWidth)}},Rulers}(E.b);Object(B.e)((function(e,t){var i=e.getColor(F.m);i&&t.addRule(".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 "+i+" inset; }")}));var Qe=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),Je=function(e){function ScrollDecorationViewPart(t){var i=e.call(this,t)||this;i._scrollTop=0,i._width=0,i._updateWidth(),i._shouldShow=!1;var o=i._context.configuration.options.get(78);return i._useShadows=o.useShadows,i._domNode=Object(c.b)(document.createElement("div")),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i}return Qe(ScrollDecorationViewPart,e),ScrollDecorationViewPart.prototype.dispose=function(){e.prototype.dispose.call(this)},ScrollDecorationViewPart.prototype._updateShouldShow=function(){var e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)},ScrollDecorationViewPart.prototype.getDomNode=function(){return this._domNode},ScrollDecorationViewPart.prototype._updateWidth=function(){var e=this._context.configuration.options.get(107);0===e.renderMinimap||e.minimapWidth>0&&0===e.minimapLeft?this._width=e.width:this._width=e.width-e.minimapWidth-e.verticalScrollbarWidth},ScrollDecorationViewPart.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options.get(78);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0},ScrollDecorationViewPart.prototype.onScrollChanged=function(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()},ScrollDecorationViewPart.prototype.prepareRender=function(e){},ScrollDecorationViewPart.prototype.render=function(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},ScrollDecorationViewPart}(E.b);Object(B.e)((function(e,t){var i=e.getColor(be.Vb);i&&t.addRule(".monaco-editor .scroll-decoration { box-shadow: "+i+" 0 6px 6px -6px inset; }")}));var $e=i("D3Dy"),et=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),tt=function tt(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null},it=function it(e,t){this.lineNumber=e,this.ranges=t};function toStyledRange(e){return new tt(e)}function toStyled(e){return new it(e.lineNumber,e.ranges.map(toStyledRange))}var ot=$e.f,nt=function(e){function SelectionsOverlay(t){var i=e.call(this)||this;i._previousFrameVisibleRangesWithStyle=[],i._context=t;var o=i._context.configuration.options;return i._lineHeight=o.get(49),i._roundedSelection=o.get(76),i._typicalHalfwidthCharacterWidth=o.get(34).typicalHalfwidthCharacterWidth,i._selections=[],i._renderResult=null,i._context.addEventHandler(i),i}return et(SelectionsOverlay,e),SelectionsOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},SelectionsOverlay.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return this._lineHeight=t.get(49),this._roundedSelection=t.get(76),this._typicalHalfwidthCharacterWidth=t.get(34).typicalHalfwidthCharacterWidth,!0},SelectionsOverlay.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),!0},SelectionsOverlay.prototype.onDecorationsChanged=function(e){return!0},SelectionsOverlay.prototype.onFlushed=function(e){return!0},SelectionsOverlay.prototype.onLinesChanged=function(e){return!0},SelectionsOverlay.prototype.onLinesDeleted=function(e){return!0},SelectionsOverlay.prototype.onLinesInserted=function(e){return!0},SelectionsOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},SelectionsOverlay.prototype.onZonesChanged=function(e){return!0},SelectionsOverlay.prototype._visibleRangesHaveGaps=function(e){for(var t=0,i=e.length;t<i;t++){if(e[t].ranges.length>1)return!0}return!1},SelectionsOverlay.prototype._enrichVisibleRangesWithStyle=function(e,t,i){var o=this._typicalHalfwidthCharacterWidth/4,n=null,r=null;if(i&&i.length>0&&t.length>0){var s=t[0].lineNumber;if(s===e.startLineNumber)for(var a=0;!n&&a<i.length;a++)i[a].lineNumber===s&&(n=i[a].ranges[0]);var d=t[t.length-1].lineNumber;if(d===e.endLineNumber)for(a=i.length-1;!r&&a>=0;a--)i[a].lineNumber===d&&(r=i[a].ranges[0]);n&&!n.startStyle&&(n=null),r&&!r.startStyle&&(r=null)}a=0;for(var l=t.length;a<l;a++){var u=t[a].ranges[0],h=u.left,c=u.left+u.width,p={top:0,bottom:0},g={top:0,bottom:0};if(a>0){var f=t[a-1].ranges[0].left,_=t[a-1].ranges[0].left+t[a-1].ranges[0].width;abs(h-f)<o?p.top=2:h>f&&(p.top=1),abs(c-_)<o?g.top=2:f<c&&c<_&&(g.top=1)}else n&&(p.top=n.startStyle.top,g.top=n.endStyle.top);if(a+1<l){var m=t[a+1].ranges[0].left,v=t[a+1].ranges[0].left+t[a+1].ranges[0].width;abs(h-m)<o?p.bottom=2:m<h&&h<v&&(p.bottom=1),abs(c-v)<o?g.bottom=2:c<v&&(g.bottom=1)}else r&&(p.bottom=r.startStyle.bottom,g.bottom=r.endStyle.bottom);u.startStyle=p,u.endStyle=g}},SelectionsOverlay.prototype._getVisibleRangesWithStyle=function(e,t,i){var o=(t.linesVisibleRangesForRange(e,!0)||[]).map(toStyled),n=this._visibleRangesHaveGaps(o);return ot||n||!this._roundedSelection||this._enrichVisibleRangesWithStyle(t.visibleRange,o,i),o},SelectionsOverlay.prototype._createSelectionPiece=function(e,t,i,o,n){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+o.toString()+"px;width:"+n.toString()+"px;height:"+t+'px;"></div>'},SelectionsOverlay.prototype._actualRenderOneSelection=function(e,t,i,o){if(0!==o.length)for(var n=!!o[0].ranges[0].startStyle,r=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=o[0].lineNumber,d=o[o.length-1].lineNumber,l=0,u=o.length;l<u;l++){for(var h=o[l],c=h.lineNumber,p=c-t,g=i&&(c===d||c===a)?s:r,f=i&&c===a?1:0,_="",m="",v=0,y=h.ranges.length;v<y;v++){var C=h.ranges[v];if(n){var w=C.startStyle,b=C.endStyle;if(1===w.top||1===w.bottom){_+=this._createSelectionPiece(f,g,SelectionsOverlay.SELECTION_CLASS_NAME,C.left-SelectionsOverlay.ROUNDED_PIECE_WIDTH,SelectionsOverlay.ROUNDED_PIECE_WIDTH);var D=SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME;1===w.top&&(D+=" "+SelectionsOverlay.SELECTION_TOP_RIGHT),1===w.bottom&&(D+=" "+SelectionsOverlay.SELECTION_BOTTOM_RIGHT),_+=this._createSelectionPiece(f,g,D,C.left-SelectionsOverlay.ROUNDED_PIECE_WIDTH,SelectionsOverlay.ROUNDED_PIECE_WIDTH)}if(1===b.top||1===b.bottom){_+=this._createSelectionPiece(f,g,SelectionsOverlay.SELECTION_CLASS_NAME,C.left+C.width,SelectionsOverlay.ROUNDED_PIECE_WIDTH);var L=SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME;1===b.top&&(L+=" "+SelectionsOverlay.SELECTION_TOP_LEFT),1===b.bottom&&(L+=" "+SelectionsOverlay.SELECTION_BOTTOM_LEFT),_+=this._createSelectionPiece(f,g,L,C.left+C.width,SelectionsOverlay.ROUNDED_PIECE_WIDTH)}}var S=SelectionsOverlay.SELECTION_CLASS_NAME;if(n){w=C.startStyle,b=C.endStyle;0===w.top&&(S+=" "+SelectionsOverlay.SELECTION_TOP_LEFT),0===w.bottom&&(S+=" "+SelectionsOverlay.SELECTION_BOTTOM_LEFT),0===b.top&&(S+=" "+SelectionsOverlay.SELECTION_TOP_RIGHT),0===b.bottom&&(S+=" "+SelectionsOverlay.SELECTION_BOTTOM_RIGHT)}m+=this._createSelectionPiece(f,g,S,C.left,C.width)}e[p][0]+=_,e[p][1]+=m}},SelectionsOverlay.prototype.prepareRender=function(e){for(var t=[],i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,n=i;n<=o;n++){t[n-i]=["",""]}for(var r=[],s=0,a=this._selections.length;s<a;s++){var d=this._selections[s];if(d.isEmpty())r[s]=null;else{var l=this._getVisibleRangesWithStyle(d,e,this._previousFrameVisibleRangesWithStyle[s]);r[s]=l,this._actualRenderOneSelection(t,i,this._selections.length>1,l)}}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=t.map((function(e){return e[0]+e[1]}))},SelectionsOverlay.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},SelectionsOverlay.SELECTION_CLASS_NAME="selected-text",SelectionsOverlay.SELECTION_TOP_LEFT="top-left-radius",SelectionsOverlay.SELECTION_BOTTOM_LEFT="bottom-left-radius",SelectionsOverlay.SELECTION_TOP_RIGHT="top-right-radius",SelectionsOverlay.SELECTION_BOTTOM_RIGHT="bottom-right-radius",SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",SelectionsOverlay.ROUNDED_PIECE_WIDTH=10,SelectionsOverlay}(P.a);function abs(e){return e<0?-e:e}Object(B.e)((function(e,t){var i=e.getColor(be.K);i&&t.addRule(".monaco-editor .focused .selected-text { background-color: "+i+"; }");var o=e.getColor(be.F);o&&t.addRule(".monaco-editor .selected-text { background-color: "+o+"; }");var n=e.getColor(be.L);n&&t.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+n+"; }")}));var rt=function rt(e,t,i,o,n,r){this.top=e,this.left=t,this.width=i,this.height=o,this.textContent=n,this.textContentClassName=r},st=function(){function ViewCursor(e){this._context=e;var t=this._context.configuration.options,i=t.get(34);this._cursorStyle=t.get(18),this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(21),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Object(c.b)(document.createElement("div")),this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),l.a.applyFontInfo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new _.a(1,1),this._lastRenderedContent="",this._renderData=null}return ViewCursor.prototype.getDomNode=function(){return this._domNode},ViewCursor.prototype.getPosition=function(){return this._position},ViewCursor.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},ViewCursor.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},ViewCursor.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(34);return this._cursorStyle=t.get(18),this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(21),this._typicalHalfwidthCharacterWidth),l.a.applyFontInfo(this._domNode,i),!0},ViewCursor.prototype.onCursorPositionChanged=function(e){return this._position=e,!0},ViewCursor.prototype._prepareRender=function(e){var t="";if(this._cursorStyle===ye.g.Line||this._cursorStyle===ye.g.LineThin){var i,o=e.visibleRangeForPosition(this._position);if(!o||o.outsideRenderedLine)return null;if(this._cursorStyle===ye.g.Line){if((i=n.u(this._lineCursorWidth>0?this._lineCursorWidth:2))>2){var r=this._context.model.getLineContent(this._position.lineNumber),s=ve.E(r,this._position.column-1);t=r.substr(this._position.column-1,s)}}else i=n.u(1);var a=o.left;i>=2&&a>=1&&(a-=1);var d=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new rt(d,a,i,this._lineHeight,t,"")}var l=this._context.model.getLineContent(this._position.lineNumber),u=ve.E(l,this._position.column-1),h=e.linesVisibleRangesForRange(new G.a(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+u),!1);if(!h||0===h.length)return null;var c=h[0];if(c.outsideRenderedLine||0===c.ranges.length)return null;var p=c.ranges[0],g=p.width<1?this._typicalHalfwidthCharacterWidth:p.width,f="";if(this._cursorStyle===ye.g.Block){var _=this._context.model.getViewLineData(this._position.lineNumber);t=l.substr(this._position.column-1,u);var m=_.tokens.findTokenIndexAtOffset(this._position.column-1);f=_.tokens.getClassName(m)}var v=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,y=this._lineHeight;return this._cursorStyle!==ye.g.Underline&&this._cursorStyle!==ye.g.UnderlineThin||(v+=this._lineHeight-2,y=2),new rt(v,p.left,g,y,t,f)},ViewCursor.prototype.prepareRender=function(e){this._renderData=this._prepareRender(e)},ViewCursor.prototype.render=function(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor "+this._renderData.textContentClassName),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)},ViewCursor}(),at=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),dt=function(e){function ViewCursors(t){var i=e.call(this,t)||this,o=i._context.configuration.options;return i._readOnly=o.get(68),i._cursorBlinking=o.get(16),i._cursorStyle=o.get(18),i._cursorSmoothCaretAnimation=o.get(17),i._selectionIsEmpty=!0,i._isVisible=!1,i._primaryCursor=new st(i._context),i._secondaryCursors=[],i._renderData=[],i._domNode=Object(c.b)(document.createElement("div")),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i._updateDomClassName(),i._domNode.appendChild(i._primaryCursor.getDomNode()),i._startCursorBlinkAnimation=new se.e,i._cursorFlatBlinkInterval=new se.c,i._blinkingEnabled=!1,i._editorHasFocus=!1,i._updateBlinking(),i}return at(ViewCursors,e),ViewCursors.prototype.dispose=function(){e.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},ViewCursors.prototype.getDomNode=function(){return this._domNode},ViewCursors.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;this._readOnly=t.get(68),this._cursorBlinking=t.get(16),this._cursorStyle=t.get(18),this._cursorSmoothCaretAnimation=t.get(17),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(var i=0,o=this._secondaryCursors.length;i<o;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0},ViewCursors.prototype._onCursorPositionChanged=function(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length)for(var i=t.length-this._secondaryCursors.length,o=0;o<i;o++){var n=new st(this._context);this._domNode.domNode.insertBefore(n.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(n)}else if(this._secondaryCursors.length>t.length){var r=this._secondaryCursors.length-t.length;for(o=0;o<r;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(o=0;o<t.length;o++)this._secondaryCursors[o].onCursorPositionChanged(t[o])},ViewCursors.prototype.onCursorStateChanged=function(e){for(var t=[],i=0,o=e.selections.length;i<o;i++)t[i]=e.selections[i].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));var n=e.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0},ViewCursors.prototype.onDecorationsChanged=function(e){return!0},ViewCursors.prototype.onFlushed=function(e){return!0},ViewCursors.prototype.onFocusChanged=function(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1},ViewCursors.prototype.onLinesChanged=function(e){return!0},ViewCursors.prototype.onLinesDeleted=function(e){return!0},ViewCursors.prototype.onLinesInserted=function(e){return!0},ViewCursors.prototype.onScrollChanged=function(e){return!0},ViewCursors.prototype.onTokensChanged=function(e){var shouldRender=function(t){for(var i=0,o=e.ranges.length;i<o;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(shouldRender(this._primaryCursor.getPosition()))return!0;for(var t=0,i=this._secondaryCursors;t<i.length;t++){if(shouldRender(i[t].getPosition()))return!0}return!1},ViewCursors.prototype.onZonesChanged=function(e){return!0},ViewCursors.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0},ViewCursors.prototype._updateBlinking=function(){var e=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var t=this._getCursorBlinking(),i=0===t,o=5===t;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),i||o||(1===t?this._cursorFlatBlinkInterval.cancelAndSet((function(){e._isVisible?e._hide():e._show()}),ViewCursors.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((function(){e._blinkingEnabled=!0,e._updateDomClassName()}),ViewCursors.BLINK_INTERVAL))},ViewCursors.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},ViewCursors.prototype._getClassName=function(){var e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case ye.g.Line:e+=" cursor-line-style";break;case ye.g.Block:e+=" cursor-block-style";break;case ye.g.Underline:e+=" cursor-underline-style";break;case ye.g.LineThin:e+=" cursor-line-thin-style";break;case ye.g.BlockOutline:e+=" cursor-block-outline-style";break;case ye.g.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e},ViewCursors.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0},ViewCursors.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1},ViewCursors.prototype.prepareRender=function(e){this._primaryCursor.prepareRender(e);for(var t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)},ViewCursors.prototype.render=function(e){var t=[],i=0,o=this._primaryCursor.render(e);o&&(t[i++]=o);for(var n=0,r=this._secondaryCursors.length;n<r;n++){var s=this._secondaryCursors[n].render(e);s&&(t[i++]=s)}this._renderData=t},ViewCursors.prototype.getLastRenderData=function(){return this._renderData},ViewCursors.BLINK_INTERVAL=500,ViewCursors}(E.b);Object(B.e)((function(e,t){var i=e.getColor(F.g);if(i){var o=e.getColor(F.f);o||(o=i.opposite()),t.addRule(".monaco-editor .cursor { background-color: "+i+"; border-color: "+i+"; color: "+o+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+o+"; border-right: 1px solid "+o+"; }")}}));var lt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),invalidFunc=function(){throw new Error("Invalid change accessor")},ut=function(e){function ViewZones(t){var i=e.call(this,t)||this,o=i._context.configuration.options,n=o.get(107);return i._lineHeight=o.get(49),i._contentWidth=n.contentWidth,i._contentLeft=n.contentLeft,i.domNode=Object(c.b)(document.createElement("div")),i.domNode.setClassName("view-zones"),i.domNode.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i.marginDomNode=Object(c.b)(document.createElement("div")),i.marginDomNode.setClassName("margin-view-zones"),i.marginDomNode.setPosition("absolute"),i.marginDomNode.setAttribute("role","presentation"),i.marginDomNode.setAttribute("aria-hidden","true"),i._zones={},i}return lt(ViewZones,e),ViewZones.prototype.dispose=function(){e.prototype.dispose.call(this),this._zones={}},ViewZones.prototype._recomputeWhitespacesProps=function(){for(var e=this,t=this._context.viewLayout.getWhitespaces(),i=new Map,o=0,n=t;o<n.length;o++){var r=n[o];i.set(r.id,r)}return this._context.viewLayout.changeWhitespace((function(t){for(var o=!1,n=Object.keys(e._zones),r=0,s=n.length;r<s;r++){var a=n[r],d=e._zones[a],l=e._computeWhitespaceProps(d.delegate),u=i.get(a);!u||u.afterLineNumber===l.afterViewLineNumber&&u.height===l.heightInPx||(t.changeOneWhitespace(a,l.afterViewLineNumber,l.heightInPx),e._safeCallOnComputedHeight(d.delegate,l.heightInPx),o=!0)}return o}))},ViewZones.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,i=t.get(107);return this._lineHeight=t.get(49),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(49)&&this._recomputeWhitespacesProps(),!0},ViewZones.prototype.onLineMappingChanged=function(e){var t=this._recomputeWhitespacesProps();return t&&this._context.viewLayout.onHeightMaybeChanged(),t},ViewZones.prototype.onLinesDeleted=function(e){return!0},ViewZones.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},ViewZones.prototype.onZonesChanged=function(e){return!0},ViewZones.prototype.onLinesInserted=function(e){return!0},ViewZones.prototype._getZoneOrdinal=function(e){return void 0!==e.afterColumn?e.afterColumn:1e4},ViewZones.prototype._computeWhitespaceProps=function(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};var t,i;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var o=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new _.a(o,this._context.model.getModelLineMaxColumn(o))}i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});var n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),r=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{afterViewLineNumber:n.lineNumber,heightInPx:r?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}},ViewZones.prototype.changeViewZones=function(e){var t=this;return this._context.viewLayout.changeWhitespace((function(i){var o=!1,n={addZone:function(e){return o=!0,t._addZone(i,e)},removeZone:function(e){e&&(o=t._removeZone(i,e)||o)},layoutZone:function(e){e&&(o=t._layoutZone(i,e)||o)}};return function safeInvoke1Arg(e,t){try{return e(t)}catch(e){Object(r.e)(e)}}(e,n),n.addZone=invalidFunc,n.removeZone=invalidFunc,n.layoutZone=invalidFunc,o}))},ViewZones.prototype._addZone=function(e,t){var i=this._computeWhitespaceProps(t),o={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isVisible:!1,domNode:Object(c.b)(t.domNode),marginDomNode:t.marginDomNode?Object(c.b)(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId},ViewZones.prototype._removeZone=function(e,t){if(this._zones.hasOwnProperty(t)){var i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},ViewZones.prototype._layoutZone=function(e,t){if(this._zones.hasOwnProperty(t)){var i=this._zones[t],o=this._computeWhitespaceProps(i.delegate);return e.changeOneWhitespace(i.whitespaceId,o.afterViewLineNumber,o.heightInPx),this._safeCallOnComputedHeight(i.delegate,o.heightInPx),this.setShouldRender(),!0}return!1},ViewZones.prototype.shouldSuppressMouseDownOnViewZone=function(e){if(this._zones.hasOwnProperty(e)){var t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1},ViewZones.prototype._heightInPixels=function(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight},ViewZones.prototype._minWidthInPixels=function(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0},ViewZones.prototype._safeCallOnComputedHeight=function(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(e){Object(r.e)(e)}},ViewZones.prototype._safeCallOnDomNodeTop=function(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(e){Object(r.e)(e)}},ViewZones.prototype.prepareRender=function(e){},ViewZones.prototype.render=function(e){for(var t=e.viewportData.whitespaceViewportData,i={},o=!1,n=0,r=t.length;n<r;n++)i[t[n].id]=t[n],o=!0;var s=Object.keys(this._zones);for(n=0,r=s.length;n<r;n++){var a=s[n],d=this._zones[a],l=0,u=0,h="none";i.hasOwnProperty(a)?(l=i[a].verticalOffset-e.bigNumbersDelta,u=i[a].height,h="block",d.isVisible||(d.domNode.setAttribute("monaco-visible-view-zone","true"),d.isVisible=!0),this._safeCallOnDomNodeTop(d.delegate,e.getScrolledTopFromAbsoluteTop(i[a].verticalOffset))):(d.isVisible&&(d.domNode.removeAttribute("monaco-visible-view-zone"),d.isVisible=!1),this._safeCallOnDomNodeTop(d.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),d.domNode.setTop(l),d.domNode.setHeight(u),d.domNode.setDisplay(h),d.marginDomNode&&(d.marginDomNode.setTop(l),d.marginDomNode.setHeight(u),d.marginDomNode.setDisplay(h))}o&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},ViewZones}(E.b);var ht=i("U4Dq"),ct=i("ofhk"),pt=i("4GuK"),gt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),ft=function(e){function View(t,i,o,n,r,s){var a=e.call(this)||this;a._cursor=r,a._renderAnimationFrame=null,a.outgoingEvents=s;var d=new v(i,n,a.outgoingEvents,t);a.eventDispatcher=new ct.a((function(e){return a._renderOnce(e)})),a.eventDispatcher.addEventHandler(a),a._context=new ht.a(i,o.getTheme(),n,a.eventDispatcher),a._register(o.onThemeChange((function(e){a._context.theme=e,a.eventDispatcher.emit(new we.o),a.render(!0,!1)}))),a.viewParts=[],a._textAreaHandler=new g.a(a._context,d,a.createTextAreaHandlerHelper()),a.viewParts.push(a._textAreaHandler),a.linesContent=Object(c.b)(document.createElement("div")),a.linesContent.setClassName("lines-content monaco-editor-background"),a.linesContent.setPosition("absolute"),a.domNode=Object(c.b)(document.createElement("div")),a.domNode.setClassName(a.getEditorClassName()),a.overflowGuardContainer=Object(c.b)(document.createElement("div")),E.a.write(a.overflowGuardContainer,3),a.overflowGuardContainer.setClassName("overflow-guard"),a._scrollbar=new J(a._context,a.linesContent,a.domNode,a.overflowGuardContainer),a.viewParts.push(a._scrollbar),a.viewLines=new he(a._context,a.linesContent),a.viewZones=new ut(a._context),a.viewParts.push(a.viewZones);var l=new Ze(a._context);a.viewParts.push(l);var u=new Je(a._context);a.viewParts.push(u);var h=new W(a._context);a.viewParts.push(h),h.addDynamicOverlay(new Z(a._context)),h.addDynamicOverlay(new nt(a._context)),h.addDynamicOverlay(new ne(a._context)),h.addDynamicOverlay(new Y(a._context));var f=new x(a._context);a.viewParts.push(f),f.addDynamicOverlay(new U(a._context)),f.addDynamicOverlay(new ie(a._context)),f.addDynamicOverlay(new _e(a._context)),f.addDynamicOverlay(new pe(a._context)),f.addDynamicOverlay(new re.a(a._context));var _=new ge.a(a._context);_.getDomNode().appendChild(a.viewZones.marginDomNode),_.getDomNode().appendChild(f.getDomNode()),a.viewParts.push(_),a.contentWidgets=new T(a._context,a.domNode),a.viewParts.push(a.contentWidgets),a.viewCursors=new dt(a._context),a.viewParts.push(a.viewCursors),a.overlayWidgets=new He(a._context),a.viewParts.push(a.overlayWidgets);var m=new Xe(a._context);a.viewParts.push(m);var y=new Pe(a._context);if(a.viewParts.push(y),l){var C=a._scrollbar.getOverviewRulerLayoutInfo();C.parent.insertBefore(l.getDomNode(),C.insertBefore)}return a.linesContent.appendChild(h.getDomNode()),a.linesContent.appendChild(m.domNode),a.linesContent.appendChild(a.viewZones.domNode),a.linesContent.appendChild(a.viewLines.getDomNode()),a.linesContent.appendChild(a.contentWidgets.domNode),a.linesContent.appendChild(a.viewCursors.getDomNode()),a.overflowGuardContainer.appendChild(_.getDomNode()),a.overflowGuardContainer.appendChild(a._scrollbar.getDomNode()),a.overflowGuardContainer.appendChild(u.getDomNode()),a.overflowGuardContainer.appendChild(a._textAreaHandler.textArea),a.overflowGuardContainer.appendChild(a._textAreaHandler.textAreaCover),a.overflowGuardContainer.appendChild(a.overlayWidgets.getDomNode()),a.overflowGuardContainer.appendChild(y.getDomNode()),a.domNode.appendChild(a.overflowGuardContainer),a.domNode.appendChild(a.contentWidgets.overflowingContentWidgetsDomNode),a._applyLayout(),a.pointerHandler=a._register(new p.a(a._context,d,a.createPointerHandlerHelper())),a._register(n.addEventListener((function(e){a.eventDispatcher.emitMany(e)}))),a._register(a._cursor.addEventListener((function(e){a.eventDispatcher.emitMany(e)}))),a}return gt(View,e),View.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},View.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){e.focus()},getLastRenderData:function(){var t=e.viewCursors.getLastRenderData()||[],i=e._textAreaHandler.getLastRenderData();return new y.d(t,i)},shouldSuppressMouseDownOnViewZone:function(t){return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},shouldSuppressMouseDownOnWidget:function(t){return e.contentWidgets.shouldSuppressMouseDownOnWidget(t)},getPositionFromDOMInfo:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,i)},visibleRangeForPosition:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.visibleRangeForPosition(new _.a(t,i))},getLineWidth:function(t){return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},View.prototype.createTextAreaHandlerHelper=function(){var e=this;return{visibleRangeForPositionRelativeToEditor:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.visibleRangeForPosition(new _.a(t,i))}}},View.prototype._applyLayout=function(){var e=this._context.configuration.options.get(107);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this.overflowGuardContainer.setWidth(e.width),this.overflowGuardContainer.setHeight(e.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},View.prototype.getEditorClassName=function(){var e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(104)+" "+Object(B.d)(this._context.theme.type)+e},View.prototype.onConfigurationChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._applyLayout(),!1},View.prototype.onContentSizeChanged=function(e){return this.outgoingEvents.emitContentSizeChange(e),!1},View.prototype.onFocusChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(e.isFocused),e.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},View.prototype.onScrollChanged=function(e){return this.outgoingEvents.emitScrollChanged(e),!1},View.prototype.onThemeChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),!1},View.prototype.dispose=function(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.viewLines.dispose();for(var t=0,i=this.viewParts.length;t<i;t++)this.viewParts[t].dispose();this.viewParts=[],e.prototype.dispose.call(this)},View.prototype._renderOnce=function(e){var t=safeInvokeNoArg(e);return this._scheduleRender(),t},View.prototype._scheduleRender=function(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=n.U(this._onRenderScheduled.bind(this),100))},View.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},View.prototype._renderNow=function(){var e=this;safeInvokeNoArg((function(){return e._actualRender()}))},View.prototype._getViewPartsToRender=function(){for(var e=[],t=0,i=0,o=this.viewParts.length;i<o;i++){var n=this.viewParts[i];n.shouldRender()&&(e[t++]=n)}return e},View.prototype._actualRender=function(){if(n.M(this.domNode.domNode)){var e=this._getViewPartsToRender();if(this.viewLines.shouldRender()||0!==e.length){var t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);var i=new pt.a(this._cursor.getViewSelections(),t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(i),this.viewLines.shouldRender()&&(this.viewLines.renderText(i),this.viewLines.onDidRender(),e=this._getViewPartsToRender());for(var o=new K.d(this._context.viewLayout,i,this.viewLines),r=0,s=e.length;r<s;r++){(a=e[r]).prepareRender(o)}for(r=0,s=e.length;r<s;r++){var a;(a=e[r]).render(o),a.onDidRender()}}}},View.prototype.delegateVerticalScrollbarMouseDown=function(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)},View.prototype.restoreState=function(e){this._context.viewLayout.setScrollPositionNow({scrollTop:e.scrollTop}),this._context.model.tokenizeViewport(),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:e.scrollLeft})},View.prototype.getOffsetForColumn=function(e,t){var i=this._context.model.validateModelPosition({lineNumber:e,column:t}),o=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();var n=this.viewLines.visibleRangeForPosition(new _.a(o.lineNumber,o.column));return n?n.left:-1},View.prototype.getTargetAtClientPoint=function(e,t){var i=this.pointerHandler.getTargetAtClientPoint(e,t);return i?w.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null},View.prototype.createOverviewRuler=function(e){return new qe(this._context,e)},View.prototype.change=function(e){var t=this;return this._renderOnce((function(){var i=t.viewZones.changeViewZones(e);return i&&(t._context.viewLayout.onHeightMaybeChanged(),t._context.privateViewEventBus.emit(new we.r)),i}))},View.prototype.render=function(e,t){if(t){this.viewLines.forceShouldRender();for(var i=0,o=this.viewParts.length;i<o;i++){this.viewParts[i].forceShouldRender()}}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()},View.prototype.focus=function(){this._textAreaHandler.focusTextArea()},View.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},View.prototype.setAriaOptions=function(e){this._textAreaHandler.setAriaOptions(e)},View.prototype.addContentWidget=function(e){this.contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()},View.prototype.layoutContentWidget=function(e){var t=e.position&&e.position.range||null;if(null===t){var i=e.position?e.position.position:null;null!==i&&(t=new G.a(i.lineNumber,i.column,i.lineNumber,i.column))}var o=e.position?e.position.preference:null;this.contentWidgets.setWidgetPosition(e.widget,t,o),this._scheduleRender()},View.prototype.removeContentWidget=function(e){this.contentWidgets.removeWidget(e.widget),this._scheduleRender()},View.prototype.addOverlayWidget=function(e){this.overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()},View.prototype.layoutOverlayWidget=function(e){var t=e.position?e.position.preference:null;this.overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()},View.prototype.removeOverlayWidget=function(e){this.overlayWidgets.removeWidget(e.widget),this._scheduleRender()},View}(Ge.a);function safeInvokeNoArg(e){try{return e()}catch(e){Object(r.e)(e)}}var _t=i("BKUo"),mt=i("Ll0s"),vt=i("gCVg"),yt=i("9Y+e"),Ct=i("iuje"),wt=i("wQH0"),bt=i("kd8H"),Dt=i("nnTU"),Lt=i("T8No"),St=i("Cg/j"),Nt=i("8HsV"),Et=i("sM1p"),Ot=i("R3nR"),Rt=i("746U"),Mt=i("fgsJ"),Wt=i("BNOm"),xt=function(){function DOMLineBreaksComputerFactory(){}return DOMLineBreaksComputerFactory.create=function(){return new DOMLineBreaksComputerFactory},DOMLineBreaksComputerFactory.prototype.createLineBreaksComputer=function(e,t,i,o){t|=0,i=+i;var n=[];return{addRequest:function(e,t){n.push(e)},finalize:function(){return function createLineBreaks(e,t,i,o,n){if(-1===o){for(var r=[],s=0,a=e.length;s<a;s++)r[s]=null;return r}var d=Math.round(o*t.typicalHalfwidthCharacterWidth);2!==n&&3!==n||(n=1);var u=document.createElement("div");l.a.applyFontInfoSlow(u,t);var h=Object(D.a)(1e4),c=[],p=[],g=[],f=[],_=[];for(s=0;s<e.length;s++){var m=e[s],v=0,y=0,C=d;if(0!==n)if(-1===(v=ve.q(m)))v=0;else{for(var w=0;w<v;w++){y+=9===m.charCodeAt(w)?i-y%i:1}var b=Math.ceil(t.spaceWidth*y);b+t.typicalFullwidthCharacterWidth>d?(v=0,y=0):C=d-b}var L=m.substr(v),S=renderLine(L,y,i,C,h);c[s]=v,p[s]=y,g[s]=L,f[s]=S[0],_[s]=S[1]}u.innerHTML=h.build(),u.style.position="absolute",u.style.top="10000",u.style.wordWrap="break-word",document.body.appendChild(u);var N=document.createRange(),E=Array.prototype.slice.call(u.children,0),O=[];for(s=0;s<e.length;s++){var R=readLineBreaks(N,E[s],g[s],f[s]);if(null!==R){v=c[s],y=p[s];var M=_[s],W=[],x=0;for(a=R.length;x<a;x++)W[x]=M[R[x]];if(0!==v)for(x=0,a=R.length;x<a;x++)R[x]+=v;O[s]=new Wt.b(R,W,y)}else O[s]=null}return document.body.removeChild(u),O}(n,e,t,i,o)}}},DOMLineBreaksComputerFactory}();function renderLine(e,t,i,o,n){n.appendASCIIString('<div style="width:'),n.appendASCIIString(String(o)),n.appendASCIIString('px;">');for(var r=e.length,s=t,a=0,d=[],l=[],u=0<r?e.charCodeAt(0):0,h=0;h<r;h++){d[h]=a,l[h]=s;var c=u;u=h+1<r?e.charCodeAt(h+1):0;var p=1,g=1;switch(c){case 9:g=p=i-s%i;for(var f=1;f<=p;f++)f<p?n.write1(160):n.appendASCII(32);break;case 32:32===u?n.write1(160):n.appendASCII(32);break;case 60:n.appendASCIIString("&lt;");break;case 62:n.appendASCIIString("&gt;");break;case 38:n.appendASCIIString("&amp;");break;case 0:n.appendASCIIString("&#00;");break;case 65279:case 8232:n.write1(65533);break;default:ve.y(c)&&g++,n.write1(c)}a+=p,s+=g}return d[e.length]=a,l[e.length]=s,n.appendASCIIString("</div>"),[d,l]}function readLineBreaks(e,t,i,o){if(i.length<=1)return null;var n=[];return discoverBreaks(e,t.firstChild,o,0,null,i.length-1,null,n),0===n.length?null:(n.push(i.length),n)}function discoverBreaks(e,t,i,o,n,r,s,a){if(o!==r&&(n=n||readClientRect(e,t,i[o],i[o+1]),s=s||readClientRect(e,t,i[r],i[r+1]),!(Math.abs(n[0].top-s[0].top)<=.1)))if(o+1!==r){var d=o+(r-o)/2|0,l=readClientRect(e,t,i[d],i[d+1]);discoverBreaks(e,t,i,o,n,d,l,a),discoverBreaks(e,t,i,d,l,r,s,a)}else a.push(r)}function readClientRect(e,t,i,o){return e.setStart(t,i),e.setEnd(t,o),e.getClientRects()}var Vt=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},It=0,Tt=function(){function ModelData(e,t,i,o,n,r){this.model=e,this.viewModel=t,this.cursor=i,this.view=o,this.hasRealView=n,this.listenersToRemove=r}return ModelData.prototype.dispose=function(){Object(a.f)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},ModelData}(),At=function(e){function CodeEditorWidget(t,i,o,n,a,d,l,h,c,p){var g=e.call(this)||this;g._onDidDispose=g._register(new s.a),g.onDidDispose=g._onDidDispose.event,g._onDidChangeModelContent=g._register(new s.a),g.onDidChangeModelContent=g._onDidChangeModelContent.event,g._onDidChangeModelLanguage=g._register(new s.a),g.onDidChangeModelLanguage=g._onDidChangeModelLanguage.event,g._onDidChangeModelLanguageConfiguration=g._register(new s.a),g.onDidChangeModelLanguageConfiguration=g._onDidChangeModelLanguageConfiguration.event,g._onDidChangeModelOptions=g._register(new s.a),g.onDidChangeModelOptions=g._onDidChangeModelOptions.event,g._onDidChangeModelDecorations=g._register(new s.a),g.onDidChangeModelDecorations=g._onDidChangeModelDecorations.event,g._onDidChangeConfiguration=g._register(new s.a),g.onDidChangeConfiguration=g._onDidChangeConfiguration.event,g._onDidChangeModel=g._register(new s.a),g.onDidChangeModel=g._onDidChangeModel.event,g._onDidChangeCursorPosition=g._register(new s.a),g.onDidChangeCursorPosition=g._onDidChangeCursorPosition.event,g._onDidChangeCursorSelection=g._register(new s.a),g.onDidChangeCursorSelection=g._onDidChangeCursorSelection.event,g._onDidAttemptReadOnlyEdit=g._register(new s.a),g.onDidAttemptReadOnlyEdit=g._onDidAttemptReadOnlyEdit.event,g._onDidLayoutChange=g._register(new s.a),g.onDidLayoutChange=g._onDidLayoutChange.event,g._editorTextFocus=g._register(new Pt),g.onDidFocusEditorText=g._editorTextFocus.onDidChangeToTrue,g.onDidBlurEditorText=g._editorTextFocus.onDidChangeToFalse,g._editorWidgetFocus=g._register(new Pt),g.onDidFocusEditorWidget=g._editorWidgetFocus.onDidChangeToTrue,g.onDidBlurEditorWidget=g._editorWidgetFocus.onDidChangeToFalse,g._onWillType=g._register(new s.a),g.onWillType=g._onWillType.event,g._onDidType=g._register(new s.a),g.onDidType=g._onDidType.event,g._onDidCompositionStart=g._register(new s.a),g.onDidCompositionStart=g._onDidCompositionStart.event,g._onDidCompositionEnd=g._register(new s.a),g.onDidCompositionEnd=g._onDidCompositionEnd.event,g._onDidPaste=g._register(new s.a),g.onDidPaste=g._onDidPaste.event,g._onMouseUp=g._register(new s.a),g.onMouseUp=g._onMouseUp.event,g._onMouseDown=g._register(new s.a),g.onMouseDown=g._onMouseDown.event,g._onMouseDrag=g._register(new s.a),g.onMouseDrag=g._onMouseDrag.event,g._onMouseDrop=g._register(new s.a),g.onMouseDrop=g._onMouseDrop.event,g._onContextMenu=g._register(new s.a),g.onContextMenu=g._onContextMenu.event,g._onMouseMove=g._register(new s.a),g.onMouseMove=g._onMouseMove.event,g._onMouseLeave=g._register(new s.a),g.onMouseLeave=g._onMouseLeave.event,g._onMouseWheel=g._register(new s.a),g.onMouseWheel=g._onMouseWheel.event,g._onKeyUp=g._register(new s.a),g.onKeyUp=g._onKeyUp.event,g._onKeyDown=g._register(new s.a),g.onKeyDown=g._onKeyDown.event,g._onDidContentSizeChange=g._register(new s.a),g.onDidContentSizeChange=g._onDidContentSizeChange.event,g._onDidScrollChange=g._register(new s.a),g.onDidScrollChange=g._onDidScrollChange.event,g._onDidChangeViewZones=g._register(new s.a),g.onDidChangeViewZones=g._onDidChangeViewZones.event,g._domElement=t,g._id=++It,g._decorationTypeKeysToIds={},g._decorationTypeSubtypes={},g.isSimpleWidget=o.isSimpleWidget||!1,g._telemetryData=o.telemetryData,i=i||{},g._configuration=g._register(g._createConfiguration(i,p)),g._register(g._configuration.onDidChange((function(e){g._onDidChangeConfiguration.fire(e);var t=g._configuration.options;if(e.hasChanged(107)){var i=t.get(107);g._onDidLayoutChange.fire(i)}}))),g._contextKeyService=g._register(l.createScoped(g._domElement)),g._notificationService=c,g._codeEditorService=a,g._commandService=d,g._themeService=h,g._register(new Ft(g,g._contextKeyService)),g._register(new Ht(g,g._contextKeyService)),g._instantiationService=n.createChild(new Nt.a([Lt.c,g._contextKeyService])),g._modelData=null,g._contributions={},g._actions={},g._focusTracker=new Bt(t),g._focusTracker.onChange((function(){g._editorWidgetFocus.setValue(g._focusTracker.hasFocus())})),g._contentWidgets={},g._overlayWidgets={};for(var f=0,_=Array.isArray(o.contributions)?o.contributions:u.d.getEditorContributions();f<_.length;f++){var m=_[f];try{var v=g._instantiationService.createInstance(m.ctor,g);g._contributions[m.id]=v}catch(e){Object(r.e)(e)}}return u.d.getEditorActions().forEach((function(e){var t=new yt.a(e.id,e.label,e.alias,Object(Rt.n)(e.precondition),(function(){return g._instantiationService.invokeFunction((function(t){return Promise.resolve(e.runEditorCommand(t,g,null))}))}),g._contextKeyService);g._actions[t.id]=t})),g._codeEditorService.addCodeEditor(g),g}return Vt(CodeEditorWidget,e),CodeEditorWidget.prototype._createConfiguration=function(e,t){return new l.a(this.isSimpleWidget,e,this._domElement,t)},CodeEditorWidget.prototype.getId=function(){return this.getEditorType()+":"+this._id},CodeEditorWidget.prototype.getEditorType=function(){return Ct.a.ICodeEditor},CodeEditorWidget.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var t=Object.keys(this._contributions),i=0,o=t.length;i<o;i++){var n=t[i];this._contributions[n].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),e.prototype.dispose.call(this)},CodeEditorWidget.prototype.invokeWithinContext=function(e){return this._instantiationService.invokeFunction(e)},CodeEditorWidget.prototype.updateOptions=function(e){this._configuration.updateOptions(e)},CodeEditorWidget.prototype.getOptions=function(){return this._configuration.options},CodeEditorWidget.prototype.getOption=function(e){return this._configuration.options.get(e)},CodeEditorWidget.prototype.getRawOptions=function(){return this._configuration.getRawOptions()},CodeEditorWidget.prototype.getValue=function(e){if(void 0===e&&(e=null),!this._modelData)return"";var t=!(!e||!e.preserveBOM),i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)},CodeEditorWidget.prototype.setValue=function(e){this._modelData&&this._modelData.model.setValue(e)},CodeEditorWidget.prototype.getModel=function(){return this._modelData?this._modelData.model:null},CodeEditorWidget.prototype.setModel=function(e){void 0===e&&(e=null);var t=e;if(!(null===this._modelData&&null===t||this._modelData&&this._modelData.model===t)){var i=this.hasTextFocus(),o=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();var n={oldModelUrl:o?o.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(n),this._postDetachModelCleanup(o)}},CodeEditorWidget.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes){var t=this._decorationTypeSubtypes[e];for(var i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}},CodeEditorWidget.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},CodeEditorWidget.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},CodeEditorWidget._getVerticalOffsetForPosition=function(e,t,i){var o=e.model.validatePosition({lineNumber:t,column:i}),n=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)},CodeEditorWidget.prototype.getTopForLineNumber=function(e){return this._modelData?CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,e,1):-1},CodeEditorWidget.prototype.getTopForPosition=function(e,t){return this._modelData?CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,e,t):-1},CodeEditorWidget.prototype.setHiddenAreas=function(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map((function(e){return G.a.lift(e)})))},CodeEditorWidget.prototype.getVisibleColumnFromPosition=function(e){if(!this._modelData)return e.column;var t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return mt.a.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1},CodeEditorWidget.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},CodeEditorWidget.prototype.setPosition=function(e){if(this._modelData){if(!_.a.isIPosition(e))throw new Error("Invalid arguments");this._modelData.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}},CodeEditorWidget.prototype._sendRevealRange=function(e,t,i,o){if(this._modelData){if(!G.a.isIRange(e))throw new Error("Invalid arguments");var n=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(n);this._modelData.cursor.emitCursorRevealRange("api",r,t,i,o)}},CodeEditorWidget.prototype.revealLine=function(e,t){void 0===t&&(t=0),this._revealLine(e,0,t)},CodeEditorWidget.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this._revealLine(e,1,t)},CodeEditorWidget.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealLine(e,2,t)},CodeEditorWidget.prototype._revealLine=function(e,t,i){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new G.a(e,1,e,1),t,!1,i)},CodeEditorWidget.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this._revealPosition(e,0,!0,t)},CodeEditorWidget.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this._revealPosition(e,1,!0,t)},CodeEditorWidget.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealPosition(e,2,!0,t)},CodeEditorWidget.prototype._revealPosition=function(e,t,i,o){if(!_.a.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new G.a(e.lineNumber,e.column,e.lineNumber,e.column),t,i,o)},CodeEditorWidget.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},CodeEditorWidget.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},CodeEditorWidget.prototype.setSelection=function(e){var t=vt.a.isISelection(e),i=G.a.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){var o={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(o)}},CodeEditorWidget.prototype._setSelectionImpl=function(e){if(this._modelData){var t=new vt.a(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.cursor.setSelections("api",[t])}},CodeEditorWidget.prototype.revealLines=function(e,t,i){void 0===i&&(i=0),this._revealLines(e,t,0,i)},CodeEditorWidget.prototype.revealLinesInCenter=function(e,t,i){void 0===i&&(i=0),this._revealLines(e,t,1,i)},CodeEditorWidget.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,i){void 0===i&&(i=0),this._revealLines(e,t,2,i)},CodeEditorWidget.prototype._revealLines=function(e,t,i,o){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new G.a(e,1,t,1),i,!1,o)},CodeEditorWidget.prototype.revealRange=function(e,t,i,o){void 0===t&&(t=0),void 0===i&&(i=!1),void 0===o&&(o=!0),this._revealRange(e,i?1:0,o,t)},CodeEditorWidget.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this._revealRange(e,1,!0,t)},CodeEditorWidget.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealRange(e,2,!0,t)},CodeEditorWidget.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this._revealRange(e,3,!0,t)},CodeEditorWidget.prototype._revealRange=function(e,t,i,o){if(!G.a.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(G.a.lift(e),t,i,o)},CodeEditorWidget.prototype.setSelections=function(e,t){if(void 0===t&&(t="api"),this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(var i=0,o=e.length;i<o;i++)if(!vt.a.isISelection(e[i]))throw new Error("Invalid arguments");this._modelData.cursor.setSelections(t,e)}},CodeEditorWidget.prototype.getContentWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1},CodeEditorWidget.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},CodeEditorWidget.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},CodeEditorWidget.prototype.getContentHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1},CodeEditorWidget.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},CodeEditorWidget.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},CodeEditorWidget.prototype.setScrollLeft=function(e){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:e})}},CodeEditorWidget.prototype.setScrollTop=function(e){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:e})}},CodeEditorWidget.prototype.setScrollPosition=function(e){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPositionNow(e)},CodeEditorWidget.prototype.saveViewState=function(){if(!this._modelData)return null;for(var e={},t=0,i=Object.keys(this._contributions);t<i.length;t++){var o=i[t],n=this._contributions[o];"function"==typeof n.saveViewState&&(e[o]=n.saveViewState())}return{cursorState:this._modelData.cursor.saveState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}},CodeEditorWidget.prototype.restoreViewState=function(e){if(this._modelData&&this._modelData.hasRealView){var t=e;if(t&&t.cursorState&&t.viewState){var i=t.cursorState;Array.isArray(i)?this._modelData.cursor.restoreState(i):this._modelData.cursor.restoreState([i]);for(var o=t.contributionsState||{},n=Object.keys(this._contributions),r=0,s=n.length;r<s;r++){var a=n[r],d=this._contributions[a];"function"==typeof d.restoreViewState&&d.restoreViewState(o[a])}var l=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(l)}}},CodeEditorWidget.prototype.getContribution=function(e){return this._contributions[e]||null},CodeEditorWidget.prototype.getActions=function(){for(var e=[],t=Object.keys(this._actions),i=0,o=t.length;i<o;i++){var n=t[i];e.push(this._actions[n])}return e},CodeEditorWidget.prototype.getSupportedActions=function(){var e=this.getActions();return e=e.filter((function(e){return e.isSupported()}))},CodeEditorWidget.prototype.getAction=function(e){return this._actions[e]||null},CodeEditorWidget.prototype.trigger=function(e,t,i){if(i=i||{},t===Ct.b.Type){if(!this._modelData||"string"!=typeof i.text||0===i.text.length)return;return"keyboard"===e&&this._onWillType.fire(i.text),this._modelData.cursor.trigger(e,t,i),void("keyboard"===e&&this._onDidType.fire(i.text))}if(t!==Ct.b.Paste){var o=this.getAction(t);o?Promise.resolve(o.run()).then(void 0,r.e):this._modelData&&(this._triggerEditorCommand(e,t,i)||(this._modelData.cursor.trigger(e,t,i),t===Ct.b.CompositionStart&&this._onDidCompositionStart.fire(),t===Ct.b.CompositionEnd&&this._onDidCompositionEnd.fire()))}else{if(!this._modelData||"string"!=typeof i.text||0===i.text.length)return;var n=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(e,t,i);var s=this._modelData.cursor.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new G.a(n.lineNumber,n.column,s.lineNumber,s.column),mode:i.mode})}},CodeEditorWidget.prototype._triggerEditorCommand=function(e,t,i){var o=this,n=u.d.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction((function(e){Promise.resolve(n.runEditorCommand(e,o,i)).then(void 0,r.e)})),!0)},CodeEditorWidget.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},CodeEditorWidget.prototype.pushUndoStop=function(){return!!this._modelData&&(!this._configuration.options.get(68)&&(this._modelData.model.pushStackElement(),!0))},CodeEditorWidget.prototype.executeEdits=function(e,t,i){return!!this._modelData&&(!this._configuration.options.get(68)&&(o=i?Array.isArray(i)?function(){return i}:i:function(){return null},this._modelData.cursor.executeEdits(e,t,o),!0));var o},CodeEditorWidget.prototype.executeCommand=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,Ct.b.ExecuteCommand,t)},CodeEditorWidget.prototype.executeCommands=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,Ct.b.ExecuteCommands,t)},CodeEditorWidget.prototype.changeDecorations=function(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null},CodeEditorWidget.prototype.getLineDecorations=function(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,Object(ye.j)(this._configuration.options)):null},CodeEditorWidget.prototype.deltaDecorations=function(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]},CodeEditorWidget.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]},CodeEditorWidget.prototype.getLayoutInfo=function(){return this._configuration.options.get(107)},CodeEditorWidget.prototype.createOverviewRuler=function(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null},CodeEditorWidget.prototype.getContainerDomNode=function(){return this._domElement},CodeEditorWidget.prototype.getDomNode=function(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null},CodeEditorWidget.prototype.delegateVerticalScrollbarMouseDown=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)},CodeEditorWidget.prototype.layout=function(e){this._configuration.observeReferenceElement(e),this.render()},CodeEditorWidget.prototype.focus=function(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()},CodeEditorWidget.prototype.hasTextFocus=function(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()},CodeEditorWidget.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},CodeEditorWidget.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)},CodeEditorWidget.prototype.layoutContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}},CodeEditorWidget.prototype.removeContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}},CodeEditorWidget.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)},CodeEditorWidget.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}},CodeEditorWidget.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}},CodeEditorWidget.prototype.changeViewZones=function(e){this._modelData&&this._modelData.hasRealView&&(this._modelData.view.change(e)&&this._onDidChangeViewZones.fire())},CodeEditorWidget.prototype.getTargetAtClientPoint=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null},CodeEditorWidget.prototype.getScrolledVisiblePosition=function(e){if(!this._modelData||!this._modelData.hasRealView)return null;var t=this._modelData.model.validatePosition(e),i=this._configuration.options,o=i.get(107);return{top:CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft(),height:i.get(49)}},CodeEditorWidget.prototype.getOffsetForColumn=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1},CodeEditorWidget.prototype.render=function(e){void 0===e&&(e=!1),this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)},CodeEditorWidget.prototype.setAriaOptions=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)},CodeEditorWidget.prototype.applyFontInfo=function(e){l.a.applyFontInfoSlow(e,this._configuration.options.get(34))},CodeEditorWidget.prototype._attachModel=function(e){var t=this;if(e){var i=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();var r=new bt.a(this._id,this._configuration,e,xt.create(),Mt.a.create(this._configuration.options),(function(e){return n.W(e)}));i.push(e.onDidChangeDecorations((function(e){return t._onDidChangeModelDecorations.fire(e)}))),i.push(e.onDidChangeLanguage((function(i){t._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),t._onDidChangeModelLanguage.fire(i)}))),i.push(e.onDidChangeLanguageConfiguration((function(e){return t._onDidChangeModelLanguageConfiguration.fire(e)}))),i.push(e.onDidChangeContent((function(e){return t._onDidChangeModelContent.fire(e)}))),i.push(e.onDidChangeOptions((function(e){return t._onDidChangeModelOptions.fire(e)}))),i.push(e.onWillDispose((function(){return t.setModel(null)})));var s=new _t.a(this._configuration,e,r);i.push(s.onDidReachMaxCursorCount((function(){t._notificationService.warn(o.a("cursors.maximum","The number of cursors has been limited to {0}.",_t.a.MAX_CURSOR_COUNT))}))),i.push(s.onDidAttemptReadOnlyEdit((function(){t._onDidAttemptReadOnlyEdit.fire(void 0)}))),i.push(s.onDidChange((function(e){for(var i=[],o=0,n=e.selections.length;o<n;o++)i[o]=e.selections[o].getPosition();var r={position:i[0],secondaryPositions:i.slice(1),reason:e.reason,source:e.source};t._onDidChangeCursorPosition.fire(r);var s={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};t._onDidChangeCursorSelection.fire(s)})));var a=this._createView(r,s),d=a[0],l=a[1];if(l){this._domElement.appendChild(d.domNode.domNode);for(var u=Object.keys(this._contentWidgets),h=0,c=u.length;h<c;h++){var p=u[h];d.addContentWidget(this._contentWidgets[p])}for(h=0,c=(u=Object.keys(this._overlayWidgets)).length;h<c;h++){p=u[h];d.addOverlayWidget(this._overlayWidgets[p])}d.render(!1,!0),d.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Tt(e,r,s,d,l,i)}else this._modelData=null},CodeEditorWidget.prototype._createView=function(e,t){var i,o=this;i=this.isSimpleWidget?{executeEditorCommand:function(e,i){e.runCoreEditorCommand(t,i)},paste:function(e,t,i,n,r){o.trigger(e,Ct.b.Paste,{text:t,pasteOnNewLine:i,multicursorText:n,mode:r})},type:function(e,t){o.trigger(e,Ct.b.Type,{text:t})},replacePreviousChar:function(e,t,i){o.trigger(e,Ct.b.ReplacePreviousChar,{text:t,replaceCharCnt:i})},compositionStart:function(e){o.trigger(e,Ct.b.CompositionStart,void 0)},compositionEnd:function(e){o.trigger(e,Ct.b.CompositionEnd,void 0)},cut:function(e){o.trigger(e,Ct.b.Cut,void 0)}}:{executeEditorCommand:function(e,i){e.runCoreEditorCommand(t,i)},paste:function(e,t,i,n,r){o._commandService.executeCommand(Ct.b.Paste,{text:t,pasteOnNewLine:i,multicursorText:n,mode:r})},type:function(e,t){o._commandService.executeCommand(Ct.b.Type,{text:t})},replacePreviousChar:function(e,t,i){o._commandService.executeCommand(Ct.b.ReplacePreviousChar,{text:t,replaceCharCnt:i})},compositionStart:function(e){o._commandService.executeCommand(Ct.b.CompositionStart,{})},compositionEnd:function(e){o._commandService.executeCommand(Ct.b.CompositionEnd,{})},cut:function(e){o._commandService.executeCommand(Ct.b.Cut,{})}};var n=new w(e);return n.onDidContentSizeChange=function(e){return o._onDidContentSizeChange.fire(e)},n.onDidScroll=function(e){return o._onDidScrollChange.fire(e)},n.onDidGainFocus=function(){return o._editorTextFocus.setValue(!0)},n.onDidLoseFocus=function(){return o._editorTextFocus.setValue(!1)},n.onContextMenu=function(e){return o._onContextMenu.fire(e)},n.onMouseDown=function(e){return o._onMouseDown.fire(e)},n.onMouseUp=function(e){return o._onMouseUp.fire(e)},n.onMouseDrag=function(e){return o._onMouseDrag.fire(e)},n.onMouseDrop=function(e){return o._onMouseDrop.fire(e)},n.onKeyUp=function(e){return o._onKeyUp.fire(e)},n.onMouseMove=function(e){return o._onMouseMove.fire(e)},n.onMouseLeave=function(e){return o._onMouseLeave.fire(e)},n.onMouseWheel=function(e){return o._onMouseWheel.fire(e)},n.onKeyDown=function(e){return o._onKeyDown.fire(e)},[new ft(i,this._configuration,this._themeService,e,t,n),!0]},CodeEditorWidget.prototype._postDetachModelCleanup=function(e){e&&e.removeAllDecorationsWithOwnerId(this._id)},CodeEditorWidget.prototype._detachModel=function(){if(!this._modelData)return null;var e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.removeChild(t),e},CodeEditorWidget.prototype._removeDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},CodeEditorWidget.prototype.hasModel=function(){return null!==this._modelData},CodeEditorWidget=__decorate([__param(3,St.a),__param(4,h.a),__param(5,Dt.b),__param(6,Lt.c),__param(7,B.c),__param(8,Et.a),__param(9,Ot.b)],CodeEditorWidget)}(a.a),Pt=function(e){function BooleanEventEmitter(){var t=e.call(this)||this;return t._onDidChangeToTrue=t._register(new s.a),t.onDidChangeToTrue=t._onDidChangeToTrue.event,t._onDidChangeToFalse=t._register(new s.a),t.onDidChangeToFalse=t._onDidChangeToFalse.event,t._value=0,t}return Vt(BooleanEventEmitter,e),BooleanEventEmitter.prototype.setValue=function(e){var t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())},BooleanEventEmitter}(a.a),Ft=function(e){function EditorContextKeysManager(t,i){var o=e.call(this)||this;return o._editor=t,i.createKey("editorId",t.getId()),o._editorSimpleInput=wt.a.editorSimpleInput.bindTo(i),o._editorFocus=wt.a.focus.bindTo(i),o._textInputFocus=wt.a.textInputFocus.bindTo(i),o._editorTextFocus=wt.a.editorTextFocus.bindTo(i),o._editorTabMovesFocus=wt.a.tabMovesFocus.bindTo(i),o._editorReadonly=wt.a.readOnly.bindTo(i),o._hasMultipleSelections=wt.a.hasMultipleSelections.bindTo(i),o._hasNonEmptySelection=wt.a.hasNonEmptySelection.bindTo(i),o._canUndo=wt.a.canUndo.bindTo(i),o._canRedo=wt.a.canRedo.bindTo(i),o._register(o._editor.onDidChangeConfiguration((function(){return o._updateFromConfig()}))),o._register(o._editor.onDidChangeCursorSelection((function(){return o._updateFromSelection()}))),o._register(o._editor.onDidFocusEditorWidget((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidBlurEditorWidget((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidFocusEditorText((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidBlurEditorText((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidChangeModel((function(){return o._updateFromModel()}))),o._register(o._editor.onDidChangeConfiguration((function(){return o._updateFromModel()}))),o._updateFromConfig(),o._updateFromSelection(),o._updateFromFocus(),o._updateFromModel(),o._editorSimpleInput.set(o._editor.isSimpleWidget),o}return Vt(EditorContextKeysManager,e),EditorContextKeysManager.prototype._updateFromConfig=function(){var e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(106)),this._editorReadonly.set(e.get(68))},EditorContextKeysManager.prototype._updateFromSelection=function(){var e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((function(e){return!e.isEmpty()})))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},EditorContextKeysManager.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},EditorContextKeysManager.prototype._updateFromModel=function(){var e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))},EditorContextKeysManager}(a.a),Ht=function(e){function EditorModeContext(t,i){var o=e.call(this)||this;o._editor=t,o._contextKeyService=i,o._langId=wt.a.languageId.bindTo(i),o._hasCompletionItemProvider=wt.a.hasCompletionItemProvider.bindTo(i),o._hasCodeActionsProvider=wt.a.hasCodeActionsProvider.bindTo(i),o._hasCodeLensProvider=wt.a.hasCodeLensProvider.bindTo(i),o._hasDefinitionProvider=wt.a.hasDefinitionProvider.bindTo(i),o._hasDeclarationProvider=wt.a.hasDeclarationProvider.bindTo(i),o._hasImplementationProvider=wt.a.hasImplementationProvider.bindTo(i),o._hasTypeDefinitionProvider=wt.a.hasTypeDefinitionProvider.bindTo(i),o._hasHoverProvider=wt.a.hasHoverProvider.bindTo(i),o._hasDocumentHighlightProvider=wt.a.hasDocumentHighlightProvider.bindTo(i),o._hasDocumentSymbolProvider=wt.a.hasDocumentSymbolProvider.bindTo(i),o._hasReferenceProvider=wt.a.hasReferenceProvider.bindTo(i),o._hasRenameProvider=wt.a.hasRenameProvider.bindTo(i),o._hasSignatureHelpProvider=wt.a.hasSignatureHelpProvider.bindTo(i),o._hasDocumentFormattingProvider=wt.a.hasDocumentFormattingProvider.bindTo(i),o._hasDocumentSelectionFormattingProvider=wt.a.hasDocumentSelectionFormattingProvider.bindTo(i),o._hasMultipleDocumentFormattingProvider=wt.a.hasMultipleDocumentFormattingProvider.bindTo(i),o._hasMultipleDocumentSelectionFormattingProvider=wt.a.hasMultipleDocumentSelectionFormattingProvider.bindTo(i),o._isInWalkThrough=wt.a.isInEmbeddedEditor.bindTo(i);var update=function(){return o._update()};return o._register(t.onDidChangeModel(update)),o._register(t.onDidChangeModelLanguage(update)),o._register(ke.d.onDidChange(update)),o._register(ke.a.onDidChange(update)),o._register(ke.b.onDidChange(update)),o._register(ke.f.onDidChange(update)),o._register(ke.e.onDidChange(update)),o._register(ke.q.onDidChange(update)),o._register(ke.C.onDidChange(update)),o._register(ke.p.onDidChange(update)),o._register(ke.i.onDidChange(update)),o._register(ke.m.onDidChange(update)),o._register(ke.u.onDidChange(update)),o._register(ke.v.onDidChange(update)),o._register(ke.g.onDidChange(update)),o._register(ke.j.onDidChange(update)),o._register(ke.x.onDidChange(update)),update(),o}return Vt(EditorModeContext,e),EditorModeContext.prototype.dispose=function(){e.prototype.dispose.call(this)},EditorModeContext.prototype.reset=function(){var e=this;this._contextKeyService.bufferChangeEvents((function(){e._langId.reset(),e._hasCompletionItemProvider.reset(),e._hasCodeActionsProvider.reset(),e._hasCodeLensProvider.reset(),e._hasDefinitionProvider.reset(),e._hasDeclarationProvider.reset(),e._hasImplementationProvider.reset(),e._hasTypeDefinitionProvider.reset(),e._hasHoverProvider.reset(),e._hasDocumentHighlightProvider.reset(),e._hasDocumentSymbolProvider.reset(),e._hasReferenceProvider.reset(),e._hasRenameProvider.reset(),e._hasDocumentFormattingProvider.reset(),e._hasDocumentSelectionFormattingProvider.reset(),e._hasSignatureHelpProvider.reset(),e._isInWalkThrough.reset()}))},EditorModeContext.prototype._update=function(){var e=this,t=this._editor.getModel();t?this._contextKeyService.bufferChangeEvents((function(){e._langId.set(t.getLanguageIdentifier().language),e._hasCompletionItemProvider.set(ke.d.has(t)),e._hasCodeActionsProvider.set(ke.a.has(t)),e._hasCodeLensProvider.set(ke.b.has(t)),e._hasDefinitionProvider.set(ke.f.has(t)),e._hasDeclarationProvider.set(ke.e.has(t)),e._hasImplementationProvider.set(ke.q.has(t)),e._hasTypeDefinitionProvider.set(ke.C.has(t)),e._hasHoverProvider.set(ke.p.has(t)),e._hasDocumentHighlightProvider.set(ke.i.has(t)),e._hasDocumentSymbolProvider.set(ke.m.has(t)),e._hasReferenceProvider.set(ke.u.has(t)),e._hasRenameProvider.set(ke.v.has(t)),e._hasSignatureHelpProvider.set(ke.x.has(t)),e._hasDocumentFormattingProvider.set(ke.g.has(t)||ke.j.has(t)),e._hasDocumentSelectionFormattingProvider.set(ke.j.has(t)),e._hasMultipleDocumentFormattingProvider.set(ke.g.all(t).length+ke.j.all(t).length>1),e._hasMultipleDocumentSelectionFormattingProvider.set(ke.j.all(t).length>1),e._isInWalkThrough.set(t.uri.scheme===d.b.walkThroughSnippet)})):this.reset()},EditorModeContext}(a.a),Bt=function(e){function CodeEditorWidgetFocusTracker(t){var i=e.call(this)||this;return i._onChange=i._register(new s.a),i.onChange=i._onChange.event,i._hasFocus=!1,i._domFocusTracker=i._register(n.Z(t)),i._register(i._domFocusTracker.onDidFocus((function(){i._hasFocus=!0,i._onChange.fire(void 0)}))),i._register(i._domFocusTracker.onDidBlur((function(){i._hasFocus=!1,i._onChange.fire(void 0)}))),i}return Vt(CodeEditorWidgetFocusTracker,e),CodeEditorWidgetFocusTracker.prototype.hasFocus=function(){return this._hasFocus},CodeEditorWidgetFocusTracker}(a.a),kt=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),jt=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function getSquigglySVGData(e){return kt+encodeURIComponent(e.toString())+jt}var zt=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Zt=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');Object(B.e)((function(e,t){var i=e.getColor(be.p);i&&t.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+i+"; }");var o=e.getColor(be.q);o&&t.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'+getSquigglySVGData(o)+'") repeat-x bottom left; }');var n=e.getColor(be.O);n&&t.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+n+"; }");var r=e.getColor(be.P);r&&t.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'+getSquigglySVGData(r)+'") repeat-x bottom left; }');var s=e.getColor(be.G);s&&t.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+s+"; }");var a=e.getColor(be.H);a&&t.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'+getSquigglySVGData(a)+'") repeat-x bottom left; }');var d=e.getColor(be.y);d&&t.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+d+"; }");var l=e.getColor(be.z);l&&t.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'+function getDotDotDotSVGData(e){return zt+encodeURIComponent(e.toString())+Zt}(l)+'") no-repeat bottom left; }');var u=e.getColor(F.o);u&&t.addRule(".monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: "+u.rgba.a+"; }");var h=e.getColor(F.n);h&&t.addRule(".monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed "+h+"; }");var c=e.getColor(be.x)||"inherit";t.addRule(".monaco-editor .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: "+c+"}")}))},"nm/I":function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var o=i("EffR"),n=i("pmY6"),r=i("N0LK"),s=i("bY76"),a=i("MI8n"),d=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),l=function(e){function AbstractCodeEditorService(){var t=e.call(this)||this;return t._onCodeEditorAdd=t._register(new a.a),t.onCodeEditorAdd=t._onCodeEditorAdd.event,t._onCodeEditorRemove=t._register(new a.a),t.onCodeEditorRemove=t._onCodeEditorRemove.event,t._onDiffEditorAdd=t._register(new a.a),t._onDiffEditorRemove=t._register(new a.a),t._codeEditors=Object.create(null),t._diffEditors=Object.create(null),t}return d(AbstractCodeEditorService,e),AbstractCodeEditorService.prototype.addCodeEditor=function(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)},AbstractCodeEditorService.prototype.removeCodeEditor=function(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)},AbstractCodeEditorService.prototype.listCodeEditors=function(){var e=this;return Object.keys(this._codeEditors).map((function(t){return e._codeEditors[t]}))},AbstractCodeEditorService.prototype.addDiffEditor=function(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)},AbstractCodeEditorService.prototype.removeDiffEditor=function(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)},AbstractCodeEditorService.prototype.listDiffEditors=function(){var e=this;return Object.keys(this._diffEditors).map((function(t){return e._diffEditors[t]}))},AbstractCodeEditorService.prototype.getFocusedCodeEditor=function(){for(var e=null,t=0,i=this.listCodeEditors();t<i.length;t++){var o=i[t];if(o.hasTextFocus())return o;o.hasWidgetFocus()&&(e=o)}return e},AbstractCodeEditorService}(n.a),u=i("iuje"),h=i("M1Kb"),c=i("t9D7"),p=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__decorate=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},__param=function(e,t){return function(i,o){t(i,o,e)}},g=function(){function RefCountedStyleSheet(e,t,i){this._parent=e,this._editorId=t,this.styleSheet=i,this._refCount=0}return RefCountedStyleSheet.prototype.ref=function(){this._refCount++},RefCountedStyleSheet.prototype.unref=function(){var e;this._refCount--,0===this._refCount&&(null===(e=this.styleSheet.parentNode)||void 0===e||e.removeChild(this.styleSheet),this._parent._removeEditorStyleSheets(this._editorId))},RefCountedStyleSheet}(),f=function(){function GlobalStyleSheet(e){this.styleSheet=e}return GlobalStyleSheet.prototype.ref=function(){},GlobalStyleSheet.prototype.unref=function(){},GlobalStyleSheet}(),_=function(e){function CodeEditorServiceImpl(t,i){void 0===i&&(i=null);var o=e.call(this)||this;return o._decorationOptionProviders=new Map,o._editorStyleSheets=new Map,o._globalStyleSheet=i?new f(i):null,o._themeService=t,o}return p(CodeEditorServiceImpl,e),CodeEditorServiceImpl.prototype._getOrCreateGlobalStyleSheet=function(){return this._globalStyleSheet||(this._globalStyleSheet=new f(o.w())),this._globalStyleSheet},CodeEditorServiceImpl.prototype._getOrCreateStyleSheet=function(e){if(!e)return this._getOrCreateGlobalStyleSheet();var t=e.getContainerDomNode();if(!o.N(t))return this._getOrCreateGlobalStyleSheet();var i=e.getId();if(!this._editorStyleSheets.has(i)){var n=new g(this,i,o.w(t));this._editorStyleSheets.set(i,n)}return this._editorStyleSheets.get(i)},CodeEditorServiceImpl.prototype._removeEditorStyleSheets=function(e){this._editorStyleSheets.delete(e)},CodeEditorServiceImpl.prototype.registerDecorationType=function(e,t,i,o){var n=this._decorationOptionProviders.get(e);if(!n){var r=this._getOrCreateStyleSheet(o),s={styleSheet:r.styleSheet,key:e,parentTypeKey:i,options:t||Object.create(null)};n=i?new m(this._themeService,r,s):new v(this._themeService,r,s),this._decorationOptionProviders.set(e,n)}n.refCount++},CodeEditorServiceImpl.prototype.removeDecorationType=function(e){var t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((function(t){return t.removeDecorations(e)}))))},CodeEditorServiceImpl.prototype.resolveDecorationOptions=function(e,t){var i=this._decorationOptionProviders.get(e);if(!i)throw new Error("Unknown decoration type key: "+e);return i.getOptions(this,t)},CodeEditorServiceImpl=__decorate([__param(0,c.c)],CodeEditorServiceImpl)}(l),m=function(){function DecorationSubTypeOptionsProvider(e,t,i){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=i.parentTypeKey,this.refCount=0,this._beforeContentRules=new C(3,i,e),this._afterContentRules=new C(4,i,e)}return DecorationSubTypeOptionsProvider.prototype.getOptions=function(e,t){var i=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(i.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(i.afterContentClassName=this._afterContentRules.className),i},DecorationSubTypeOptionsProvider.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()},DecorationSubTypeOptionsProvider}(),v=function(){function DecorationTypeOptionsProvider(e,t,i){var o=this;this._disposables=new n.b,this._styleSheet=t,this._styleSheet.ref(),this.refCount=0;var createCSSRules=function(t){var n=new C(t,i,e);if(o._disposables.add(n),n.hasContent)return n.className};this.className=createCSSRules(0);var r=function(t){var n=new C(t,i,e);return o._disposables.add(n),n.hasContent?{className:n.className,hasLetterSpacing:n.hasLetterSpacing}:null}(1);r&&(this.inlineClassName=r.className,this.inlineClassNameAffectsLetterSpacing=r.hasLetterSpacing),this.beforeContentClassName=createCSSRules(3),this.afterContentClassName=createCSSRules(4),this.glyphMarginClassName=createCSSRules(2);var s=i.options;this.isWholeLine=Boolean(s.isWholeLine),this.stickiness=s.rangeBehavior;var a=s.light&&s.light.overviewRulerColor||s.overviewRulerColor,d=s.dark&&s.dark.overviewRulerColor||s.overviewRulerColor;void 0===a&&void 0===d||(this.overviewRuler={color:a||d,darkColor:d||a,position:s.overviewRulerLane||h.d.Center})}return DecorationTypeOptionsProvider.prototype.getOptions=function(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},DecorationTypeOptionsProvider.prototype.dispose=function(){this._disposables.dispose(),this._styleSheet.unref()},DecorationTypeOptionsProvider}(),y={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},C=function(){function DecorationCSSRules(e,t,i){var o=this;this._theme=i.getTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;var n=w.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(n=n+" "+w.getClassName(this._providerArgs.parentTypeKey,e)),this._className=n,this._unThemedSelector=w.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=i.onThemeChange((function(e){o._theme=i.getTheme(),o._removeCSS(),o._buildCSS()})):this._themeListener=null}return DecorationCSSRules.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(DecorationCSSRules.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(DecorationCSSRules.prototype,"hasLetterSpacing",{get:function(){return this._hasLetterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(DecorationCSSRules.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),DecorationCSSRules.prototype._buildCSS=function(){var e,t,i,o=this._providerArgs.options;switch(this._ruleType){case 0:e=this.getCSSTextForModelDecorationClassName(o),t=this.getCSSTextForModelDecorationClassName(o.light),i=this.getCSSTextForModelDecorationClassName(o.dark);break;case 1:e=this.getCSSTextForModelDecorationInlineClassName(o),t=this.getCSSTextForModelDecorationInlineClassName(o.light),i=this.getCSSTextForModelDecorationInlineClassName(o.dark);break;case 2:e=this.getCSSTextForModelDecorationGlyphMarginClassName(o),t=this.getCSSTextForModelDecorationGlyphMarginClassName(o.light),i=this.getCSSTextForModelDecorationGlyphMarginClassName(o.dark);break;case 3:e=this.getCSSTextForModelDecorationContentClassName(o.before),t=this.getCSSTextForModelDecorationContentClassName(o.light&&o.light.before),i=this.getCSSTextForModelDecorationContentClassName(o.dark&&o.dark.before);break;case 4:e=this.getCSSTextForModelDecorationContentClassName(o.after),t=this.getCSSTextForModelDecorationContentClassName(o.light&&o.light.after),i=this.getCSSTextForModelDecorationContentClassName(o.dark&&o.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var n=this._providerArgs.styleSheet.sheet,r=!1;e.length>0&&(n.insertRule(this._unThemedSelector+" {"+e+"}",0),r=!0),t.length>0&&(n.insertRule(".vs"+this._unThemedSelector+" {"+t+"}",0),r=!0),i.length>0&&(n.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+i+"}",0),r=!0),this._hasContent=r},DecorationCSSRules.prototype._removeCSS=function(){o.O(this._unThemedSelector,this._providerArgs.styleSheet)},DecorationCSSRules.prototype.getCSSTextForModelDecorationClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")},DecorationCSSRules.prototype.getCSSTextForModelDecorationInlineClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")},DecorationCSSRules.prototype.getCSSTextForModelDecorationContentClassName=function(e){if(!e)return"";var t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push(r.r(y.contentIconPath,o.r(s.a.revive(e.contentIconPath)))),"string"==typeof e.contentText){var i=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(r.r(y.contentText,i))}this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")},DecorationCSSRules.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(e){if(!e)return"";var t=[];return void 0!==e.gutterIconPath&&(t.push(r.r(y.gutterIconPath,o.r(s.a.revive(e.gutterIconPath)))),void 0!==e.gutterIconSize&&t.push(r.r(y.gutterIconSize,e.gutterIconSize))),t.join("")},DecorationCSSRules.prototype.collectBorderSettingsCSSText=function(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(r.r("box-sizing: border-box;")),!0)},DecorationCSSRules.prototype.collectCSSText=function(e,t,i){for(var o=i.length,n=0,s=t;n<s.length;n++){var a=s[n],d=this.resolveValue(e[a]);"string"==typeof d&&i.push(r.r(y[a],d))}return i.length!==o},DecorationCSSRules.prototype.resolveValue=function(e){if(Object(u.c)(e)){this._usesThemeColors=!0;var t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e},DecorationCSSRules}(),w=function(){function CSSNameHelper(){}return CSSNameHelper.getClassName=function(e,t){return"ced-"+e+"-"+t},CSSNameHelper.getSelector=function(e,t,i){var o=".monaco-editor ."+this.getClassName(e,i);return t&&(o=o+"."+this.getClassName(t,i)),3===i?o+="::before":4===i&&(o+="::after"),o},CSSNameHelper}()},sFUC:function(e,t,i){"use strict";i.d(t,"a",(function(){return isCodeEditor}));var o=i("iuje");function isCodeEditor(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===o.a.ICodeEditor}},sWDf:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var o=i("MNsG"),n=i("4JZe"),r=i("cGHE"),s=i("kYye"),a=i("t9D7"),d=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),l=function(e){function LineNumbersOverlay(t){var i=e.call(this)||this;return i._context=t,i._readConfig(),i._lastCursorModelPosition=new r.a(1,1),i._renderResult=null,i._context.addEventHandler(i),i}return d(LineNumbersOverlay,e),LineNumbersOverlay.prototype._readConfig=function(){var e=this._context.configuration.options;this._lineHeight=e.get(49);var t=e.get(50);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(71);var i=e.get(107);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth},LineNumbersOverlay.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},LineNumbersOverlay.prototype.onConfigurationChanged=function(e){return this._readConfig(),!0},LineNumbersOverlay.prototype.onCursorStateChanged=function(e){var t=e.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t),2===this._renderLineNumbers||3===this._renderLineNumbers},LineNumbersOverlay.prototype.onFlushed=function(e){return!0},LineNumbersOverlay.prototype.onLinesChanged=function(e){return!0},LineNumbersOverlay.prototype.onLinesDeleted=function(e){return!0},LineNumbersOverlay.prototype.onLinesInserted=function(e){return!0},LineNumbersOverlay.prototype.onScrollChanged=function(e){return e.scrollTopChanged},LineNumbersOverlay.prototype.onZonesChanged=function(e){return!0},LineNumbersOverlay.prototype._getLineRenderLineNumber=function(e){var t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new r.a(e,1));if(1!==t.column)return"";var i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(2===this._renderLineNumbers){var o=Math.abs(this._lastCursorModelPosition.lineNumber-i);return 0===o?'<span class="relative-current-line-number">'+i+"</span>":String(o)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)},LineNumbersOverlay.prototype.prepareRender=function(e){if(0!==this._renderLineNumbers){for(var t=o.d?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,r='<div class="'+LineNumbersOverlay.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',s=this._context.model.getLineCount(),a=[],d=i;d<=n;d++){var l=d-i;if(this._renderFinalNewline||d!==s||0!==this._context.model.getLineLength(d)){var u=this._getLineRenderLineNumber(d);a[l]=u?r+u+"</div>":""}else a[l]=""}this._renderResult=a}else this._renderResult=null},LineNumbersOverlay.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},LineNumbersOverlay.CLASS_NAME="line-numbers",LineNumbersOverlay}(n.a);Object(a.e)((function(e,t){var i=e.getColor(s.k);i&&t.addRule(".monaco-editor .line-numbers { color: "+i+"; }");var o=e.getColor(s.b);o&&t.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+o+"; }")}))},sswD:function(e,t,i){"use strict";i.d(t,"a",(function(){return v})),i.d(t,"c",(function(){return y})),i.d(t,"b",(function(){return C})),i.d(t,"j",(function(){return registerLanguageCommand})),i.d(t,"e",(function(){return registerDefaultLanguageCommand})),i.d(t,"k",(function(){return registerModelAndPositionCommand})),i.d(t,"l",(function(){return registerModelCommand})),i.d(t,"g",(function(){return registerEditorCommand})),i.d(t,"f",(function(){return registerEditorAction})),i.d(t,"i",(function(){return registerInstantiatedEditorAction})),i.d(t,"h",(function(){return registerEditorContribution})),i.d(t,"d",(function(){return o}));var o,n=i("/cxE"),r=i("bY76"),s=i("Vxe3"),a=i("cGHE"),d=i("G2kB"),l=i("t49l"),u=i("fjLI"),h=i("nnTU"),c=i("T8No"),p=i("nrhi"),g=i("ic2d"),f=i("XXUj"),_=i("746U"),m=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),v=function(){function Command(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}return Command.prototype.register=function(){var e=this;if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){var t=this._kbOpts.kbExpr;this.precondition&&(t=t?c.a.and(t,this.precondition):this.precondition),p.a.registerCommandAndKeybindingRule({id:this.id,handler:function(t,i){return e.runCommand(t,i)},weight:this._kbOpts.weight,when:t,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else h.a.registerCommand({id:this.id,handler:function(t,i){return e.runCommand(t,i)},description:this._description})},Command.prototype._registerMenuItem=function(e){u.c.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title},when:e.when,order:e.order})},Command}(),y=function(e){function EditorCommand(){return null!==e&&e.apply(this,arguments)||this}return m(EditorCommand,e),EditorCommand.bindToContribution=function(e){return function(t){function EditorControllerCommandImpl(e){var i=t.call(this,e)||this;return i._callback=e.handler,i}return m(EditorControllerCommandImpl,t),EditorControllerCommandImpl.prototype.runEditorCommand=function(t,i,o){e(i)&&this._callback(e(i),o)},EditorControllerCommandImpl}(EditorCommand)},EditorCommand.prototype.runCommand=function(e,t){var i=this,o=e.get(s.a),n=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(n)return n.invokeWithinContext((function(e){if(e.get(c.c).contextMatchesRules(Object(_.n)(i.precondition)))return i.runEditorCommand(e,n,t)}))},EditorCommand}(v),C=function(e){function EditorAction(t){var i=e.call(this,EditorAction.convertOptions(t))||this;return i.label=t.label,i.alias=t.alias,i}return m(EditorAction,e),EditorAction.convertOptions=function(e){var t;function withDefaults(t){return t.menuId||(t.menuId=7),t.title||(t.title=e.label),t.when=c.a.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push.apply(t,e.contextMenuOpts.map(withDefaults)):e.contextMenuOpts&&t.push(withDefaults(e.contextMenuOpts)),e.menuOpts=t,e},EditorAction.prototype.runEditorCommand=function(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})},EditorAction.prototype.reportTelemetry=function(e,t){e.get(f.a).publicLog2("editorActionInvoked",{name:this.label,id:this.id})},EditorAction}(y);function registerLanguageCommand(e,t){h.a.registerCommand(e,(function(e,i){return t(e,i||{})}))}function registerDefaultLanguageCommand(e,t){registerLanguageCommand(e,(function(e,i){var o=i.resource,s=i.position;if(!(o instanceof r.a))throw Object(n.b)("resource");if(!a.a.isIPosition(s))throw Object(n.b)("position");var u=e.get(d.a).getModel(o);if(u){var h=a.a.lift(s);return t(u,h,i)}return e.get(l.a).createModelReference(o).then((function(e){return new Promise((function(o,n){try{o(t(e.object.textEditorModel,a.a.lift(s),i))}catch(e){n(e)}})).finally((function(){e.dispose()}))}))}))}function registerModelAndPositionCommand(e,t){h.a.registerCommand(e,(function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var n=i[0],s=i[1];Object(_.a)(r.a.isUri(n)),Object(_.a)(a.a.isIPosition(s));var u=e.get(d.a).getModel(n);if(u){var h=a.a.lift(s);return t(u,h,i.slice(2))}return e.get(l.a).createModelReference(n).then((function(e){return new Promise((function(o,n){try{o(t(e.object.textEditorModel,a.a.lift(s),i.slice(2)))}catch(e){n(e)}})).finally((function(){e.dispose()}))}))}))}function registerModelCommand(e,t){h.a.registerCommand(e,(function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var n=i[0];Object(_.a)(r.a.isUri(n));var s=e.get(d.a).getModel(n);return s?t(s,i.slice(1)):e.get(l.a).createModelReference(n).then((function(e){return new Promise((function(o,n){try{o(t(e.object.textEditorModel,i.slice(1)))}catch(e){n(e)}})).finally((function(){e.dispose()}))}))}))}function registerEditorCommand(e){return w.INSTANCE.registerEditorCommand(e),e}function registerEditorAction(e){w.INSTANCE.registerEditorAction(new e)}function registerInstantiatedEditorAction(e){w.INSTANCE.registerEditorAction(e)}function registerEditorContribution(e,t){w.INSTANCE.registerEditorContribution(e,t)}!function(e){e.getEditorCommand=function getEditorCommand(e){return w.INSTANCE.getEditorCommand(e)},e.getEditorActions=function getEditorActions(){return w.INSTANCE.getEditorActions()},e.getEditorContributions=function getEditorContributions(){return w.INSTANCE.getEditorContributions()},e.getSomeEditorContributions=function getSomeEditorContributions(e){return w.INSTANCE.getEditorContributions().filter((function(t){return e.indexOf(t.id)>=0}))},e.getDiffEditorContributions=function getDiffEditorContributions(){return w.INSTANCE.getDiffEditorContributions()}}(o||(o={}));var w=function(){function EditorContributionRegistry(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return EditorContributionRegistry.prototype.registerEditorContribution=function(e,t){this.editorContributions.push({id:e,ctor:t})},EditorContributionRegistry.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},EditorContributionRegistry.prototype.getDiffEditorContributions=function(){return this.diffEditorContributions.slice(0)},EditorContributionRegistry.prototype.registerEditorAction=function(e){e.register(),this.editorActions.push(e)},EditorContributionRegistry.prototype.getEditorActions=function(){return this.editorActions.slice(0)},EditorContributionRegistry.prototype.registerEditorCommand=function(e){e.register(),this.editorCommands[e.id]=e},EditorContributionRegistry.prototype.getEditorCommand=function(e){return this.editorCommands[e]||null},EditorContributionRegistry.INSTANCE=new EditorContributionRegistry,EditorContributionRegistry}();g.a.add("editor.contributions",w.INSTANCE)},"x/UI":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var o=i("Cg/j"),n=Object(o.c)("IWorkspaceEditService")}}]);
//# sourceMappingURL=306.8d58c4ef9c02bad81f6a.chunk.js.map