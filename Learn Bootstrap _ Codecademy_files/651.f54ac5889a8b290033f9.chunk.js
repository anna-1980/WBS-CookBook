(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[651],{"1YUG":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreEditorCommand",(function(){return w})),n.d(t,"EditorScroll_",(function(){return o})),n.d(t,"RevealLine_",(function(){return i})),n.d(t,"CoreNavigationCommands",(function(){return r})),n.d(t,"CoreEditingCommands",(function(){return a}));var o,i,r,a,s=n("3/fG"),u=n("746U"),l=n("sswD"),c=n("Vxe3"),d=n("/ZHX"),p=n("Ll0s"),h=n("snIX"),f=n("oAeH"),m=n("GR/f"),g=n("cGHE"),_=n("aokT"),v=n("iuje"),C=n("wQH0"),y=n("T8No"),S=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),w=function(e){function CoreEditorCommand(){return null!==e&&e.apply(this,arguments)||this}return S(CoreEditorCommand,e),CoreEditorCommand.prototype.runEditorCommand=function(e,t,n){var o=t._getCursors();o&&this.runCoreEditorCommand(o,n||{})},CoreEditorCommand}(l.c);function registerCommand(e){e.register()}!function(e){e.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!u.i(e))return!1;var t=e;return!!u.j(t.to)&&(!(!u.k(t.by)&&!u.j(t.by))&&(!(!u.k(t.value)&&!u.h(t.value))&&!(!u.k(t.revealCursor)&&!u.e(t.revealCursor))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},e.RawDirection={Up:"up",Down:"down"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},e.parse=function parse(t){var n,o;switch(t.to){case e.RawDirection.Up:n=1;break;case e.RawDirection.Down:n=2;break;default:return null}switch(t.by){case e.RawUnit.Line:o=1;break;case e.RawUnit.WrappedLine:o=2;break;case e.RawUnit.Page:o=3;break;case e.RawUnit.HalfPage:o=4;break;default:o=2}return{direction:n,unit:o,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}}}(o||(o={})),function(e){e.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!u.i(e))return!1;var t=e;return!!u.h(t.lineNumber)&&!(!u.k(t.at)&&!u.j(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},e.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(i||(i={})),function(e){var t=function(e){function BaseMoveToCommand(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return S(BaseMoveToCommand,e),BaseMoveToCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[f.b.moveTo(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),e.reveal(t.source,!0,0,0)},BaseMoveToCommand}(w);e.MoveTo=Object(l.g)(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=Object(l.g)(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));var n=function(e){function ColumnSelectCommand(){return null!==e&&e.apply(this,arguments)||this}return S(ColumnSelectCommand,e),ColumnSelectCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();var n=this._getColumnSelectResult(e.context,e.getPrimaryCursor(),e.getColumnSelectData(),t);e.setStates(t.source,3,n.viewStates.map((function(e){return p.d.fromViewState(e)}))),e.setColumnSelectData({isReal:!0,fromViewLineNumber:n.fromLineNumber,fromViewVisualColumn:n.fromVisualColumn,toViewLineNumber:n.toLineNumber,toViewVisualColumn:n.toVisualColumn}),e.reveal(t.source,!0,n.reversed?1:2,0)},ColumnSelectCommand}(w);e.ColumnSelect=Object(l.g)(new(function(e){function class_1(){return e.call(this,{id:"columnSelect",precondition:void 0})||this}return S(class_1,e),class_1.prototype._getColumnSelectResult=function(e,t,n,o){var i=e.model.validatePosition(o.position),r=e.validateViewPosition(new g.a(o.viewPosition.lineNumber,o.viewPosition.column),i),a=o.doColumnSelect?n.fromViewLineNumber:r.lineNumber,s=o.doColumnSelect?n.fromViewVisualColumn:o.mouseColumn-1;return d.a.columnSelect(e.config,e.viewModel,a,s,r.lineNumber,o.mouseColumn-1)},class_1}(n))),e.CursorColumnSelectLeft=Object(l.g)(new(function(e){function class_2(){return e.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3599,linux:{primary:0}}})||this}return S(class_2,e),class_2.prototype._getColumnSelectResult=function(e,t,n,o){return d.a.columnSelectLeft(e.config,e.viewModel,n)},class_2}(n))),e.CursorColumnSelectRight=Object(l.g)(new(function(e){function class_3(){return e.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3601,linux:{primary:0}}})||this}return S(class_3,e),class_3.prototype._getColumnSelectResult=function(e,t,n,o){return d.a.columnSelectRight(e.config,e.viewModel,n)},class_3}(n)));var r=function(e){function ColumnSelectUpCommand(t){var n=e.call(this,t)||this;return n._isPaged=t.isPaged,n}return S(ColumnSelectUpCommand,e),ColumnSelectUpCommand.prototype._getColumnSelectResult=function(e,t,n,o){return d.a.columnSelectUp(e.config,e.viewModel,n,this._isPaged)},ColumnSelectUpCommand}(n);e.CursorColumnSelectUp=Object(l.g)(new r({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=Object(l.g)(new r({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3595,linux:{primary:0}}}));var a=function(e){function ColumnSelectDownCommand(t){var n=e.call(this,t)||this;return n._isPaged=t.isPaged,n}return S(ColumnSelectDownCommand,e),ColumnSelectDownCommand.prototype._getColumnSelectResult=function(e,t,n,o){return d.a.columnSelectDown(e.config,e.viewModel,n,this._isPaged)},ColumnSelectDownCommand}(n);e.CursorColumnSelectDown=Object(l.g)(new a({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=Object(l.g)(new a({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3596,linux:{primary:0}}}));var s=function(e){function CursorMoveImpl(){return e.call(this,{id:"cursorMove",precondition:void 0,description:f.a.description})||this}return S(CursorMoveImpl,e),CursorMoveImpl.prototype.runCoreEditorCommand=function(e,t){var n=f.a.parse(t);n&&this._runCursorMove(e,t.source,n)},CursorMoveImpl.prototype._runCursorMove=function(e,t,n){e.context.model.pushStackElement(),e.setStates(t,3,f.b.move(e.context,e.getAll(),n)),e.reveal(t,!0,0,0)},CursorMoveImpl}(w);e.CursorMoveImpl=s,e.CursorMove=Object(l.g)(new s);var u=function(t){function CursorMoveBasedCommand(e){var n=t.call(this,e)||this;return n._staticArgs=e.args,n}return S(CursorMoveBasedCommand,t),CursorMoveBasedCommand.prototype.runCoreEditorCommand=function(t,n){var o=this._staticArgs;-1===this._staticArgs.value&&(o={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.context.config.pageSize}),e.CursorMove._runCursorMove(t,n.source,o)},CursorMoveBasedCommand}(w);e.CursorLeft=Object(l.g)(new u({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=Object(l.g)(new u({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1039}})),e.CursorRight=Object(l.g)(new u({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=Object(l.g)(new u({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1041}})),e.CursorUp=Object(l.g)(new u({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=Object(l.g)(new u({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=Object(l.g)(new u({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:11}})),e.CursorPageUpSelect=Object(l.g)(new u({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1035}})),e.CursorDown=Object(l.g)(new u({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=Object(l.g)(new u({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=Object(l.g)(new u({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:12}})),e.CursorPageDownSelect=Object(l.g)(new u({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1036}})),e.CreateCursor=Object(l.g)(new(function(e){function class_4(){return e.call(this,{id:"createCursor",precondition:void 0})||this}return S(class_4,e),class_4.prototype.runCoreEditorCommand=function(e,t){var n,o=e.context;n=t.wholeLine?f.b.line(o,e.getPrimaryCursor(),!1,t.position,t.viewPosition):f.b.moveTo(o,e.getPrimaryCursor(),!1,t.position,t.viewPosition);var i=e.getAll();if(i.length>1)for(var r=n.modelState?n.modelState.position:null,a=n.viewState?n.viewState.position:null,s=0,u=i.length;s<u;s++){var l=i[s];if((!r||l.modelState.selection.containsPosition(r))&&(!a||l.viewState.selection.containsPosition(a)))return i.splice(s,1),e.context.model.pushStackElement(),void e.setStates(t.source,3,i)}i.push(n),e.context.model.pushStackElement(),e.setStates(t.source,3,i)},class_4}(w))),e.LastCursorMoveToSelect=Object(l.g)(new(function(e){function class_5(){return e.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})||this}return S(class_5,e),class_5.prototype.runCoreEditorCommand=function(e,t){var n=e.context,o=e.getLastAddedCursorIndex(),i=e.getAll(),r=i.slice(0);r[o]=f.b.moveTo(n,i[o],!0,t.position,t.viewPosition),e.context.model.pushStackElement(),e.setStates(t.source,3,r)},class_5}(w)));var c=function(e){function HomeCommand(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return S(HomeCommand,e),HomeCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,f.b.moveToBeginningOfLine(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},HomeCommand}(w);e.CursorHome=Object(l.g)(new c({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=Object(l.g)(new c({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),e.CursorLineStart=Object(l.g)(new(function(e){function class_6(){return e.call(this,{id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:0,mac:{primary:287}}})||this}return S(class_6,e),class_6.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,this._exec(e.context,e.getAll())),e.reveal(t.source,!0,0,0)},class_6.prototype._exec=function(e,t){for(var n=[],o=0,i=t.length;o<i;o++){var r=t[o],a=r.modelState.position.lineNumber;n[o]=p.d.fromModelState(r.modelState.move(!1,a,1,0))}return n},class_6}(w)));var h=function(e){function EndCommand(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return S(EndCommand,e),EndCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,f.b.moveToEndOfLine(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},EndCommand}(w);e.CursorEnd=Object(l.g)(new h({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),e.CursorEndSelect=Object(l.g)(new h({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),e.CursorLineEnd=Object(l.g)(new(function(e){function class_7(){return e.call(this,{id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:0,mac:{primary:291}}})||this}return S(class_7,e),class_7.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,this._exec(e.context,e.getAll())),e.reveal(t.source,!0,0,0)},class_7.prototype._exec=function(e,t){for(var n=[],o=0,i=t.length;o<i;o++){var r=t[o],a=r.modelState.position.lineNumber,s=e.model.getLineMaxColumn(a);n[o]=p.d.fromModelState(r.modelState.move(!1,a,s,0))}return n},class_7}(w)));var m=function(e){function TopCommand(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return S(TopCommand,e),TopCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,f.b.moveToBeginningOfBuffer(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},TopCommand}(w);e.CursorTop=Object(l.g)(new m({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=Object(l.g)(new m({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3086,mac:{primary:3088}}}));var v=function(e){function BottomCommand(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return S(BottomCommand,e),BottomCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,f.b.moveToEndOfBuffer(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},BottomCommand}(w);e.CursorBottom=Object(l.g)(new v({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=Object(l.g)(new v({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3085,mac:{primary:3090}}}));var y=function(e){function EditorScrollImpl(){return e.call(this,{id:"editorScroll",precondition:void 0,description:o.description})||this}return S(EditorScrollImpl,e),EditorScrollImpl.prototype.runCoreEditorCommand=function(e,t){var n=o.parse(t);n&&this._runEditorScroll(e,t.source,n)},EditorScrollImpl.prototype._runEditorScroll=function(e,t,n){var o=this._computeDesiredScrollTop(e.context,n);if(n.revealCursor){var i=e.context.getCompletelyVisibleViewRangeAtScrollTop(o);e.setStates(t,3,[f.b.findPositionInViewportIfOutside(e.context,e.getPrimaryCursor(),i,n.select)])}e.scrollTo(o)},EditorScrollImpl.prototype._computeDesiredScrollTop=function(e,t){if(1===t.unit){var n=e.getCompletelyVisibleModelRange(),o=void 0;o=1===t.direction?Math.max(1,n.startLineNumber-t.value):Math.min(e.model.getLineCount(),n.startLineNumber+t.value);var i=e.convertModelPositionToViewPosition(new g.a(o,1));return e.getVerticalOffsetForViewLine(i.lineNumber)}var r;r=3===t.unit?e.config.pageSize*t.value:4===t.unit?Math.round(e.config.pageSize/2)*t.value:t.value;var a=(1===t.direction?-1:1)*r;return e.getCurrentScrollTop()+a*e.config.lineHeight},EditorScrollImpl}(w);e.EditorScrollImpl=y,e.EditorScroll=Object(l.g)(new y),e.ScrollLineUp=Object(l.g)(new(function(t){function class_8(){return t.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2064,mac:{primary:267}}})||this}return S(class_8,t),class_8.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},class_8}(w))),e.ScrollPageUp=Object(l.g)(new(function(t){function class_9(){return t.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}return S(class_9,t),class_9.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},class_9}(w))),e.ScrollLineDown=Object(l.g)(new(function(t){function class_10(){return t.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2066,mac:{primary:268}}})||this}return S(class_10,t),class_10.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},class_10}(w))),e.ScrollPageDown=Object(l.g)(new(function(t){function class_11(){return t.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}return S(class_11,t),class_11.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},class_11}(w)));var b=function(e){function WordCommand(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return S(WordCommand,e),WordCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[f.b.word(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position)]),e.reveal(t.source,!0,0,0)},WordCommand}(w);e.WordSelect=Object(l.g)(new b({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=Object(l.g)(new b({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=Object(l.g)(new(function(e){function class_12(){return e.call(this,{id:"lastCursorWordSelect",precondition:void 0})||this}return S(class_12,e),class_12.prototype.runCoreEditorCommand=function(e,t){var n=e.context,o=e.getLastAddedCursorIndex(),i=e.getAll(),r=i.slice(0),a=i[o];r[o]=f.b.word(n,a,a.modelState.hasSelection(),t.position),n.model.pushStackElement(),e.setStates(t.source,3,r)},class_12}(w)));var x=function(e){function LineCommand(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return S(LineCommand,e),LineCommand.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[f.b.line(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),e.reveal(t.source,!1,0,0)},LineCommand}(w);e.LineSelect=Object(l.g)(new x({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=Object(l.g)(new x({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var T=function(e){function LastCursorLineCommand(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return S(LastCursorLineCommand,e),LastCursorLineCommand.prototype.runCoreEditorCommand=function(e,t){var n=e.getLastAddedCursorIndex(),o=e.getAll(),i=o.slice(0);i[n]=f.b.line(e.context,o[n],this._inSelectionMode,t.position,t.viewPosition),e.context.model.pushStackElement(),e.setStates(t.source,3,i)},LastCursorLineCommand}(w);e.LastCursorLineSelect=Object(l.g)(new T({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=Object(l.g)(new T({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=Object(l.g)(new(function(e){function class_13(){return e.call(this,{id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2090}})||this}return S(class_13,e),class_13.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,f.b.expandLineSelection(e.context,e.getAll())),e.reveal(t.source,!0,0,0)},class_13}(w))),e.CancelSelection=Object(l.g)(new(function(e){function class_14(){return e.call(this,{id:"cancelSelection",precondition:C.a.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:9,secondary:[1033]}})||this}return S(class_14,e),class_14.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[f.b.cancelSelection(e.context,e.getPrimaryCursor())]),e.reveal(t.source,!0,0,0)},class_14}(w))),e.RemoveSecondaryCursors=Object(l.g)(new(function(e){function class_15(){return e.call(this,{id:"removeSecondaryCursors",precondition:C.a.hasMultipleSelections,kbOpts:{weight:1,kbExpr:C.a.textInputFocus,primary:9,secondary:[1033]}})||this}return S(class_15,e),class_15.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[e.getPrimaryCursor()]),e.reveal(t.source,!0,0,0)},class_15}(w))),e.RevealLine=Object(l.g)(new(function(e){function class_16(){return e.call(this,{id:"revealLine",precondition:void 0,description:i.description})||this}return S(class_16,e),class_16.prototype.runCoreEditorCommand=function(e,t){var n=t,o=(n.lineNumber||0)+1;o<1&&(o=1);var r=e.context.model.getLineCount();o>r&&(o=r);var a=new _.a(o,1,o,e.context.model.getLineMaxColumn(o)),s=0;if(n.at)switch(n.at){case i.RawAtArgument.Top:s=3;break;case i.RawAtArgument.Center:s=1;break;case i.RawAtArgument.Bottom:s=4}var u=e.context.convertModelRangeToViewRange(a);e.revealRange(t.source,!1,u,s,0)},class_16}(w))),e.SelectAll=Object(l.g)(new(function(e){function class_17(){return e.call(this,{id:"selectAll",precondition:void 0})||this}return S(class_17,e),class_17.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[f.b.selectAll(e.context,e.getPrimaryCursor())])},class_17}(w))),e.SetSelection=Object(l.g)(new(function(e){function class_18(){return e.call(this,{id:"setSelection",precondition:void 0})||this}return S(class_18,e),class_18.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[p.d.fromModelSelection(t.selection)])},class_18}(w)))}(r||(r={})),function(e){var t=function(e){function CoreEditingCommand(){return null!==e&&e.apply(this,arguments)||this}return S(CoreEditingCommand,e),CoreEditingCommand.prototype.runEditorCommand=function(e,t,n){var o=t._getCursors();o&&this.runCoreEditingCommand(t,o,n||{})},CoreEditingCommand}(l.c);e.CoreEditingCommand=t,e.LineBreakInsert=Object(l.g)(new(function(e){function class_19(){return e.call(this,{id:"lineBreakInsert",precondition:C.a.writable,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:0,mac:{primary:301}}})||this}return S(class_19,e),class_19.prototype.runCoreEditingCommand=function(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,m.a.lineBreakInsert(t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection}))))},class_19}(t))),e.Outdent=Object(l.g)(new(function(e){function class_20(){return e.call(this,{id:"outdent",precondition:C.a.writable,kbOpts:{weight:0,kbExpr:y.a.and(C.a.editorTextFocus,C.a.tabDoesNotMoveFocus),primary:1026}})||this}return S(class_20,e),class_20.prototype.runCoreEditingCommand=function(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,m.a.outdent(t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection})))),e.pushUndoStop()},class_20}(t))),e.Tab=Object(l.g)(new(function(e){function class_21(){return e.call(this,{id:"tab",precondition:C.a.writable,kbOpts:{weight:0,kbExpr:y.a.and(C.a.editorTextFocus,C.a.tabDoesNotMoveFocus),primary:2}})||this}return S(class_21,e),class_21.prototype.runCoreEditingCommand=function(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,m.a.tab(t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection})))),e.pushUndoStop()},class_21}(t))),e.DeleteLeft=Object(l.g)(new(function(e){function class_22(){return e.call(this,{id:"deleteLeft",precondition:C.a.writable,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}return S(class_22,e),class_22.prototype.runCoreEditingCommand=function(e,t,n){var o=h.a.deleteLeft(t.getPrevEditOperationType(),t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection}))),i=o[0],r=o[1];i&&e.pushUndoStop(),e.executeCommands(this.id,r),t.setPrevEditOperationType(2)},class_22}(t))),e.DeleteRight=Object(l.g)(new(function(e){function class_23(){return e.call(this,{id:"deleteRight",precondition:C.a.writable,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}return S(class_23,e),class_23.prototype.runCoreEditingCommand=function(e,t,n){var o=h.a.deleteRight(t.getPrevEditOperationType(),t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection}))),i=o[0],r=o[1];i&&e.pushUndoStop(),e.executeCommands(this.id,r),t.setPrevEditOperationType(3)},class_23}(t)))}(a||(a={}));var b=function(e){function EditorOrNativeTextInputCommand(t){var n=e.call(this,t)||this;return n._editorHandler=t.editorHandler,n._inputHandler=t.inputHandler,n}return S(EditorOrNativeTextInputCommand,e),EditorOrNativeTextInputCommand.prototype.runCommand=function(e,t){var n=e.get(c.a).getFocusedCodeEditor();if(n&&n.hasTextFocus())return this._runEditorHandler(e,n,t);var o=document.activeElement;if(!(o&&["input","textarea"].indexOf(o.tagName.toLowerCase())>=0)){var i=e.get(c.a).getActiveCodeEditor();return i?(i.focus(),this._runEditorHandler(e,i,t)):void 0}document.execCommand(this._inputHandler)},EditorOrNativeTextInputCommand.prototype._runEditorHandler=function(e,t,n){var o=this._editorHandler;"string"==typeof o?t.trigger("keyboard",o,n):((n=n||{}).source="keyboard",o.runEditorCommand(e,t,n))},EditorOrNativeTextInputCommand}(l.a),x=function(e){function EditorHandlerCommand(t,n,o){var i=e.call(this,{id:t,precondition:void 0,description:o})||this;return i._handlerId=n,i}return S(EditorHandlerCommand,e),EditorHandlerCommand.prototype.runCommand=function(e,t){var n=e.get(c.a).getFocusedCodeEditor();n&&n.trigger("keyboard",this._handlerId,t)},EditorHandlerCommand}(l.a);function registerOverwritableCommand(e,t){registerCommand(new x("default:"+e,e)),registerCommand(new x(e,e,t))}registerCommand(new b({editorHandler:r.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:C.a.textInputFocus,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:{menuId:25,group:"1_basic",title:s.a({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1}})),registerCommand(new b({editorHandler:v.b.Undo,inputHandler:"undo",id:v.b.Undo,precondition:C.a.writable,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2104},menuOpts:{menuId:17,group:"1_do",title:s.a({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1}})),registerCommand(new x("default:"+v.b.Undo,v.b.Undo)),registerCommand(new b({editorHandler:v.b.Redo,inputHandler:"redo",id:v.b.Redo,precondition:C.a.writable,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:{menuId:17,group:"1_do",title:s.a({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2}})),registerCommand(new x("default:"+v.b.Redo,v.b.Redo)),registerOverwritableCommand(v.b.Type,{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),registerOverwritableCommand(v.b.ReplacePreviousChar),registerOverwritableCommand(v.b.CompositionStart),registerOverwritableCommand(v.b.CompositionEnd),registerOverwritableCommand(v.b.Paste),registerOverwritableCommand(v.b.Cut)},"45PR":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("3/fG"),i=n("D3Dy"),r=n("ZlPH"),a=n("MNsG"),s=n("N0LK"),u=n("HdwC"),l=n("5TxY"),c=n("Comh"),d=n("Qkc2"),p=n("sWDf"),h=n("PUOa"),f=n("/UlZ"),m=n("5v8Y"),g=n("cGHE"),_=n("aokT"),v=n("gCVg"),C=n("DYOu"),y=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),S=function(){function VisibleTextAreaData(e,t,n){this.top=e,this.left=t,this.width=n}return VisibleTextAreaData.prototype.setWidth=function(e){return new VisibleTextAreaData(this.top,this.left,e)},VisibleTextAreaData}(),w=i.f||i.h,b=function(e){function TextAreaHandler(t,n,o){var s=e.call(this,t)||this;s._primaryCursorPosition=new g.a(1,1),s._primaryCursorVisibleRange=null,s._viewController=n,s._viewHelper=o,s._scrollLeft=0,s._scrollTop=0;var u=s._context.configuration.options,p=u.get(107);s._setAccessibilityOptions(u),s._contentLeft=p.contentLeft,s._contentWidth=p.contentWidth,s._contentHeight=p.height,s._fontInfo=u.get(34),s._lineHeight=u.get(49),s._emptySelectionClipboard=u.get(25),s._copyWithSyntaxHighlighting=u.get(15),s._visibleTextArea=null,s._selections=[new v.a(1,1,1,1)],s._modelSelections=[new v.a(1,1,1,1)],s._lastRenderPosition=null,s.textArea=Object(r.b)(document.createElement("textarea")),d.a.write(s.textArea,6),s.textArea.setClassName("inputarea"),s.textArea.setAttribute("wrap","off"),s.textArea.setAttribute("autocorrect","off"),s.textArea.setAttribute("autocapitalize","off"),s.textArea.setAttribute("autocomplete","off"),s.textArea.setAttribute("spellcheck","false"),s.textArea.setAttribute("aria-label",s._getAriaLabel(u)),s.textArea.setAttribute("role","textbox"),s.textArea.setAttribute("aria-multiline","true"),s.textArea.setAttribute("aria-haspopup","false"),s.textArea.setAttribute("aria-autocomplete","both"),a.g&&u.get(68)&&s.textArea.setAttribute("readonly","true"),s.textAreaCover=Object(r.b)(document.createElement("div")),s.textAreaCover.setPosition("absolute");var h={getLineCount:function(){return s._context.model.getLineCount()},getLineMaxColumn:function(e){return s._context.model.getLineMaxColumn(e)},getValueInRange:function(e,t){return s._context.model.getValueInRange(e,t)}},f={getDataToCopy:function(e){var t=s._context.model.getPlainTextToCopy(s._modelSelections,s._emptySelectionClipboard,a.h),n=s._context.model.getEOL(),o=s._emptySelectionClipboard&&1===s._modelSelections.length&&s._modelSelections[0].isEmpty(),i=Array.isArray(t)?t:null,r=Array.isArray(t)?t.join(n):t,u=void 0,c=null;if(e&&(l.a.forceCopyWithSyntaxHighlighting||s._copyWithSyntaxHighlighting&&r.length<65536)){var d=s._context.model.getRichTextToCopy(s._modelSelections,s._emptySelectionClipboard);d&&(u=d.html,c=d.mode)}return{isFromEmptySelection:o,multicursorText:i,text:r,html:u,mode:c}},getScreenReaderContent:function(e){if(i.j)return c.b.EMPTY;if(1===s._accessibilitySupport){if(a.e){var t=s._selections[0];if(t.isEmpty()){var n=t.getStartPosition(),o=s._getWordBeforePosition(n);if(0===o.length&&(o=s._getCharacterBeforePosition(n)),o.length>0)return new c.b(o,o.length,o.length,n,n)}}return c.b.EMPTY}return c.a.fromEditorSelection(e,h,s._selections[0],s._accessibilityPageSize,0===s._accessibilitySupport)},deduceModelPosition:function(e,t,n){return s._context.model.deduceModelPositionRelativeToViewPosition(e,t,n)}};return s._textAreaInput=s._register(new l.b(f,s.textArea)),s._register(s._textAreaInput.onKeyDown((function(e){s._viewController.emitKeyDown(e)}))),s._register(s._textAreaInput.onKeyUp((function(e){s._viewController.emitKeyUp(e)}))),s._register(s._textAreaInput.onPaste((function(e){var t=!1,n=null,o=null;e.metadata&&(t=s._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,n=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,o=e.metadata.mode),s._viewController.paste("keyboard",e.text,t,n,o)}))),s._register(s._textAreaInput.onCut((function(){s._viewController.cut("keyboard")}))),s._register(s._textAreaInput.onType((function(e){e.replaceCharCnt?s._viewController.replacePreviousChar("keyboard",e.text,e.replaceCharCnt):s._viewController.type("keyboard",e.text)}))),s._register(s._textAreaInput.onSelectionChangeRequest((function(e){s._viewController.setSelection("keyboard",e)}))),s._register(s._textAreaInput.onCompositionStart((function(){var e=s._selections[0].startLineNumber,t=s._selections[0].startColumn;s._context.privateViewEventBus.emit(new C.m("keyboard",new _.a(e,t,e,t),0,!0,1));var n=s._viewHelper.visibleRangeForPositionRelativeToEditor(e,t);n&&(s._visibleTextArea=new S(s._context.viewLayout.getVerticalOffsetForLineNumber(e),n.left,w?0:1),s._render()),s.textArea.setClassName("inputarea ime-input"),s._viewController.compositionStart("keyboard")}))),s._register(s._textAreaInput.onCompositionUpdate((function(e){i.f?s._visibleTextArea=s._visibleTextArea.setWidth(0):s._visibleTextArea=s._visibleTextArea.setWidth(function measureText(e,t){var n=document.createElement("canvas").getContext("2d");n.font=function createFontString(e){return function doCreateFontString(e,t,n,o,i){return e+" normal "+t+" "+n+"px / "+o+"px "+i}("normal",e.fontWeight,e.fontSize,e.lineHeight,e.fontFamily)}(t);var o=n.measureText(e);return i.h?o.width+2:o.width}(e.data,s._fontInfo)),s._render()}))),s._register(s._textAreaInput.onCompositionEnd((function(){s._visibleTextArea=null,s._render(),s.textArea.setClassName("inputarea"),s._viewController.compositionEnd("keyboard")}))),s._register(s._textAreaInput.onFocus((function(){s._context.privateViewEventBus.emit(new C.g(!0))}))),s._register(s._textAreaInput.onBlur((function(){s._context.privateViewEventBus.emit(new C.g(!1))}))),s}return y(TextAreaHandler,e),TextAreaHandler.prototype.dispose=function(){e.prototype.dispose.call(this)},TextAreaHandler.prototype._getWordBeforePosition=function(e){for(var t=this._context.model.getLineContent(e.lineNumber),n=Object(m.a)(this._context.configuration.options.get(96)),o=e.column,i=0;o>1;){var r=t.charCodeAt(o-2);if(0!==n.get(r)||i>50)return t.substring(o-1,e.column-1);i++,o--}return t.substring(0,e.column-1)},TextAreaHandler.prototype._getCharacterBeforePosition=function(e){if(e.column>1){var t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!s.z(t.charCodeAt(0)))return t}return""},TextAreaHandler.prototype._getAriaLabel=function(e){return 1===e.get(2)?o.a("accessibilityOffAriaLabel","The editor is not accessible at this time. Press Alt+F1 for options."):e.get(4)},TextAreaHandler.prototype._setAccessibilityOptions=function(e){this._accessibilitySupport=e.get(2);var t=e.get(3);2===this._accessibilitySupport&&t===f.e.accessibilityPageSize.defaultValue?this._accessibilityPageSize=160:this._accessibilityPageSize=t},TextAreaHandler.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(107);return this._setAccessibilityOptions(t),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._contentHeight=n.height,this._fontInfo=t.get(34),this._lineHeight=t.get(49),this._emptySelectionClipboard=t.get(25),this._copyWithSyntaxHighlighting=t.get(15),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),a.g&&e.hasChanged(68)&&(t.get(68)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0},TextAreaHandler.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},TextAreaHandler.prototype.onDecorationsChanged=function(e){return!0},TextAreaHandler.prototype.onFlushed=function(e){return!0},TextAreaHandler.prototype.onLinesChanged=function(e){return!0},TextAreaHandler.prototype.onLinesDeleted=function(e){return!0},TextAreaHandler.prototype.onLinesInserted=function(e){return!0},TextAreaHandler.prototype.onScrollChanged=function(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0},TextAreaHandler.prototype.onZonesChanged=function(e){return!0},TextAreaHandler.prototype.isFocused=function(){return this._textAreaInput.isFocused()},TextAreaHandler.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},TextAreaHandler.prototype.getLastRenderData=function(){return this._lastRenderPosition},TextAreaHandler.prototype.setAriaOptions=function(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant"))},TextAreaHandler.prototype.prepareRender=function(e){this._primaryCursorPosition=new g.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)},TextAreaHandler.prototype.render=function(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()},TextAreaHandler.prototype._render=function(){if(this._visibleTextArea)this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);else if(this._primaryCursorVisibleRange){var e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)this._renderAtTopLeft();else{var t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():a.e?this._renderInsideEditor(this._primaryCursorPosition,t,e,w?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,w?0:1,w?0:1)}}else this._renderAtTopLeft()},TextAreaHandler.prototype._renderInsideEditor=function(e,t,n,o,i){this._lastRenderPosition=e;var r=this.textArea,a=this.textAreaCover;u.a.applyFontInfo(r,this._fontInfo),r.setTop(t),r.setLeft(n),r.setWidth(o),r.setHeight(i),a.setTop(0),a.setLeft(0),a.setWidth(0),a.setHeight(0)},TextAreaHandler.prototype._renderAtTopLeft=function(){this._lastRenderPosition=null;var e=this.textArea,t=this.textAreaCover;if(u.a.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),w)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);var n=this._context.configuration.options;n.get(40)?t.setClassName("monaco-editor-background textAreaCover "+h.a.OUTER_CLASS_NAME):0!==n.get(50).renderType?t.setClassName("monaco-editor-background textAreaCover "+p.a.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")},TextAreaHandler}(d.b)},"5TxY":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g}));var o=n("D3Dy"),i=n("EffR"),r=n("X+cX"),a=n("MI8n"),s=n("pmY6"),u=n("MNsG"),l=n("N0LK"),c=n("Comh"),d=n("gCVg"),p=n("CjF5"),h=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),f={forceCopyWithSyntaxHighlighting:!1},m=function(){function InMemoryClipboardMetadataManager(){this._lastState=null}return InMemoryClipboardMetadataManager.prototype.set=function(e,t){this._lastState={lastCopiedValue:e,data:t}},InMemoryClipboardMetadataManager.prototype.get=function(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)},InMemoryClipboardMetadataManager.INSTANCE=new InMemoryClipboardMetadataManager,InMemoryClipboardMetadataManager}(),g=function(e){function TextAreaInput(t,n){var s=e.call(this)||this;s.textArea=n,s._onFocus=s._register(new a.a),s.onFocus=s._onFocus.event,s._onBlur=s._register(new a.a),s.onBlur=s._onBlur.event,s._onKeyDown=s._register(new a.a),s.onKeyDown=s._onKeyDown.event,s._onKeyUp=s._register(new a.a),s.onKeyUp=s._onKeyUp.event,s._onCut=s._register(new a.a),s.onCut=s._onCut.event,s._onPaste=s._register(new a.a),s.onPaste=s._onPaste.event,s._onType=s._register(new a.a),s.onType=s._onType.event,s._onCompositionStart=s._register(new a.a),s.onCompositionStart=s._onCompositionStart.event,s._onCompositionUpdate=s._register(new a.a),s.onCompositionUpdate=s._onCompositionUpdate.event,s._onCompositionEnd=s._register(new a.a),s.onCompositionEnd=s._onCompositionEnd.event,s._onSelectionChangeRequest=s._register(new a.a),s.onSelectionChangeRequest=s._onSelectionChangeRequest.event,s._host=t,s._textArea=s._register(new v(n)),s._asyncTriggerCut=s._register(new r.d((function(){return s._onCut.fire()}),0)),s._textAreaState=c.b.EMPTY,s._selectionChangeListener=null,s.writeScreenReaderContent("ctor"),s._hasFocus=!1,s._isDoingComposition=!1,s._nextCommand=0,s._register(i.o(n.domNode,"keydown",(function(e){!s._isDoingComposition||109!==e.keyCode&&1!==e.keyCode||e.stopPropagation(),e.equals(9)&&e.preventDefault(),s._onKeyDown.fire(e)}))),s._register(i.o(n.domNode,"keyup",(function(e){s._onKeyUp.fire(e)}))),s._register(i.j(n.domNode,"compositionstart",(function(e){s._isDoingComposition||(s._isDoingComposition=!0,o.f||s._setAndWriteTextAreaState("compositionstart",c.b.EMPTY),s._onCompositionStart.fire())})));var deduceInputFromTextAreaValue=function(e){var t=s._textAreaState,n=c.b.readFromTextArea(s._textArea);return[n,c.b.deduceInput(t,n,e)]},deduceComposition=function(e){var t=s._textAreaState,n=c.b.selectedText(e);return[n,{text:n.value,replaceCharCnt:t.selectionEnd-t.selectionStart}]},compositionDataInValid=function(e){return!(!o.f||"ja"!==e)||!(!o.i||0!==e.indexOf("zh-Han"))};return s._register(i.j(n.domNode,"compositionupdate",(function(e){if(compositionDataInValid(e.locale)){var t=deduceInputFromTextAreaValue(!1),n=t[0],o=t[1];return s._textAreaState=n,s._onType.fire(o),void s._onCompositionUpdate.fire(e)}var i=deduceComposition(e.data),r=i[0],a=i[1];s._textAreaState=r,s._onType.fire(a),s._onCompositionUpdate.fire(e)}))),s._register(i.j(n.domNode,"compositionend",(function(e){if(s._isDoingComposition){if(compositionDataInValid(e.locale)){var t=deduceInputFromTextAreaValue(!1),n=t[0],i=t[1];s._textAreaState=n,s._onType.fire(i)}else{var r=deduceComposition(e.data);n=r[0],i=r[1];s._textAreaState=n,s._onType.fire(i)}(o.f||o.d)&&(s._textAreaState=c.b.readFromTextArea(s._textArea)),s._isDoingComposition&&(s._isDoingComposition=!1,s._onCompositionEnd.fire())}}))),s._register(i.j(n.domNode,"input",(function(){if(s._textArea.setIgnoreSelectionChangeTime("received input event"),!s._isDoingComposition){var e=deduceInputFromTextAreaValue(u.e),t=e[0],n=e[1];0===n.replaceCharCnt&&1===n.text.length&&l.z(n.text.charCodeAt(0))||(s._textAreaState=t,0===s._nextCommand?""!==n.text&&s._onType.fire(n):(""===n.text&&0===n.replaceCharCnt||s._firePaste(n.text,null),s._nextCommand=0))}}))),s._register(i.j(n.domNode,"cut",(function(e){s._textArea.setIgnoreSelectionChangeTime("received cut event"),s._ensureClipboardGetsEditorSelection(e),s._asyncTriggerCut.schedule()}))),s._register(i.j(n.domNode,"copy",(function(e){s._ensureClipboardGetsEditorSelection(e)}))),s._register(i.j(n.domNode,"paste",(function(e){if(s._textArea.setIgnoreSelectionChangeTime("received paste event"),_.canUseTextData(e)){var t=_.getTextData(e),n=t[0],o=t[1];""!==n&&s._firePaste(n,o)}else s._textArea.getSelectionStart()!==s._textArea.getSelectionEnd()&&s._setAndWriteTextAreaState("paste",c.b.EMPTY),s._nextCommand=1}))),s._register(i.j(n.domNode,"focus",(function(){s._setHasFocus(!0)}))),s._register(i.j(n.domNode,"blur",(function(){s._setHasFocus(!1)}))),s}return h(TextAreaInput,e),TextAreaInput.prototype._installSelectionChangeListener=function(){var e=this,t=0;return i.j(document,"selectionchange",(function(n){if(e._hasFocus&&!e._isDoingComposition&&o.d&&u.h){var i=Date.now(),r=i-t;if(t=i,!(r<5)){var a=i-e._textArea.getIgnoreSelectionChangeTime();if(e._textArea.resetSelectionChangeTime(),!(a<100)&&e._textAreaState.selectionStartPosition&&e._textAreaState.selectionEndPosition){var s=e._textArea.getValue();if(e._textAreaState.value===s){var l=e._textArea.getSelectionStart(),c=e._textArea.getSelectionEnd();if(e._textAreaState.selectionStart!==l||e._textAreaState.selectionEnd!==c){var p=e._textAreaState.deduceEditorPosition(l),h=e._host.deduceModelPosition(p[0],p[1],p[2]),f=e._textAreaState.deduceEditorPosition(c),m=e._host.deduceModelPosition(f[0],f[1],f[2]),g=new d.a(h.lineNumber,h.column,m.lineNumber,m.column);e._onSelectionChangeRequest.fire(g)}}}}}}))},TextAreaInput.prototype.dispose=function(){e.prototype.dispose.call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)},TextAreaInput.prototype.focusTextArea=function(){this._setHasFocus(!0),this.refreshFocusState()},TextAreaInput.prototype.isFocused=function(){return this._hasFocus},TextAreaInput.prototype.refreshFocusState=function(){var e=i.E(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):i.M(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)},TextAreaInput.prototype._setHasFocus=function(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(o.e?this._setAndWriteTextAreaState("focusgain",c.b.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},TextAreaInput.prototype._setAndWriteTextAreaState=function(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t},TextAreaInput.prototype.writeScreenReaderContent=function(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))},TextAreaInput.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._host.getDataToCopy(_.canUseTextData(e)&&p.a.clipboard.richText),n={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};m.INSTANCE.set(o.h?t.text.replace(/\r\n/g,"\n"):t.text,n),_.canUseTextData(e)?_.setTextData(e,t.text,t.html,n):this._setAndWriteTextAreaState("copy or cut",c.b.selectedText(t.text))},TextAreaInput.prototype._firePaste=function(e,t){t||(t=m.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})},TextAreaInput}(s.a),_=function(){function ClipboardEventUtils(){}return ClipboardEventUtils.canUseTextData=function(e){return!!e.clipboardData||!!window.clipboardData},ClipboardEventUtils.getTextData=function(e){if(e.clipboardData){e.preventDefault();var t=e.clipboardData.getData("text/plain"),n=null,o=e.clipboardData.getData("vscode-editor-data");if("string"==typeof o)try{1!==(n=JSON.parse(o)).version&&(n=null)}catch(e){}return[t,n]}if(window.clipboardData)return e.preventDefault(),[t=window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},ClipboardEventUtils.setTextData=function(e,t,n,o){if(e.clipboardData)return e.clipboardData.setData("text/plain",t),"string"==typeof n&&e.clipboardData.setData("text/html",n),e.clipboardData.setData("vscode-editor-data",JSON.stringify(o)),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",t),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},ClipboardEventUtils}(),v=function(e){function TextAreaWrapper(t){var n=e.call(this)||this;return n._actual=t,n._ignoreSelectionChangeTime=0,n}return h(TextAreaWrapper,e),TextAreaWrapper.prototype.setIgnoreSelectionChangeTime=function(e){this._ignoreSelectionChangeTime=Date.now()},TextAreaWrapper.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime},TextAreaWrapper.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0},TextAreaWrapper.prototype.getValue=function(){return this._actual.domNode.value},TextAreaWrapper.prototype.setValue=function(e,t){var n=this._actual.domNode;n.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),n.value=t)},TextAreaWrapper.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},TextAreaWrapper.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},TextAreaWrapper.prototype.setSelectionRange=function(e,t,n){var r=this._actual.domNode,a=i.E(r),s=(a?a.activeElement:document.activeElement)===r,u=r.selectionStart,l=r.selectionEnd;if(s&&u===t&&l===n)o.h&&window.parent!==window&&r.focus();else{if(s)return this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(t,n),void(o.h&&window.parent!==window&&r.focus());try{var c=i.V(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(t,n),i.T(r,c)}catch(e){}}},TextAreaWrapper}(s.a)},Comh:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var o=n("N0LK"),i=n("cGHE"),r=n("aokT"),a=function(){function TextAreaState(e,t,n,o,i){this.value=e,this.selectionStart=t,this.selectionEnd=n,this.selectionStartPosition=o,this.selectionEndPosition=i}return TextAreaState.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},TextAreaState.readFromTextArea=function(e){return new TextAreaState(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)},TextAreaState.prototype.collapseSelection=function(){return new TextAreaState(this.value,this.value.length,this.value.length,null,null)},TextAreaState.prototype.writeToTextArea=function(e,t,n){t.setValue(e,this.value),n&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)},TextAreaState.prototype.deduceEditorPosition=function(e){if(e<=this.selectionStart){var t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}var n=this.value.substring(this.selectionStart,e);if(-1===n.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,n,1);var o=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,o,-1)},TextAreaState.prototype._finishDeduceEditorPosition=function(e,t,n){for(var o=0,i=-1;-1!==(i=t.indexOf("\n",i+1));)o++;return[e,n*t.length,o]},TextAreaState.selectedText=function(e){return new TextAreaState(e,0,e.length,null,null)},TextAreaState.deduceInput=function(e,t,n){if(!e)return{text:"",replaceCharCnt:0};var i=e.value,r=e.selectionStart,a=e.selectionEnd,s=t.value,u=t.selectionStart,l=t.selectionEnd,c=i.substring(a),d=s.substring(l),p=o.d(c,d);s=s.substring(0,s.length-p);var h=(i=i.substring(0,i.length-p)).substring(0,r),f=s.substring(0,u),m=o.c(h,f);if(s=s.substring(m),i=i.substring(m),u-=m,r-=m,l-=m,a-=m,n&&u===l&&i.length>0){var g=null;if(u===s.length?o.N(s,i)&&(g=s.substring(i.length)):o.m(s,i)&&(g=s.substring(0,s.length-i.length)),null!==g&&g.length>0&&(/\uFE0F/.test(g)||o.g(g)))return{text:g,replaceCharCnt:0}}return u===l?i===s&&0===r&&a===i.length&&u===s.length&&-1===s.indexOf("\n")&&o.h(s)?{text:"",replaceCharCnt:0}:{text:s,replaceCharCnt:h.length-m}:{text:s,replaceCharCnt:a-r}},TextAreaState.EMPTY=new TextAreaState("",0,0,null,null),TextAreaState}(),s=function(){function PagedScreenReaderStrategy(){}return PagedScreenReaderStrategy._getPageOfLine=function(e,t){return Math.floor((e-1)/t)},PagedScreenReaderStrategy._getRangeForPage=function(e,t){var n=e*t,o=n+1,i=n+t;return new r.a(o,1,i+1,1)},PagedScreenReaderStrategy.fromEditorSelection=function(e,t,n,o,s){var u,l=PagedScreenReaderStrategy._getPageOfLine(n.startLineNumber,o),c=PagedScreenReaderStrategy._getRangeForPage(l,o),d=PagedScreenReaderStrategy._getPageOfLine(n.endLineNumber,o),p=PagedScreenReaderStrategy._getRangeForPage(d,o),h=c.intersectRanges(new r.a(1,1,n.startLineNumber,n.startColumn)),f=t.getValueInRange(h,1),m=t.getLineCount(),g=t.getLineMaxColumn(m),_=p.intersectRanges(new r.a(n.endLineNumber,n.endColumn,m,g)),v=t.getValueInRange(_,1);if(l===d||l+1===d)u=t.getValueInRange(n,1);else{var C=c.intersectRanges(n),y=p.intersectRanges(n);u=t.getValueInRange(C,1)+String.fromCharCode(8230)+t.getValueInRange(y,1)}if(s){var S=500;f.length>S&&(f=f.substring(f.length-S,f.length)),v.length>S&&(v=v.substring(0,S)),u.length>1e3&&(u=u.substring(0,S)+String.fromCharCode(8230)+u.substring(u.length-S,u.length))}return new a(f+u+v,f.length,f.length+u.length,new i.a(n.startLineNumber,n.startColumn),new i.a(n.endLineNumber,n.endColumn))},PagedScreenReaderStrategy}()},HdwC:function(e,t,n){"use strict";n.d(t,"b",(function(){return clearAllFontInfos})),n.d(t,"a",(function(){return g}));var o=n("D3Dy"),i=n("MI8n"),r=n("pmY6"),a=n("MNsG"),s=function(){function CharWidthRequest(e,t){this.chr=e,this.type=t,this.width=0}return CharWidthRequest.prototype.fulfill=function(e){this.width=e},CharWidthRequest}(),u=function(){function DomCharWidthReader(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}return DomCharWidthReader.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},DomCharWidthReader.prototype._createDomElements=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";var t=document.createElement("div");t.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(t);var n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),n.style.fontWeight="bold",n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(n);var o=document.createElement("div");o.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),o.style.fontWeight=this._bareFontInfo.fontWeight,o.style.fontSize=this._bareFontInfo.fontSize+"px",o.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,o.style.lineHeight=this._bareFontInfo.lineHeight+"px",o.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",o.style.fontStyle="italic",e.appendChild(o);for(var i=[],r=0,a=this._requests;r<a.length;r++){var s=a[r],u=void 0;0===s.type&&(u=t),2===s.type&&(u=n),1===s.type&&(u=o),u.appendChild(document.createElement("br"));var l=document.createElement("span");DomCharWidthReader._render(l,s),u.appendChild(l),i.push(l)}this._container=e,this._testElements=i},DomCharWidthReader._render=function(e,t){if(" "===t.chr){for(var n="&#160;",o=0;o<8;o++)n+=n;e.innerHTML=n}else{var i=t.chr;for(o=0;o<8;o++)i+=i;e.textContent=i}},DomCharWidthReader.prototype._readFromDomElements=function(){for(var e=0,t=this._requests.length;e<t;e++){var n=this._requests[e],o=this._testElements[e];n.fulfill(o.offsetWidth/256)}},DomCharWidthReader}();var l=n("o39E"),c=n("iDAx"),d=n("/UlZ"),p=n("+3Gp"),h=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),f=function(){function CSSBasedConfigurationCache(){this._keys=Object.create(null),this._values=Object.create(null)}return CSSBasedConfigurationCache.prototype.has=function(e){var t=e.getId();return!!this._values[t]},CSSBasedConfigurationCache.prototype.get=function(e){var t=e.getId();return this._values[t]},CSSBasedConfigurationCache.prototype.put=function(e,t){var n=e.getId();this._keys[n]=e,this._values[n]=t},CSSBasedConfigurationCache.prototype.remove=function(e){var t=e.getId();delete this._keys[t],delete this._values[t]},CSSBasedConfigurationCache.prototype.getValues=function(){var e=this;return Object.keys(this._keys).map((function(t){return e._values[t]}))},CSSBasedConfigurationCache}();function clearAllFontInfos(){m.INSTANCE.clearCache()}var m=function(e){function CSSBasedConfiguration(){var t=e.call(this)||this;return t._onDidChange=t._register(new i.a),t.onDidChange=t._onDidChange.event,t._cache=new f,t._evictUntrustedReadingsTimeout=-1,t}return h(CSSBasedConfiguration,e),CSSBasedConfiguration.prototype.dispose=function(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),e.prototype.dispose.call(this)},CSSBasedConfiguration.prototype.clearCache=function(){this._cache=new f,this._onDidChange.fire()},CSSBasedConfiguration.prototype._writeToCache=function(e,t){var n=this;this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout((function(){n._evictUntrustedReadingsTimeout=-1,n._evictUntrustedReadings()}),5e3))},CSSBasedConfiguration.prototype._evictUntrustedReadings=function(){for(var e=this._cache.getValues(),t=!1,n=0,o=e.length;n<o;n++){var i=e[n];i.isTrusted||(t=!0,this._cache.remove(i))}t&&this._onDidChange.fire()},CSSBasedConfiguration.prototype.readConfiguration=function(e){if(!this._cache.has(e)){var t=CSSBasedConfiguration._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new p.b({zoomLevel:o.c(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)},CSSBasedConfiguration.createRequest=function(e,t,n,o){var i=new s(e,t);return n.push(i),o&&o.push(i),i},CSSBasedConfiguration._actualReadConfiguration=function(e){var t=[],n=[],i=this.createRequest("n",0,t,n),r=this.createRequest("ｍ",0,t,null),a=this.createRequest(" ",0,t,n),s=this.createRequest("0",0,t,n),l=this.createRequest("1",0,t,n),c=this.createRequest("2",0,t,n),h=this.createRequest("3",0,t,n),f=this.createRequest("4",0,t,n),m=this.createRequest("5",0,t,n),g=this.createRequest("6",0,t,n),_=this.createRequest("7",0,t,n),v=this.createRequest("8",0,t,n),C=this.createRequest("9",0,t,n),y=this.createRequest("→",0,t,n),S=this.createRequest("￫",0,t,null),w=this.createRequest("·",0,t,n);this.createRequest("|",0,t,n),this.createRequest("/",0,t,n),this.createRequest("-",0,t,n),this.createRequest("_",0,t,n),this.createRequest("i",0,t,n),this.createRequest("l",0,t,n),this.createRequest("m",0,t,n),this.createRequest("|",1,t,n),this.createRequest("_",1,t,n),this.createRequest("i",1,t,n),this.createRequest("l",1,t,n),this.createRequest("m",1,t,n),this.createRequest("n",1,t,n),this.createRequest("|",2,t,n),this.createRequest("_",2,t,n),this.createRequest("i",2,t,n),this.createRequest("l",2,t,n),this.createRequest("m",2,t,n),this.createRequest("n",2,t,n),function readCharWidths(e,t){new u(e,t).read()}(e,t);for(var b=Math.max(s.width,l.width,c.width,h.width,f.width,m.width,g.width,_.width,v.width,C.width),x=e.fontFeatureSettings===d.d.OFF,T=n[0].width,M=1,E=n.length;x&&M<E;M++){var A=T-n[M].width;if(A<-.001||A>.001){x=!1;break}}var O=!0;x&&S.width!==T&&(O=!1),S.width>y.width&&(O=!1);var D=o.b()>2e3;return new p.b({zoomLevel:o.c(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:x,typicalHalfwidthCharacterWidth:i.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:O,spaceWidth:a.width,middotWidth:w.width,maxDigitWidth:b},D)},CSSBasedConfiguration.INSTANCE=new CSSBasedConfiguration,CSSBasedConfiguration}(r.a),g=function(e){function Configuration(t,n,i,r){void 0===i&&(i=null);var a=e.call(this,t,n)||this;return a.accessibilityService=r,a._elementSizeObserver=a._register(new l.a(i,n.dimension,(function(){return a._onReferenceDomElementSizeChanged()}))),a._register(m.INSTANCE.onDidChange((function(){return a._onCSSBasedConfigurationChanged()}))),a._validatedOptions.get(9)&&a._elementSizeObserver.startObserving(),a._register(o.o((function(e){return a._recomputeOptions()}))),a._register(a.accessibilityService.onDidChangeScreenReaderOptimized((function(){return a._recomputeOptions()}))),a._recomputeOptions(),a}return h(Configuration,e),Configuration.applyFontInfoSlow=function(e,t){e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"},Configuration.applyFontInfo=function(e,t){e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)},Configuration.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},Configuration.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},Configuration.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},Configuration.prototype.dispose=function(){e.prototype.dispose.call(this)},Configuration.prototype._getExtraEditorClassName=function(){var e="";return o.k||o.n||(e+="no-user-select "),a.e&&(e+="mac "),e},Configuration.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:o.m||o.h,pixelRatio:o.a(),zoomLevel:o.c(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}},Configuration.prototype.readConfiguration=function(e){return m.INSTANCE.readConfiguration(e)},Configuration}(c.a)},mQTj:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var o=n("EffR"),i=n("MNsG"),r=n("pg8w"),a=n("pmY6"),s=n("D3Dy"),u=n("XSiN"),l=n("X+cX"),c=n("uuFI"),d=n("QRuL"),p=n("Yr1X"),h=n("cGHE"),f=n("gCVg"),m=n("4tyL"),g=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();function createMouseMoveEventMerger(e){return function(t,n){var o=!1;return e&&(o=e.mouseTargetIsWidget(n)),o||n.preventDefault(),n}}var _=function(e){function MouseHandler(t,n,i){var r=e.call(this)||this;r._isFocused=!1,r._context=t,r.viewController=n,r.viewHelper=i,r.mouseTargetFactory=new c.c(r._context,i),r._mouseDownOperation=r._register(new v(r._context,r.viewController,r.viewHelper,(function(e,t){return r._createMouseTarget(e,t)}),(function(e){return r._getMouseColumn(e)}))),r._asyncFocus=r._register(new l.d((function(){return r.viewHelper.focusTextArea()}),0)),r.lastMouseLeaveTime=-1;var a=new d.c(r.viewHelper.viewDomNode);r._register(a.onContextMenu(r.viewHelper.viewDomNode,(function(e){return r._onContextMenu(e,!0)}))),r._register(a.onMouseMoveThrottled(r.viewHelper.viewDomNode,(function(e){return r._onMouseMove(e)}),createMouseMoveEventMerger(r.mouseTargetFactory),MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),r._register(a.onMouseUp(r.viewHelper.viewDomNode,(function(e){return r._onMouseUp(e)}))),r._register(a.onMouseLeave(r.viewHelper.viewDomNode,(function(e){return r._onMouseLeave(e)}))),r._register(a.onMouseDown(r.viewHelper.viewDomNode,(function(e){return r._onMouseDown(e)})));return r._register(o.j(r.viewHelper.viewDomNode,s.f?"mousewheel":"wheel",(function(e){if(r.viewController.emitMouseWheel(e),r._context.configuration.options.get(57)){var t=new u.c(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){var n=p.a.getZoomLevel(),o=t.deltaY>0?1:-1;p.a.setZoomLevel(n+o),t.preventDefault(),t.stopPropagation()}}}),{capture:!0,passive:!1})),r._context.addEventHandler(r),r}return g(MouseHandler,e),MouseHandler.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},MouseHandler.prototype.onCursorStateChanged=function(e){return this._mouseDownOperation.onCursorStateChanged(e),!1},MouseHandler.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!1},MouseHandler.prototype.onScrollChanged=function(e){return this._mouseDownOperation.onScrollChanged(),!1},MouseHandler.prototype.getTargetAtClientPoint=function(e,t){var n=new d.a(e,t).toPageCoordinates(),o=Object(d.g)(this.viewHelper.viewDomNode);return n.y<o.y||n.y>o.y+o.height||n.x<o.x||n.x>o.x+o.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o,n,null)},MouseHandler.prototype._createMouseTarget=function(e,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?e.target:null)},MouseHandler.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)},MouseHandler.prototype._onContextMenu=function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})},MouseHandler.prototype._onMouseMove=function(e){this._mouseDownOperation.isActive()||(e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)}))},MouseHandler.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})},MouseHandler.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})},MouseHandler.prototype._onMouseDown=function(e){var t=this,n=this._createMouseTarget(e,!0),o=6===n.type||7===n.type,r=2===n.type||3===n.type||4===n.type,a=3===n.type,u=this._context.configuration.options.get(83),l=8===n.type||5===n.type,c=9===n.type,d=e.leftButton||e.middleButton;i.e&&e.leftButton&&e.ctrlKey&&(d=!1);var focus=function(){s.i&&!t._isFocused?t._asyncFocus.schedule():(e.preventDefault(),t.viewHelper.focusTextArea())};if(d&&(o||a&&u))focus(),this._mouseDownOperation.start(n.type,e);else if(r)e.preventDefault();else if(l){var p=n.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(p.viewZoneId)&&(focus(),this._mouseDownOperation.start(n.type,e),e.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(focus(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:n})},MouseHandler.MOUSE_MOVE_MINIMUM_TIME=100,MouseHandler}(m.a),v=function(e){function MouseDownOperation(t,n,o,i,r){var a=e.call(this)||this;return a._context=t,a._viewController=n,a._viewHelper=o,a._createMouseTarget=i,a._getMouseColumn=r,a._mouseMoveMonitor=a._register(new d.e(a._viewHelper.viewDomNode)),a._onScrollTimeout=a._register(new l.e),a._mouseState=new C,a._currentSelection=new f.a(1,1,1,1),a._isActive=!1,a._lastMouseEvent=null,a}return g(MouseDownOperation,e),MouseDownOperation.prototype.dispose=function(){e.prototype.dispose.call(this)},MouseDownOperation.prototype.isActive=function(){return this._isActive},MouseDownOperation.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))},MouseDownOperation.prototype.start=function(e,t){var n=this;this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);var o=this._findMousePosition(t,!0);if(o&&o.position){this._mouseState.trySetCount(t.detail,o.position),t.detail=this._mouseState.count;var i=this._context.configuration.options;if(!i.get(68)&&i.get(24)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===o.type&&o.position&&this._currentSelection.containsPosition(o.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,createMouseMoveEventMerger(null),(function(e){return n._onMouseDownThenMove(e)}),(function(){var e=n._findMousePosition(n._lastMouseEvent,!0);n._viewController.emitMouseDrop({event:n._lastMouseEvent,target:e?n._createMouseTarget(n._lastMouseEvent,!0):null}),n._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,createMouseMoveEventMerger(null),(function(e){return n._onMouseDownThenMove(e)}),(function(){return n._stop()})))}},MouseDownOperation.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},MouseDownOperation.prototype.onScrollChanged=function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet((function(){if(e._lastMouseEvent){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&(e._mouseState.isDragAndDrop||e._dispatchMouse(t,!0))}}),10)},MouseDownOperation.prototype.onCursorStateChanged=function(e){this._currentSelection=e.selections[0]},MouseDownOperation.prototype._getPositionOutsideEditor=function(e){var t=e.editorPos,n=this._context.model,o=this._context.viewLayout,i=this._getMouseColumn(e);if(e.posy<t.y){var r=Math.max(o.getCurrentScrollTop()-(t.y-e.posy),0);if(s=c.a.getZoneAtCoord(this._context,r))if(u=this._helpPositionJumpOverViewZone(s))return new c.b(null,13,i,u);var a=o.getLineNumberAtVerticalOffset(r);return new c.b(null,13,i,new h.a(a,1))}if(e.posy>t.y+t.height){var s,u;r=o.getCurrentScrollTop()+(e.posy-t.y);if(s=c.a.getZoneAtCoord(this._context,r))if(u=this._helpPositionJumpOverViewZone(s))return new c.b(null,13,i,u);var l=o.getLineNumberAtVerticalOffset(r);return new c.b(null,13,i,new h.a(l,n.getLineMaxColumn(l)))}var d=o.getLineNumberAtVerticalOffset(o.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new c.b(null,13,i,new h.a(d,1)):e.posx>t.x+t.width?new c.b(null,13,i,new h.a(d,n.getLineMaxColumn(d))):null},MouseDownOperation.prototype._findMousePosition=function(e,t){var n=this._getPositionOutsideEditor(e);if(n)return n;var o=this._createMouseTarget(e,t);if(!o.position)return null;if(8===o.type||5===o.type){var i=this._helpPositionJumpOverViewZone(o.detail);if(i)return new c.b(o.element,o.type,o.mouseColumn,i,null,o.detail)}return o},MouseDownOperation.prototype._helpPositionJumpOverViewZone=function(e){var t=new h.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),n=e.positionBefore,o=e.positionAfter;return n&&o?n.isBefore(t)?n:o:null},MouseDownOperation.prototype._dispatchMouse=function(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},MouseDownOperation}(a.a),C=function(){function MouseDownState(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(MouseDownState.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(MouseDownState.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),MouseDownState.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},MouseDownState.prototype.setStartButtons=function(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton},MouseDownState.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},MouseDownState.prototype.trySetCount=function(e,t){var n=(new Date).getTime();n-this._lastSetMouseDownCountTime>MouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=n,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)},MouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME=400,MouseDownState}(),y=n("CjF5"),S=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();function gestureChangeEventMerger(e,t){var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}var w=function(e){function MsPointerHandler(t,n,i){var r=e.call(this,t,n,i)||this;return r.viewHelper.linesContentDomNode.style.msTouchAction="none",r.viewHelper.linesContentDomNode.style.msContentZooming="none",r._installGestureHandlerTimeout=window.setTimeout((function(){if(r._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=r.viewHelper.linesContentDomNode,t.target=r.viewHelper.linesContentDomNode,r.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",(function(n){var o=n.pointerType;o!==(n.MSPOINTER_TYPE_MOUSE||"mouse")?o===(n.MSPOINTER_TYPE_TOUCH||"touch")?(r._lastPointerType="touch",e.addPointer(n.pointerId)):(r._lastPointerType="pen",t.addPointer(n.pointerId)):r._lastPointerType="mouse"})),r._register(o.m(r.viewHelper.linesContentDomNode,"MSGestureChange",(function(e){return r._onGestureChange(e)}),gestureChangeEventMerger)),r._register(o.j(r.viewHelper.linesContentDomNode,"MSGestureTap",(function(e){return r._onCaptureGestureTap(e)}),!0))}}),100),r._lastPointerType="mouse",r}return S(MsPointerHandler,e),MsPointerHandler.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},MsPointerHandler.prototype._onCaptureGestureTap=function(e){var t=this,n=new d.b(e,this.viewHelper.viewDomNode),o=this._createMouseTarget(n,!1);o.position&&this.viewController.moveTo(o.position),n.browserEvent.fromElement?(n.preventDefault(),this.viewHelper.focusTextArea()):setTimeout((function(){t.viewHelper.focusTextArea()}))},MsPointerHandler.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},MsPointerHandler.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},MsPointerHandler}(_),b=function(e){function StandardPointerHandler(t,n,i){var r=e.call(this,t,n,i)||this;return r.viewHelper.linesContentDomNode.style.touchAction="none",r._installGestureHandlerTimeout=window.setTimeout((function(){if(r._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=r.viewHelper.linesContentDomNode,t.target=r.viewHelper.linesContentDomNode,r.viewHelper.linesContentDomNode.addEventListener("pointerdown",(function(n){var o=n.pointerType;"mouse"!==o?"touch"===o?(r._lastPointerType="touch",e.addPointer(n.pointerId)):(r._lastPointerType="pen",t.addPointer(n.pointerId)):r._lastPointerType="mouse"})),r._register(o.m(r.viewHelper.linesContentDomNode,"MSGestureChange",(function(e){return r._onGestureChange(e)}),gestureChangeEventMerger)),r._register(o.j(r.viewHelper.linesContentDomNode,"MSGestureTap",(function(e){return r._onCaptureGestureTap(e)}),!0))}}),100),r._lastPointerType="mouse",r}return S(StandardPointerHandler,e),StandardPointerHandler.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},StandardPointerHandler.prototype._onCaptureGestureTap=function(e){var t=this,n=new d.b(e,this.viewHelper.viewDomNode),o=this._createMouseTarget(n,!1);o.position&&this.viewController.moveTo(o.position),n.browserEvent.fromElement?(n.preventDefault(),this.viewHelper.focusTextArea()):setTimeout((function(){t.viewHelper.focusTextArea()}))},StandardPointerHandler.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},StandardPointerHandler.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},StandardPointerHandler}(_),x=function(e){function PointerEventHandler(t,n,i){var a=e.call(this,t,n,i)||this;a._register(r.b.addTarget(a.viewHelper.linesContentDomNode)),a._register(o.j(a.viewHelper.linesContentDomNode,r.a.Tap,(function(e){return a.onTap(e)}))),a._register(o.j(a.viewHelper.linesContentDomNode,r.a.Change,(function(e){return a.onChange(e)}))),a._register(o.j(a.viewHelper.linesContentDomNode,r.a.Contextmenu,(function(e){return a._onContextMenu(new d.b(e,a.viewHelper.viewDomNode),!1)}))),a._lastPointerType="mouse",a._register(o.j(a.viewHelper.linesContentDomNode,"pointerdown",(function(e){var t=e.pointerType;a._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));var s=new d.d(a.viewHelper.viewDomNode);return a._register(s.onPointerMoveThrottled(a.viewHelper.viewDomNode,(function(e){return a._onMouseMove(e)}),createMouseMoveEventMerger(a.mouseTargetFactory),_.MOUSE_MOVE_MINIMUM_TIME)),a._register(s.onPointerUp(a.viewHelper.viewDomNode,(function(e){return a._onMouseUp(e)}))),a._register(s.onPointerLeave(a.viewHelper.viewDomNode,(function(e){return a._onMouseLeave(e)}))),a._register(s.onPointerDown(a.viewHelper.viewDomNode,(function(e){return a._onMouseDown(e)}))),a}return S(PointerEventHandler,e),PointerEventHandler.prototype.onTap=function(e){if(e.initialTarget&&this.viewHelper.linesContentDomNode.contains(e.initialTarget)){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new d.b(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}},PointerEventHandler.prototype.onChange=function(e){"touch"===this._lastPointerType&&this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},PointerEventHandler.prototype._onMouseDown=function(t){t.target&&this.viewHelper.linesContentDomNode.contains(t.target)&&"touch"===this._lastPointerType||e.prototype._onMouseDown.call(this,t)},PointerEventHandler}(_),T=function(e){function TouchHandler(t,n,i){var a=e.call(this,t,n,i)||this;return a._register(r.b.addTarget(a.viewHelper.linesContentDomNode)),a._register(o.j(a.viewHelper.linesContentDomNode,r.a.Tap,(function(e){return a.onTap(e)}))),a._register(o.j(a.viewHelper.linesContentDomNode,r.a.Change,(function(e){return a.onChange(e)}))),a._register(o.j(a.viewHelper.linesContentDomNode,r.a.Contextmenu,(function(e){return a._onContextMenu(new d.b(e,a.viewHelper.viewDomNode),!1)}))),a}return S(TouchHandler,e),TouchHandler.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new d.b(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.moveTo(t.position)},TouchHandler.prototype.onChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},TouchHandler}(_),M=function(e){function PointerHandler(t,n,o){var r=e.call(this)||this;return window.navigator.msPointerEnabled?r.handler=r._register(new w(t,n,o)):i.c&&y.a.pointerEvents?r.handler=r._register(new x(t,n,o)):window.TouchEvent?r.handler=r._register(new T(t,n,o)):window.navigator.pointerEnabled||window.PointerEvent?r.handler=r._register(new b(t,n,o)):r.handler=r._register(new _(t,n,o)),r}return S(PointerHandler,e),PointerHandler.prototype.getTargetAtClientPoint=function(e,t){return this.handler.getTargetAtClientPoint(e,t)},PointerHandler}(a.a)},o39E:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("pmY6"),i=n("EffR"),r=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),a=function(e){function ElementSizeObserver(t,n,o){var i=e.call(this)||this;return i.referenceDomElement=t,i.changeCallback=o,i.width=-1,i.height=-1,i.mutationObserver=null,i.windowSizeListener=null,i.measureReferenceDomElement(!1,n),i}return r(ElementSizeObserver,e),ElementSizeObserver.prototype.dispose=function(){this.stopObserving(),e.prototype.dispose.call(this)},ElementSizeObserver.prototype.getWidth=function(){return this.width},ElementSizeObserver.prototype.getHeight=function(){return this.height},ElementSizeObserver.prototype.startObserving=function(){var e=this;!this.mutationObserver&&this.referenceDomElement&&(this.mutationObserver=new MutationObserver((function(){return e._onDidMutate()})),this.mutationObserver.observe(this.referenceDomElement,{attributes:!0})),this.windowSizeListener||(this.windowSizeListener=i.j(window,"resize",(function(){return e._onDidResizeWindow()})))},ElementSizeObserver.prototype.stopObserving=function(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.windowSizeListener&&(this.windowSizeListener.dispose(),this.windowSizeListener=null)},ElementSizeObserver.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},ElementSizeObserver.prototype._onDidMutate=function(){this.measureReferenceDomElement(!0)},ElementSizeObserver.prototype._onDidResizeWindow=function(){this.measureReferenceDomElement(!0)},ElementSizeObserver.prototype.measureReferenceDomElement=function(e,t){var n=0,o=0;t?(n=t.width,o=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,o=this.referenceDomElement.clientHeight),n=Math.max(5,n),o=Math.max(5,o),this.width===n&&this.height===o||(this.width=n,this.height=o,e&&this.changeCallback())},ElementSizeObserver}(o.a)},uuFI:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return v}));var o=n("D3Dy"),i=n("QRuL"),r=n("Qkc2"),a=n("bsmE"),s=n("cGHE"),u=n("aokT"),l=n("Ll0s"),c=n("EffR"),d=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),p=function p(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t},h=function(){function MouseTarget(e,t,n,o,i,r){void 0===n&&(n=0),void 0===o&&(o=null),void 0===i&&(i=null),void 0===r&&(r=null),this.element=e,this.type=t,this.mouseColumn=n,this.position=o,!i&&o&&(i=new u.a(o.lineNumber,o.column,o.lineNumber,o.column)),this.range=i,this.detail=r}return MouseTarget._typeToString=function(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"},MouseTarget.toString=function(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail},MouseTarget.prototype.toString=function(){return MouseTarget.toString(this)},MouseTarget}(),f=function(){function ElementPath(){}return ElementPath.isTextArea=function(e){return 2===e.length&&3===e[0]&&6===e[1]},ElementPath.isChildOfViewLines=function(e){return e.length>=4&&3===e[0]&&7===e[3]},ElementPath.isStrictChildOfViewLines=function(e){return e.length>4&&3===e[0]&&7===e[3]},ElementPath.isChildOfScrollableElement=function(e){return e.length>=2&&3===e[0]&&5===e[1]},ElementPath.isChildOfMinimap=function(e){return e.length>=2&&3===e[0]&&8===e[1]},ElementPath.isChildOfContentWidgets=function(e){return e.length>=4&&3===e[0]&&1===e[3]},ElementPath.isChildOfOverflowingContentWidgets=function(e){return e.length>=1&&2===e[0]},ElementPath.isChildOfOverlayWidgets=function(e){return e.length>=2&&3===e[0]&&4===e[1]},ElementPath}(),m=function(){function HitTestContext(e,t,n){this.model=e.model;var o=e.configuration.options;this.layoutInfo=o.get(107),this.viewDomNode=t.viewDomNode,this.lineHeight=o.get(49),this.typicalHalfwidthCharacterWidth=o.get(34).typicalHalfwidthCharacterWidth,this.lastRenderData=n,this._context=e,this._viewHelper=t}return HitTestContext.prototype.getZoneAtCoord=function(e){return HitTestContext.getZoneAtCoord(this._context,e)},HitTestContext.getZoneAtCoord=function(e,t){var n=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(n){var o=n.verticalOffset+n.height/2,i=e.model.getLineCount(),r=null,a=void 0,u=null;return n.afterLineNumber!==i&&(u=new s.a(n.afterLineNumber+1,1)),n.afterLineNumber>0&&(r=new s.a(n.afterLineNumber,e.model.getLineMaxColumn(n.afterLineNumber))),a=null===u?r:null===r?u:t<o?r:u,{viewZoneId:n.id,afterLineNumber:n.afterLineNumber,positionBefore:r,positionAfter:u,position:a}}return null},HitTestContext.prototype.getFullLineRangeAtCoord=function(e){if(this._context.viewLayout.isAfterLines(e)){var t=this._context.model.getLineCount(),n=this._context.model.getLineMaxColumn(t);return{range:new u.a(t,n,t,n),isAfterLines:!0}}var o=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(o);return{range:new u.a(o,1,o,i),isAfterLines:!1}},HitTestContext.prototype.getLineNumberAtVerticalOffset=function(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)},HitTestContext.prototype.isAfterLines=function(e){return this._context.viewLayout.isAfterLines(e)},HitTestContext.prototype.getVerticalOffsetForLineNumber=function(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)},HitTestContext.prototype.findAttribute=function(e,t){return HitTestContext._findAttribute(e,t,this._viewHelper.viewDomNode)},HitTestContext._findAttribute=function(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null},HitTestContext.prototype.getLineWidth=function(e){return this._viewHelper.getLineWidth(e)},HitTestContext.prototype.visibleRangeForPosition=function(e,t){return this._viewHelper.visibleRangeForPosition(e,t)},HitTestContext.prototype.getPositionFromDOMInfo=function(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)},HitTestContext.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()},HitTestContext.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()},HitTestContext}(),g=function(e){function HitTestRequest(t,n,o,i){var a=e.call(this,t,n,o)||this;return a._ctx=t,i?(a.target=i,a.targetPath=r.a.collect(i,t.viewDomNode)):(a.target=null,a.targetPath=new Uint8Array(0)),a}return d(HitTestRequest,e),HitTestRequest.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+"\n\ttarget: "+(this.target?this.target.outerHTML:null)},HitTestRequest.prototype.fulfill=function(e,t,n,o){void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null);var i=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(i=l.a.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getOptions().tabSize)+1),new h(this.target,e,i,t,n,o)},HitTestRequest.prototype.withTarget=function(e){return new HitTestRequest(this._ctx,this.editorPos,this.pos,e)},HitTestRequest}((function BareHitTestRequest(e,t,n){this.editorPos=t,this.pos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+n.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+n.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=n.x-t.x<e.layoutInfo.contentLeft&&n.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,v._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))})),_={isAfterLines:!0};function createEmptyContentDataInLines(e){return{isAfterLines:!1,horizontalDistanceToText:e}}var v=function(){function MouseTargetFactory(e,t){this._context=e,this._viewHelper=t}return MouseTargetFactory.prototype.mouseTargetIsWidget=function(e){var t=e.target,n=r.a.collect(t,this._viewHelper.viewDomNode);return!(!f.isChildOfContentWidgets(n)&&!f.isChildOfOverflowingContentWidgets(n))||!!f.isChildOfOverlayWidgets(n)},MouseTargetFactory.prototype.createMouseTarget=function(e,t,n,o){var i=new m(this._context,this._viewHelper,e),r=new g(i,t,n,o);try{return MouseTargetFactory._createMouseTarget(i,r,!1)}catch(e){return r.fulfill(0)}},MouseTargetFactory._createMouseTarget=function(e,t,n){if(null===t.target){if(n)return t.fulfill(0);var o=MouseTargetFactory._doHitTest(e,t);return o.position?MouseTargetFactory.createMouseTargetFromHitTestPosition(e,t,o.position.lineNumber,o.position.column):this._createMouseTarget(e,t.withTarget(o.hitTarget),!0)}var i=t,r=null;return(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r||MouseTargetFactory._hitTestContentWidget(e,i))||MouseTargetFactory._hitTestOverlayWidget(e,i))||MouseTargetFactory._hitTestMinimap(e,i))||MouseTargetFactory._hitTestScrollbarSlider(e,i))||MouseTargetFactory._hitTestViewZone(e,i))||MouseTargetFactory._hitTestMargin(e,i))||MouseTargetFactory._hitTestViewCursor(e,i))||MouseTargetFactory._hitTestTextArea(e,i))||MouseTargetFactory._hitTestViewLines(e,i,n))||MouseTargetFactory._hitTestScrollbar(e,i))||t.fulfill(0)},MouseTargetFactory._hitTestContentWidget=function(e,t){if(f.isChildOfContentWidgets(t.targetPath)||f.isChildOfOverflowingContentWidgets(t.targetPath)){var n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(9,null,null,n):t.fulfill(0)}return null},MouseTargetFactory._hitTestOverlayWidget=function(e,t){if(f.isChildOfOverlayWidgets(t.targetPath)){var n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(12,null,null,n):t.fulfill(0)}return null},MouseTargetFactory._hitTestViewCursor=function(e,t){if(t.target)for(var n=0,o=r=e.lastRenderData.lastViewCursorsRenderData;n<o.length;n++){var i=o[n];if(t.target===i.domNode)return t.fulfill(6,i.position)}if(t.isInContentArea)for(var r=e.lastRenderData.lastViewCursorsRenderData,a=t.mouseContentHorizontalOffset,s=t.mouseVerticalOffset,u=0,l=r;u<l.length;u++){if(!(a<(i=l[u]).contentLeft)&&!(a>i.contentLeft+i.width)){var c=e.getVerticalOffsetForLineNumber(i.position.lineNumber);if(c<=s&&s<=c+i.height)return t.fulfill(6,i.position)}}return null},MouseTargetFactory._hitTestViewZone=function(e,t){var n=e.getZoneAtCoord(t.mouseVerticalOffset);if(n){var o=t.isInContentArea?8:5;return t.fulfill(o,n.position,null,n)}return null},MouseTargetFactory._hitTestTextArea=function(e,t){return f.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null},MouseTargetFactory._hitTestMargin=function(e,t){if(t.isInMarginArea){var n=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),o=n.range.getStartPosition(),i=Math.abs(t.pos.x-t.editorPos.x),r={isAfterLines:n.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:i};return(i-=e.layoutInfo.glyphMarginLeft)<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,o,n.range,r):(i-=e.layoutInfo.glyphMarginWidth)<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,o,n.range,r):(i-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,o,n.range,r))}return null},MouseTargetFactory._hitTestViewLines=function(e,t,n){if(!f.isChildOfViewLines(t.targetPath))return null;if(e.isAfterLines(t.mouseVerticalOffset)){var o=e.model.getLineCount(),i=e.model.getLineMaxColumn(o);return t.fulfill(7,new s.a(o,i),void 0,_)}if(n){if(f.isStrictChildOfViewLines(t.targetPath)){var r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.model.getLineLength(r)){var a=e.getLineWidth(r),u=createEmptyContentDataInLines(t.mouseContentHorizontalOffset-a);return t.fulfill(7,new s.a(r,1),void 0,u)}var l=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>=l){u=createEmptyContentDataInLines(t.mouseContentHorizontalOffset-l);var c=new s.a(r,e.model.getLineMaxColumn(r));return t.fulfill(7,c,void 0,u)}}return t.fulfill(0)}var d=MouseTargetFactory._doHitTest(e,t);return d.position?MouseTargetFactory.createMouseTargetFromHitTestPosition(e,t,d.position.lineNumber,d.position.column):this._createMouseTarget(e,t.withTarget(d.hitTarget),!0)},MouseTargetFactory._hitTestMinimap=function(e,t){if(f.isChildOfMinimap(t.targetPath)){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(n);return t.fulfill(11,new s.a(n,o))}return null},MouseTargetFactory._hitTestScrollbarSlider=function(e,t){if(f.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){var n=t.target.className;if(n&&/\b(slider|scrollbar)\b/.test(n)){var o=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(o);return t.fulfill(11,new s.a(o,i))}}return null},MouseTargetFactory._hitTestScrollbar=function(e,t){if(f.isChildOfScrollableElement(t.targetPath)){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(n);return t.fulfill(11,new s.a(n,o))}return null},MouseTargetFactory.prototype.getMouseColumn=function(e,t){var n=this._context.configuration.options,o=n.get(107),i=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-o.contentLeft;return MouseTargetFactory._getMouseColumn(i,n.get(34).typicalHalfwidthCharacterWidth)},MouseTargetFactory._getMouseColumn=function(e,t){return e<0?1:Math.round(e/t)+1},MouseTargetFactory.createMouseTargetFromHitTestPosition=function(e,t,n,i){var r=new s.a(n,i),a=e.getLineWidth(n);if(t.mouseContentHorizontalOffset>a){if(o.e&&1===r.column){var l=createEmptyContentDataInLines(t.mouseContentHorizontalOffset-a);return t.fulfill(7,new s.a(n,e.model.getLineMaxColumn(n)),void 0,l)}var c=createEmptyContentDataInLines(t.mouseContentHorizontalOffset-a);return t.fulfill(7,r,void 0,c)}var d=e.visibleRangeForPosition(n,i);if(!d)return t.fulfill(0,r);var p=d.left;if(t.mouseContentHorizontalOffset===p)return t.fulfill(6,r);var h=[];if(h.push({offset:d.left,column:i}),i>1){var f=e.visibleRangeForPosition(n,i-1);f&&h.push({offset:f.left,column:i-1})}if(i<e.model.getLineMaxColumn(n)){var m=e.visibleRangeForPosition(n,i+1);m&&h.push({offset:m.left,column:i+1})}h.sort((function(e,t){return e.offset-t.offset}));for(var g=1;g<h.length;g++){var _=h[g-1],v=h[g];if(_.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=v.offset){var C=new u.a(n,_.column,n,v.column);return t.fulfill(6,r,C)}}return t.fulfill(6,r)},MouseTargetFactory._doHitTestWithCaretRangeFromPoint=function(e,t){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.getVerticalOffsetForLineNumber(n)+Math.floor(e.lineHeight/2),r=t.pos.y+(o-t.mouseVerticalOffset);r<=t.editorPos.y&&(r=t.editorPos.y+1),r>=t.editorPos.y+e.layoutInfo.height&&(r=t.editorPos.y+e.layoutInfo.height-1);var a=new i.f(t.pos.x,r),s=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return s.position?s:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())},MouseTargetFactory._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var n,o=c.E(e.viewDomNode);if(!(n=o?void 0===o.caretRangeFromPoint?function shadowCaretRangeFromPoint(e,t,n){var o=document.createRange(),i=e.elementFromPoint(t,n);if(null!==i){for(;i&&i.firstChild&&i.firstChild.nodeType!==i.firstChild.TEXT_NODE;)i=i.lastChild;var r=i.getBoundingClientRect(),a=window.getComputedStyle(i,null).getPropertyValue("font"),s=i.innerText,u=r.left,l=0,c=void 0;if(t>r.left+r.width)l=s.length;else for(var d=C.getInstance(),p=0;p<s.length+1;p++){if(t<(u+=c=d.getCharWidth(s.charAt(p),a)/2)){l=p;break}u+=c}o.setStart(i.firstChild,l),o.setEnd(i.firstChild,l)}return o}(o,t.clientX,t.clientY):o.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY))||!n.startContainer)return{position:null,hitTarget:null};var i=n.startContainer,r=null;if(i.nodeType===i.TEXT_NODE){var s=(l=(u=i.parentNode)?u.parentNode:null)?l.parentNode:null;if((s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===a.b.CLASS_NAME)return{position:e.getPositionFromDOMInfo(u,n.startOffset),hitTarget:null};r=i.parentNode}else if(i.nodeType===i.ELEMENT_NODE){var u,l;if(((l=(u=i.parentNode)?u.parentNode:null)&&l.nodeType===l.ELEMENT_NODE?l.className:null)===a.b.CLASS_NAME)return{position:e.getPositionFromDOMInfo(i,i.textContent.length),hitTarget:null};r=i}return{position:null,hitTarget:r}},MouseTargetFactory._doHitTestWithCaretPositionFromPoint=function(e,t){var n=document.caretPositionFromPoint(t.clientX,t.clientY);if(n.offsetNode.nodeType===n.offsetNode.TEXT_NODE){var o=n.offsetNode.parentNode,i=o?o.parentNode:null,r=i?i.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===a.b.CLASS_NAME?{position:e.getPositionFromDOMInfo(n.offsetNode.parentNode,n.offset),hitTarget:null}:{position:null,hitTarget:n.offsetNode.parentNode}}return{position:null,hitTarget:n.offsetNode}},MouseTargetFactory._doHitTestWithMoveToPoint=function(e,t){var n=null,o=null,i=document.body.createTextRange();try{i.moveToPoint(t.clientX,t.clientY)}catch(e){return{position:null,hitTarget:null}}i.collapse(!0);var r=i?i.parentElement():null,s=r?r.parentNode:null,u=s?s.parentNode:null;if((u&&u.nodeType===u.ELEMENT_NODE?u.className:"")===a.b.CLASS_NAME){var l=i.duplicate();l.moveToElementText(r),l.setEndPoint("EndToStart",i),n=e.getPositionFromDOMInfo(r,l.text.length),l.moveToElementText(e.viewDomNode)}else o=r;return i.moveToElementText(e.viewDomNode),{position:n,hitTarget:o}},MouseTargetFactory._doHitTest=function(e,t){return"function"==typeof document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(e,t.pos.toClientCoordinates()):{position:null,hitTarget:null}},MouseTargetFactory}();var C=function(){function CharWidthReader(){this._cache={},this._canvas=document.createElement("canvas")}return CharWidthReader.getInstance=function(){return CharWidthReader._INSTANCE||(CharWidthReader._INSTANCE=new CharWidthReader),CharWidthReader._INSTANCE},CharWidthReader.prototype.getCharWidth=function(e,t){var n=e+t;if(this._cache[n])return this._cache[n];var o=this._canvas.getContext("2d");o.font=t;var i=o.measureText(e).width;return this._cache[n]=i,i},CharWidthReader._INSTANCE=null,CharWidthReader}()},vATl:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return C}));var o=n("N0LK"),i=n("JQT/"),r=n("pmY6"),a=n("sswD"),s=n("T8No"),u=n("24hK"),l=n("Cg/j"),c=n("9fML"),d=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),p=Object(l.c)("IEditorCancelService"),h=new s.d("cancellableOperation",!1);Object(c.b)(p,function(){function class_1(){this._tokens=new WeakMap}return class_1.prototype.add=function(e,t){var n,o=this._tokens.get(e);return o||(o=e.invokeWithinContext((function(e){return{key:h.bindTo(e.get(s.c)),tokens:new u.a}})),this._tokens.set(e,o)),o.key.set(!0),n=o.tokens.push(t),function(){n&&(n(),o.key.set(!o.tokens.isEmpty()),n=void 0)}},class_1.prototype.cancel=function(e){var t=this._tokens.get(e);if(t){var n=t.tokens.pop();n&&(n.cancel(),t.key.set(!t.tokens.isEmpty()))}},class_1}(),!0);var f=function(e){function EditorKeybindingCancellationTokenSource(t,n){var o=e.call(this,n)||this;return o.editor=t,o._unregister=t.invokeWithinContext((function(e){return e.get(p).add(t,o)})),o}return d(EditorKeybindingCancellationTokenSource,e),EditorKeybindingCancellationTokenSource.prototype.dispose=function(){this._unregister(),e.prototype.dispose.call(this)},EditorKeybindingCancellationTokenSource}(i.b);Object(a.g)(new(function(e){function class_2(){return e.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:h})||this}return d(class_2,e),class_2.prototype.runEditorCommand=function(e,t){e.get(p).cancel(t)},class_2}(a.c)));var m=function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),g=function(){function EditorState(e,t){if(this.flags=t,0!=(1&this.flags)){var n=e.getModel();this.modelVersionId=n?o.r("{0}#{1}",n.uri.toString(),n.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=e.getPosition():this.position=null,0!=(2&this.flags)?this.selection=e.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}return EditorState.prototype._equals=function(e){if(!(e instanceof EditorState))return!1;var t=e;return this.modelVersionId===t.modelVersionId&&(this.scrollLeft===t.scrollLeft&&this.scrollTop===t.scrollTop&&(!(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position))&&!(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))))},EditorState.prototype.validate=function(e){return this._equals(new EditorState(e,this.flags))},EditorState}(),_=function(e){function EditorStateCancellationTokenSource(t,n,o){var i=e.call(this,t,o)||this;return i.editor=t,i._listener=new r.b,4&n&&i._listener.add(t.onDidChangeCursorPosition((function(e){return i.cancel()}))),2&n&&i._listener.add(t.onDidChangeCursorSelection((function(e){return i.cancel()}))),8&n&&i._listener.add(t.onDidScrollChange((function(e){return i.cancel()}))),1&n&&(i._listener.add(t.onDidChangeModel((function(e){return i.cancel()}))),i._listener.add(t.onDidChangeModelContent((function(e){return i.cancel()})))),i}return m(EditorStateCancellationTokenSource,e),EditorStateCancellationTokenSource.prototype.dispose=function(){this._listener.dispose(),e.prototype.dispose.call(this)},EditorStateCancellationTokenSource}(f),v=function(e){function TextModelCancellationTokenSource(t,n){var o=e.call(this,n)||this;return o._listener=t.onDidChangeContent((function(){return o.cancel()})),o}return m(TextModelCancellationTokenSource,e),TextModelCancellationTokenSource.prototype.dispose=function(){this._listener.dispose(),e.prototype.dispose.call(this)},TextModelCancellationTokenSource}(i.b),C=function(){function StableEditorScrollState(e,t){this._visiblePosition=e,this._visiblePositionScrollDelta=t}return StableEditorScrollState.capture=function(e){var t=null,n=0;if(0!==e.getScrollTop()){var o=e.getVisibleRanges();if(o.length>0){t=o[0].getStartPosition();var i=e.getTopForPosition(t.lineNumber,t.column);n=e.getScrollTop()-i}}return new StableEditorScrollState(t,n)},StableEditorScrollState.prototype.restore=function(e){if(this._visiblePosition){var t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}},StableEditorScrollState}()}}]);
//# sourceMappingURL=651.f54ac5889a8b290033f9.chunk.js.map